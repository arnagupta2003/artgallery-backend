import{a as Hn}from"./chunk-SG6WIVG6.js";import{$ as L,$a as fi,Ad as Zi,Ae as _n,B as pt,Bc as qn,Bd as qi,Be as Ot,Bf as de,Bg as Ut,C as s,Cb as yi,Cc as At,Cd as Hi,Ce as Vt,Cf as be,D as d,Dc as ki,Dd as zi,De as Gt,Dg as An,E as m,Eb as bi,Ed as Ui,Ee as Zt,Eg as jt,F as Qe,Fb as ae,Fc as Li,Fd as ji,Fg as z,G as Ye,Ga as E,Gb as ht,Gd as Wi,Ge as ne,Gf as zt,Ha as Ze,Hd as Ki,He as se,Hf as Ct,Hg as En,I as S,Ia as Y,Id as Qi,Ie as qt,If as q,J as _,Jb as re,Jc as Ai,Jd as Yi,Je as vn,Jf as O,K as f,Ka as je,Kb as he,Kc as nt,Kd as Xi,Kf as H,Ld as Ji,Le as fe,Lf as V,Lg as ue,Mb as le,Md as en,Me as ft,Mf as G,Mg as xe,N as Bt,Na as mi,Nb as et,Nc as T,Nd as tn,Ne as yn,O as ni,Oa as ce,Ob as tt,Od as nn,Og as Mn,P as ct,Pa as ui,Pb as it,Pd as on,Pf as Dn,Q as mt,Qb as Fi,Qd as an,Qf as Pn,Qg as Be,R as J,Ra as Xe,Rb as Ti,Rd as rn,Rf as xn,S as g,Sd as ln,Sf as Fe,T as I,Ta as gi,Td as sn,Tf as Te,U as C,Ud as dn,V as ut,Vb as me,Vd as pn,Ve as bn,Vf as Se,Vg as ke,Wb as Si,Wd as cn,We as ot,Wf as Ee,Wg as vt,X as oi,Xa as hi,Xb as Ii,Xf as Ie,Xg as yt,Y as ai,Yg as bt,Z as ri,Ze as we,Zg as Pe,_e as at,_g as lt,aa as j,ab as qe,af as rt,b as Yt,bc as K,bf as Ne,bg as De,c as Xt,ca as li,cb as Je,d as Ke,db as kt,e as It,ea as r,eb as Lt,ec as ze,ef as Ht,f as Jt,fa as l,fc as Ue,fe as mn,ff as Fn,fg as Oe,g as y,ga as P,gb as D,ge as $t,h as b,ha as si,he as wt,hf as Re,ia as ee,ie as Nt,j as Ge,ja as pe,je as un,jg as M,ka as di,kb as gt,l as ei,lb as Gn,le as gn,m as ti,ma as U,mf as Tn,n as a,na as N,ne as hn,o as Dt,ob as Ci,oe as R,pb as _i,pd as Et,pe as Rt,pf as Sn,q as v,qb as ge,qd as Ei,qg as _t,rb as vi,rc as Di,rd as Mi,rf as In,rg as Z,s as B,sb as k,sc as Pi,sd as $i,t as ii,ta as A,tc as xi,td as wi,u as Pt,ub as He,ud as Ni,ug as Bn,va as pi,vb as te,vd as Mt,vg as kn,w,wb as x,wd as Ri,wf as Ce,wg as Ln,x as u,xb as ie,xc as Bi,xd as Oi,xe as X,xf as _e,y as xt,yb as oe,yc as Zn,yd as Vi,ye as fn,yf as ve,z as o,za as ci,zd as Gi,ze as Cn,zf as ye}from"./chunk-KEHI5R4L.js";import{a as $,b as Ae,g as dt}from"./chunk-BAF7YKD7.js";var $e=dt(Zn(),1),$n=dt(Gn(),1);var Tt=dt(Hn(),1),wn=dt(qn(),1);var zn=t=>["/settings/countries",t];function Un(t,p){if(t&1&&g(0),t&2){let e=p.item;C(" ",e.id," ")}}function jn(t,p){if(t&1&&(g(0),r(1,"localeDate")),t&2){let e=p.item;C(" ",P(1,1,e.createdAt,"short")," ")}}function Wn(t,p){if(t&1&&(g(0),r(1,"localeDate")),t&2){let e=p.item;C(" ",P(1,1,e.createdAt,"short")," ")}}function Kn(t,p){if(t&1&&(s(0,"a",9)(1,"span"),g(2),d(),m(3,"clr-icon",10),d()),t&2){let e=p.item;o("routerLink",j(2,zn,e.id)),a(2),C(" ",e.name,"")}}function Qn(t,p){if(t&1&&g(0),t&2){let e=p.item;C(" ",e.code," ")}}function Yn(t,p){t&1&&(s(0,"vdr-chip",13),g(1),r(2,"translate"),d()),t&2&&(a(),I(l(2,1,"common.enabled")))}function Xn(t,p){t&1&&(s(0,"vdr-chip",14),g(1),r(2,"translate"),d()),t&2&&(a(),I(l(2,1,"common.disabled")))}function Jn(t,p){if(t&1&&u(0,Yn,3,3,"vdr-chip",11)(1,Xn,3,3,"vdr-chip",12),t&2){let e=p.item;o("ngIf",e.enabled),a(),o("ngIf",!e.enabled)}}var Kt=t=>({zoneName:t});function eo(t,p){if(t&1&&(g(0),r(1,"translate")),t&2){let e=f();I(P(1,1,"settings.add-countries-to-zone",j(4,Kt,e.zoneName)))}}function to(t,p){if(t&1){let e=S();s(0,"button",3),_("click",function(){y(e);let i=f();return b(i.cancel())}),g(1),r(2,"translate"),d(),s(3,"button",4),_("click",function(){y(e);let i=f();return b(i.add())}),g(4),r(5,"translate"),d()}if(t&2){let e=f();a(),I(l(2,3,"common.cancel")),a(2),o("disabled",!e.selectedMemberIds.length),a(),C(" ",P(5,5,"settings.add-countries-to-zone",j(8,Kt,e.zoneName))," ")}}function io(t,p){if(t&1){let e=S();s(0,"button",4),_("click",function(){y(e);let i=f().$implicit,c=f();return b(c.toggleAll(i.permissions))}),g(1),r(2,"translate"),d()}t&2&&(a(),C(" ",l(2,1,"common.toggle-all")," "))}function no(t,p){if(t&1){let e=S();s(0,"td")(1,"vdr-select-toggle",5),_("selectedChange",function(i){let c=y(e).$implicit,h=f(2);return b(h.setPermission(c.name,i))}),d()()}if(t&2){let e=p.$implicit,n=f().$implicit,i=f();xt("colspan",n.permissions.length===1?4:1),a(),o("title",e.description)("label",e.name)("disabled",i.readonly)("selected",i.activePermissions==null?null:i.activePermissions.includes(e.name))}}function oo(t,p){if(t&1&&(s(0,"tr")(1,"td",2)(2,"div")(3,"strong"),g(4),r(5,"translate"),d()(),s(6,"small"),g(7),r(8,"translate"),d(),m(9,"br"),u(10,io,3,3,"button",3),d(),u(11,no,2,5,"td",1),d()),t&2){let e=p.$implicit,n=f();a(4),I(l(5,4,e.label)),a(3),I(l(8,6,e.description)),a(3),o("ngIf",1<e.permissions.length&&!n.readonly),a(),o("ngForOf",e.permissions)}}var Ft=()=>["CreateAdministrator","UpdateAdministrator"];function ao(t,p){if(t&1){let e=S();s(0,"button",21),_("click",function(){y(e);let i=f();return b(i.create())}),g(1),r(2,"translate"),d()}if(t&2){let e=f();o("disabled",e.detailForm.invalid||e.detailForm.pristine),a(),C(" ",l(2,2,"common.create")," ")}}function ro(t,p){if(t&1){let e=S();s(0,"button",21),_("click",function(){y(e);let i=f(2);return b(i.save())}),g(1),r(2,"translate"),d()}if(t&2){let e=f(2);o("disabled",e.detailForm.invalid||e.detailForm.pristine),a(),C(" ",l(2,2,"common.update")," ")}}function lo(t,p){t&1&&u(0,ro,3,4,"button",22),t&2&&o("vdrIfPermissions","UpdateAdministrator")}function so(t,p){if(t&1&&(s(0,"vdr-card"),m(1,"vdr-page-entity-info",23),d()),t&2){let e=p.ngIf;a(),o("entity",e)}}function po(t,p){t&1&&(s(0,"vdr-form-field",24),r(1,"translate"),m(2,"input",25),d()),t&2&&o("label",l(1,1,"settings.password"))}function co(t,p){t&1&&(s(0,"vdr-form-field",26),r(1,"translate"),m(2,"input",25),d()),t&2&&o("label",l(1,2,"settings.password"))("readOnlyToggle",!0)}function mo(t,p){if(t&1&&(s(0,"vdr-card",27),r(1,"translate"),m(2,"vdr-tabbed-custom-fields",28),d()),t&2){let e=f();o("title",l(1,3,"common.custom-fields")),a(2),o("customFields",e.customFields)("customFieldsFormGroup",e.detailForm.get("customFields"))}}function uo(t,p){if(t&1){let e=S();s(0,"li",29)(1,"button",30),_("click",function(){let i=y(e).$implicit,c=f();return b(c.selectedChannelId=i.channelId)}),g(2),r(3,"channelCodeToLabel"),r(4,"translate"),d()()}if(t&2){let e=p.$implicit,n=f();a(),pt("active",n.selectedChannelId===e.channelId),o("id",e.channelId),xt("aria-selected",n.selectedChannelId===e.channelId),a(),C(" ",l(4,7,l(3,5,e.channelCode))," ")}}var Nn=()=>["CreateAdministrator"],Me=()=>["./","create"],Le=t=>["./",t];function go(t,p){t&1&&(s(0,"a",12),m(1,"clr-icon",13),g(2),r(3,"translate"),d()),t&2&&(o("routerLink",L(4,Me)),a(2),C(" ",l(3,2,"admin.create-new-administrator")," "))}function ho(t,p){if(t&1&&g(0),t&2){let e=p.item;C(" ",e.id," ")}}function fo(t,p){if(t&1&&(g(0),r(1,"localeDate")),t&2){let e=p.item;C(" ",P(1,1,e.createdAt,"short")," ")}}function Co(t,p){if(t&1&&(g(0),r(1,"localeDate")),t&2){let e=p.item;C(" ",P(1,1,e.updatedAt,"short")," ")}}function _o(t,p){if(t&1&&(s(0,"a",14)(1,"span"),g(2),d(),m(3,"clr-icon",15),d()),t&2){let e=p.item;o("routerLink",j(3,Le,e.id)),a(2),ut("",e.firstName," ",e.lastName,"")}}function vo(t,p){if(t&1&&g(0),t&2){let e=p.item;C(" ",e.emailAddress," ")}}function yo(t,p){if(t&1&&(s(0,"vdr-chip"),g(1),d()),t&2){let e=p.$implicit;a(),I(e.description)}}function bo(t,p){if(t&1&&u(0,yo,2,1,"vdr-chip",16),t&2){let e=p.item;o("ngForOf",e.user.roles)}}function Fo(t,p){if(t&1&&m(0,"vdr-dt2-custom-field-column",17),t&2){let e=p.$implicit,n=f();o("customField",e)("sorts",n.sorts)}}var To=()=>["SuperAdmin","UpdateChannel"];function So(t,p){if(t&1){let e=S();s(0,"button",32),_("click",function(){y(e);let i=f();return b(i.create())}),g(1),r(2,"translate"),d()}if(t&2){let e=f();o("disabled",!e.saveButtonEnabled()),a(),C(" ",l(2,2,"common.create")," ")}}function Io(t,p){if(t&1){let e=S();s(0,"button",32),_("click",function(){y(e);let i=f(2);return b(i.save())}),g(1),r(2,"translate"),d()}if(t&2){let e=f(2);o("disabled",!e.saveButtonEnabled()),a(),C(" ",l(2,2,"common.update")," ")}}function Do(t,p){t&1&&u(0,Io,3,4,"button",33),t&2&&o("vdrIfPermissions",L(1,To))}function Po(t,p){if(t&1&&(s(0,"vdr-card"),m(1,"vdr-page-entity-info",34),d()),t&2){let e=p.ngIf;a(),o("entity",e)}}function xo(t,p){if(t&1&&(s(0,"vdr-form-field",35),r(1,"translate"),m(2,"input",36),r(3,"hasPermission"),d()),t&2){let e=f();o("label",l(1,2,"common.code")),a(2),o("readonly",!l(3,4,e.updatePermission))}}function Bo(t,p){if(t&1&&(s(0,"vdr-form-item",37),r(1,"translate"),g(2),r(3,"channelCodeToLabel"),r(4,"translate"),d()),t&2){let e=f();o("label",l(1,2,"common.code")),a(2),C(" ",l(4,6,l(3,4,e.entity==null?null:e.entity.code))," ")}}function ko(t,p){if(t&1&&(s(0,"option",38),g(1),d()),t&2){let e=p.$implicit;o("value",e.id),a(),C(" ",e.name," ")}}function Lo(t,p){if(t&1&&(s(0,"option",38),g(1),r(2,"localeLanguageName"),r(3,"uppercase"),d()),t&2){let e=p.$implicit;o("value",e),a(),ut(" ",l(2,3,e)," (",l(3,5,e),") ")}}function Ao(t,p){if(t&1&&(s(0,"option",38),g(1),r(2,"localeCurrencyName"),d()),t&2){let e=p.$implicit;o("value",e),a(),C(" ",l(2,2,e)," ")}}function Eo(t,p){t&1&&(s(0,"clr-alert",39)(1,"clr-alert-item")(2,"span",40),g(3),r(4,"translate"),d()()()),t&2&&(o("clrAlertClosable",!1),a(3),C(" ",l(4,2,"error.no-default-tax-zone-set")," "))}function Mo(t,p){t&1&&(s(0,"clr-alert",39)(1,"clr-alert-item")(2,"span",40),g(3),r(4,"translate"),d()()()),t&2&&(o("clrAlertClosable",!1),a(3),C(" ",l(4,2,"error.no-default-shipping-zone-set")," "))}function $o(t,p){if(t&1&&(s(0,"vdr-card",41),r(1,"translate"),m(2,"vdr-tabbed-custom-fields",42),d()),t&2){let e=f();o("title",l(1,3,"common.custom-fields")),a(2),o("customFields",e.customFields)("customFieldsFormGroup",e.detailForm.get("customFields"))}}var wo=()=>["SuperAdmin","CreateChannel"];function No(t,p){t&1&&(s(0,"a",11),m(1,"clr-icon",12),g(2),r(3,"translate"),d()),t&2&&(o("routerLink",L(4,Me)),a(2),C(" ",l(3,2,"settings.create-new-channel")," "))}function Ro(t,p){if(t&1&&g(0),t&2){let e=p.item;C(" ",e.id," ")}}function Oo(t,p){if(t&1&&(g(0),r(1,"localeDate")),t&2){let e=p.item;C(" ",P(1,1,e.createdAt,"short")," ")}}function Vo(t,p){if(t&1&&(g(0),r(1,"localeDate")),t&2){let e=p.item;C(" ",P(1,1,e.updatedAt,"short")," ")}}function Go(t,p){if(t&1&&(s(0,"a",13)(1,"span"),g(2),r(3,"channelCodeToLabel"),r(4,"translate"),d(),m(5,"clr-icon",14),d()),t&2){let e=p.item;o("routerLink",j(6,Le,e.id)),a(2),I(l(4,4,l(3,2,e.code)))}}function Zo(t,p){if(t&1&&g(0),t&2){let e=p.item;C(" ",e.token," ")}}function qo(t,p){if(t&1&&m(0,"vdr-dt2-custom-field-column",15),t&2){let e=p.$implicit,n=f();o("customField",e)("sorts",n.sorts)}}function Ho(t,p){if(t&1){let e=S();s(0,"button",15),_("click",function(){y(e);let i=f();return b(i.create())}),g(1),r(2,"translate"),d()}if(t&2){let e=f();o("disabled",e.detailForm.invalid||e.detailForm.pristine),a(),C(" ",l(2,2,"common.create")," ")}}function zo(t,p){if(t&1){let e=S();s(0,"button",15),_("click",function(){y(e);let i=f(2);return b(i.save())}),g(1),r(2,"translate"),d()}if(t&2){let e=f(2);o("disabled",e.detailForm.invalid||e.detailForm.pristine),a(),C(" ",l(2,2,"common.update")," ")}}function Uo(t,p){if(t&1&&u(0,zo,3,4,"button",16),t&2){let e=f();o("vdrIfPermissions",e.updatePermission)}}function jo(t,p){if(t&1&&(s(0,"vdr-card"),m(1,"vdr-page-entity-info",17),d()),t&2){let e=p.ngIf;a(),o("entity",e)}}function Wo(t,p){if(t&1&&(s(0,"vdr-card",18),r(1,"translate"),m(2,"vdr-tabbed-custom-fields",19),d()),t&2){let e=f();o("title",l(1,3,"common.custom-fields")),a(2),o("customFields",e.customFields)("customFieldsFormGroup",e.detailForm.get("customFields"))}}var Ko=()=>["CreateSettings","CreateCountry"];function Qo(t,p){t&1&&(s(0,"a",13),m(1,"clr-icon",14),g(2),r(3,"translate"),d()),t&2&&(o("routerLink",L(4,Me)),a(2),C(" ",l(3,2,"settings.create-new-country")," "))}function Yo(t,p){if(t&1&&g(0),t&2){let e=p.item;C(" ",e.id," ")}}function Xo(t,p){if(t&1&&(g(0),r(1,"localeDate")),t&2){let e=p.item;C(" ",P(1,1,e.createdAt,"short")," ")}}function Jo(t,p){if(t&1&&(g(0),r(1,"localeDate")),t&2){let e=p.item;C(" ",P(1,1,e.updatedAt,"short")," ")}}function ea(t,p){if(t&1&&(s(0,"a",15)(1,"span"),g(2),d(),m(3,"clr-icon",16),d()),t&2){let e=p.item;o("routerLink",j(2,Le,e.id)),a(2),I(e.name)}}function ta(t,p){if(t&1&&g(0),t&2){let e=p.item;C(" ",e.code," ")}}function ia(t,p){t&1&&(s(0,"vdr-chip",19),g(1),r(2,"translate"),d()),t&2&&(a(),I(l(2,1,"common.enabled")))}function na(t,p){t&1&&(s(0,"vdr-chip",20),g(1),r(2,"translate"),d()),t&2&&(a(),I(l(2,1,"common.disabled")))}function oa(t,p){if(t&1&&u(0,ia,3,3,"vdr-chip",17)(1,na,3,3,"vdr-chip",18),t&2){let e=p.item;o("ngIf",e.enabled),a(),o("ngIf",!e.enabled)}}function aa(t,p){if(t&1&&m(0,"vdr-dt2-custom-field-column",21),t&2){let e=p.$implicit,n=f();o("customField",e)("sorts",n.sorts)}}function ra(t,p){if(t&1){let e=S();s(0,"button",12),_("click",function(){y(e);let i=f();return b(i.save())}),g(1),r(2,"translate"),d()}if(t&2){let e=f();o("disabled",e.detailForm.invalid||e.detailForm.pristine),a(),C(" ",l(2,2,"common.update")," ")}}function la(t,p){if(t&1&&(s(0,"vdr-card",13),r(1,"translate"),m(2,"vdr-tabbed-custom-fields",14),r(3,"hasPermission"),d()),t&2){let e=f();o("title",l(1,4,"common.custom-fields")),a(2),o("customFields",e.customFields)("customFieldsFormGroup",e.detailForm.get("customFields"))("readonly",!l(3,6,e.updatePermission))}}function sa(t,p){if(t&1){let e=S();s(0,"button",19),_("click",function(){y(e);let i=f();return b(i.create())}),g(1),r(2,"translate"),d()}if(t&2){let e=f();o("disabled",e.detailForm.pristine||e.detailForm.invalid||!e.selectedHandler),a(),C(" ",l(2,2,"common.create")," ")}}function da(t,p){if(t&1){let e=S();s(0,"button",19),_("click",function(){y(e);let i=f(2);return b(i.save())}),g(1),r(2,"translate"),d()}if(t&2){let e=f(2);o("disabled",e.detailForm.pristine||e.detailForm.invalid||!e.selectedHandler),a(),C(" ",l(2,2,"common.update")," ")}}function pa(t,p){if(t&1&&u(0,da,3,4,"button",20),t&2){let e=f();o("vdrIfPermissions",e.updatePermission)}}function ca(t,p){if(t&1&&(s(0,"vdr-card"),m(1,"vdr-page-entity-info",21),d()),t&2){let e=p.ngIf;a(),o("entity",e)}}function ma(t,p){if(t&1&&(s(0,"vdr-card",22),r(1,"translate"),m(2,"vdr-tabbed-custom-fields",23),d()),t&2){let e=f();o("title",l(1,3,"common.custom-fields")),a(2),o("customFields",e.customFields)("customFieldsFormGroup",e.detailForm.get("customFields"))}}function ua(t,p){if(t&1){let e=S();s(0,"vdr-configurable-input",24),r(1,"hasPermission"),_("remove",function(){y(e);let i=f();return b(i.removeChecker())}),d()}if(t&2){let e=f();o("operation",e.selectedChecker)("operationDefinition",e.selectedCheckerDefinition)("readonly",!l(1,3,e.updatePermission))}}function ga(t,p){if(t&1){let e=S();s(0,"button",29),_("click",function(){let i=y(e).$implicit,c=f(2);return b(c.selectChecker(i))}),g(1),d()}if(t&2){let e=p.$implicit;a(),C(" ",e.description," ")}}function ha(t,p){if(t&1&&(s(0,"div")(1,"vdr-dropdown")(2,"button",25),m(3,"clr-icon",26),g(4),r(5,"translate"),d(),s(6,"vdr-dropdown-menu",27),u(7,ga,2,1,"button",28),d()()()),t&2){let e=f();a(4),C(" ",l(5,2,"common.select")," "),a(3),o("ngForOf",e.checkers)}}function fa(t,p){if(t&1){let e=S();s(0,"vdr-configurable-input",30),r(1,"hasPermission"),_("remove",function(){y(e);let i=f();return b(i.removeHandler())}),d()}if(t&2){let e=f();o("operation",e.selectedHandler)("operationDefinition",e.selectedHandlerDefinition)("readonly",!l(1,3,e.updatePermission))}}function Ca(t,p){if(t&1){let e=S();s(0,"button",29),_("click",function(){let i=y(e).$implicit,c=f(2);return b(c.selectHandler(i))}),g(1),d()}if(t&2){let e=p.$implicit;a(),C(" ",e.description," ")}}function _a(t,p){if(t&1&&(s(0,"div")(1,"vdr-dropdown")(2,"button",25),m(3,"clr-icon",26),g(4),r(5,"translate"),d(),s(6,"vdr-dropdown-menu",27),u(7,Ca,2,1,"button",28),d()()()),t&2){let e=f();a(4),C(" ",l(5,2,"common.select")," "),a(3),o("ngForOf",e.handlers)}}var va=()=>["CreateSettings","CreatePaymentMethod"];function ya(t,p){t&1&&(s(0,"a",13),m(1,"clr-icon",14),g(2),r(3,"translate"),d()),t&2&&(o("routerLink",L(4,Me)),a(2),C(" ",l(3,2,"settings.create-new-payment-method")," "))}function ba(t,p){if(t&1&&g(0),t&2){let e=p.item;C(" ",e.id," ")}}function Fa(t,p){if(t&1&&(g(0),r(1,"localeDate")),t&2){let e=p.item;C(" ",P(1,1,e.createdAt,"short")," ")}}function Ta(t,p){if(t&1&&(g(0),r(1,"localeDate")),t&2){let e=p.item;C(" ",P(1,1,e.updatedAt,"short")," ")}}function Sa(t,p){if(t&1&&(s(0,"a",15)(1,"span"),g(2),d(),m(3,"clr-icon",16),d()),t&2){let e=p.item;o("routerLink",j(2,Le,e.id)),a(2),I(e.name)}}function Ia(t,p){if(t&1&&g(0),t&2){let e=p.item;C(" ",e.code," ")}}function Da(t,p){t&1&&(s(0,"vdr-chip",19),g(1),r(2,"translate"),d()),t&2&&(a(),I(l(2,1,"common.enabled")))}function Pa(t,p){t&1&&(s(0,"vdr-chip",20),g(1),r(2,"translate"),d()),t&2&&(a(),I(l(2,1,"common.disabled")))}function xa(t,p){if(t&1&&u(0,Da,3,3,"vdr-chip",17)(1,Pa,3,3,"vdr-chip",18),t&2){let e=p.item;o("ngIf",e.enabled),a(),o("ngIf",!e.enabled)}}function Ba(t,p){if(t&1&&m(0,"vdr-dt2-custom-field-column",21),t&2){let e=p.$implicit,n=f();o("customField",e)("sorts",n.sorts)}}function ka(t,p){if(t&1&&(s(0,"vdr-card"),m(1,"vdr-page-entity-info",16),d()),t&2){let e=p.ngIf;a(),o("entity",e)}}function La(t,p){t&1&&(s(0,"vdr-form-field",17),r(1,"translate"),m(2,"input",13),d()),t&2&&o("label",l(1,1,"settings.password"))}function Aa(t,p){if(t&1&&(s(0,"vdr-card",18),r(1,"translate"),m(2,"vdr-tabbed-custom-fields",19),d()),t&2){let e=f();o("title",l(1,3,"common.custom-fields")),a(2),o("customFields",e.customFields)("customFieldsFormGroup",e.detailForm.get("customFields"))}}function Ea(t,p){if(t&1){let e=S();s(0,"button",15),_("click",function(){y(e);let i=f();return b(i.create())}),g(1),r(2,"translate"),d()}if(t&2){let e=f();o("disabled",e.detailForm.invalid||e.detailForm.pristine),a(),C(" ",l(2,2,"common.create")," ")}}function Ma(t,p){if(t&1){let e=S();s(0,"button",15),_("click",function(){y(e);let i=f(2);return b(i.save())}),g(1),r(2,"translate"),d()}if(t&2){let e=f(2);o("disabled",e.detailForm.invalid||e.detailForm.pristine),a(),C(" ",l(2,2,"common.update")," ")}}function $a(t,p){t&1&&u(0,Ma,3,4,"button",16),t&2&&o("vdrIfPermissions","UpdateAdministrator")}function wa(t,p){if(t&1&&(s(0,"vdr-card"),m(1,"vdr-page-entity-info",17),d()),t&2){let e=p.ngIf;a(),o("entity",e)}}function Na(t,p){t&1&&(s(0,"a",14),m(1,"clr-icon",15),g(2),r(3,"translate"),d()),t&2&&(o("routerLink",L(4,Me)),a(2),C(" ",l(3,2,"settings.create-new-role")," "))}function Ra(t,p){if(t&1&&g(0),t&2){let e=p.item;C(" ",e.id," ")}}function Oa(t,p){if(t&1&&(g(0),r(1,"localeDate")),t&2){let e=p.item;C(" ",P(1,1,e.createdAt,"short")," ")}}function Va(t,p){if(t&1&&(g(0),r(1,"localeDate")),t&2){let e=p.item;C(" ",P(1,1,e.updatedAt,"short")," ")}}function Ga(t,p){if(t&1&&(s(0,"a",17)(1,"span"),g(2),d(),m(3,"clr-icon",18),d()),t&2){let e=f().item;o("routerLink",j(2,Le,e.id)),a(2),I(e.description)}}function Za(t,p){if(t&1&&g(0),t&2){let e=f().item;C(" ",e.description," ")}}function qa(t,p){if(t&1&&u(0,Ga,4,4,"a",16)(1,Za,1,1,"ng-template",null,0,ee),t&2){let e=p.item,n=J(2),i=f();o("ngIf",!i.isDefaultRole(e))("ngIfElse",n)}}function Ha(t,p){if(t&1&&(s(0,"span"),g(1),d()),t&2){let e=f().item;a(),I(e.code)}}function za(t,p){if(t&1&&u(0,Ha,2,1,"span",19),t&2){let e=p.item,n=f();o("ngIf",!n.isDefaultRole(e))}}function Ua(t,p){if(t&1&&(s(0,"vdr-chip"),m(1,"vdr-channel-badge",21),s(2,"div",22),g(3),r(4,"channelCodeToLabel"),r(5,"translate"),d()()),t&2){let e=p.$implicit;a(),o("channelCode",e.code),a(2),I(l(5,4,l(4,2,e.code)))}}function ja(t,p){if(t&1&&(Qe(0),u(1,Ua,6,6,"vdr-chip",20),Ye()),t&2){let e=f().item;a(),o("ngForOf",e.channels)}}function Wa(t,p){if(t&1&&u(0,ja,2,1,"ng-container",19),t&2){let e=p.item,n=f();o("ngIf",!n.isDefaultRole(e))}}function Ka(t,p){if(t&1&&(s(0,"vdr-chip"),g(1),d()),t&2){let e=p.$implicit;a(),I(e)}}function Qa(t,p){if(t&1&&(Qe(0),m(1,"clr-icon",15),g(2),Ye()),t&2){let e=f(3).item,n=f();a(2),C(" ",e.permissions.length-n.initialLimit," ")}}function Ya(t,p){t&1&&m(0,"clr-icon",27)}function Xa(t,p){if(t&1){let e=S();s(0,"button",26),_("click",function(){y(e);let i=f(2).item,c=f();return b(c.toggleDisplayLimit(i))}),u(1,Qa,3,1,"ng-container",23)(2,Ya,1,0,"ng-template",null,1,ee),d()}if(t&2){let e=J(3),n=f(2).item,i=f();a(),o("ngIf",(i.displayLimit[n.id]||0)<n.permissions.length)("ngIfElse",e)}}function Ja(t,p){if(t&1&&(Qe(0),s(1,"div",24),u(2,Ka,2,1,"vdr-chip",20),r(3,"slice"),u(4,Xa,4,2,"button",25),d(),Ye()),t&2){let e=f().item,n=f();a(2),o("ngForOf",si(3,2,e.permissions,0,n.displayLimit[e.id]||3)),a(2),o("ngIf",e.permissions.length>n.initialLimit)}}function er(t,p){t&1&&(s(0,"span",28),g(1),r(2,"translate"),d()),t&2&&(a(),I(l(2,1,"settings.default-role-label")))}function tr(t,p){if(t&1&&u(0,Ja,5,6,"ng-container",23)(1,er,3,3,"ng-template",null,0,ee),t&2){let e=p.item,n=J(2),i=f();o("ngIf",!i.isDefaultRole(e))("ngIfElse",n)}}var ir=()=>["SuperAdmin","UpdateSeller"];function nr(t,p){if(t&1){let e=S();s(0,"button",10),_("click",function(){y(e);let i=f();return b(i.create())}),g(1),r(2,"translate"),d()}if(t&2){let e=f();o("disabled",!e.saveButtonEnabled()),a(),C(" ",l(2,2,"common.create")," ")}}function or(t,p){if(t&1){let e=S();s(0,"button",10),_("click",function(){y(e);let i=f(2);return b(i.save())}),g(1),r(2,"translate"),d()}if(t&2){let e=f(2);o("disabled",!e.saveButtonEnabled()),a(),C(" ",l(2,2,"common.update")," ")}}function ar(t,p){t&1&&u(0,or,3,4,"button",11),t&2&&o("vdrIfPermissions",L(1,ir))}function rr(t,p){if(t&1&&(s(0,"vdr-card"),m(1,"vdr-page-entity-info",12),d()),t&2){let e=p.ngIf;a(),o("entity",e)}}function lr(t,p){if(t&1&&(s(0,"vdr-card",13),r(1,"translate"),m(2,"vdr-tabbed-custom-fields",14),d()),t&2){let e=f();o("title",l(1,3,"common.custom-fields")),a(2),o("customFields",e.customFields)("customFieldsFormGroup",e.detailForm.get("customFields"))}}var sr="clr-alert[_ngcontent-%COMP%]{max-width:30rem;margin-bottom:12px}",dr=()=>["SuperAdmin","CreateSeller"];function pr(t,p){t&1&&(s(0,"a",10),m(1,"clr-icon",11),g(2),r(3,"translate"),d()),t&2&&(o("routerLink",L(4,Me)),a(2),C(" ",l(3,2,"settings.create-new-seller")," "))}function cr(t,p){if(t&1&&g(0),t&2){let e=p.item;I(e.id)}}function mr(t,p){if(t&1&&(g(0),r(1,"localeDate")),t&2){let e=p.item;C(" ",P(1,1,e.createdAt,"short")," ")}}function ur(t,p){if(t&1&&(g(0),r(1,"localeDate")),t&2){let e=p.item;C(" ",P(1,1,e.updatedAt,"short")," ")}}function gr(t,p){if(t&1&&(s(0,"a",12)(1,"span"),g(2),d(),m(3,"clr-icon",13),d()),t&2){let e=p.item;o("routerLink",j(2,Le,e.id)),a(2),I(e.name)}}function hr(t,p){if(t&1&&m(0,"vdr-dt2-custom-field-column",14),t&2){let e=p.$implicit,n=f();o("customField",e)("sorts",n.sorts)}}function fr(t,p){if(t&1&&m(0,"vdr-object-tree",10),t&2){let e=f().$implicit;o("value",e.metadata)}}function Cr(t,p){if(t&1&&(s(0,"div",5)(1,"div",6)(2,"vdr-labeled-data",7),r(3,"translate"),g(4),d(),s(5,"div",8)(6,"vdr-labeled-data",7),r(7,"translate"),g(8),r(9,"localeCurrency"),d(),s(10,"vdr-labeled-data",7),r(11,"translate"),g(12),r(13,"localeCurrency"),d()(),u(14,fr,1,1,"vdr-object-tree",9),d()()),t&2){let e=p.$implicit,n=f();a(),pt("stale",n.testDataUpdated),a(),o("label",l(3,9,"settings.shipping-method")),a(2),C(" ",e.name," "),a(2),o("label",l(7,11,"common.price")),a(2),C(" ",P(9,13,e.price,n.currencyCode)," "),a(2),o("label",l(11,16,"common.price-with-tax")),a(2),C(" ",P(13,18,e.priceWithTax,n.currencyCode)," "),a(2),o("ngIf",e.metadata)}}function _r(t,p){t&1&&(s(0,"div",5),m(1,"clr-icon",11),g(2),r(3,"translate"),d()),t&2&&(a(2),C(" ",l(3,1,"settings.no-eligible-shipping-methods")," "))}function vr(t,p){if(t&1){let e=S();s(0,"tr",8)(1,"td",9),m(2,"img",10),d(),s(3,"td",11),g(4),d(),s(5,"td",12),g(6),d(),s(7,"td",13),g(8),r(9,"localeCurrency"),d(),s(10,"td",14)(11,"input",15),ri("ngModelChange",function(i){let c=y(e).$implicit;return ai(c.quantity,i)||(c.quantity=i),b(i)}),_("change",function(){y(e);let i=f(2);return b(i.updateQuantity())}),d(),s(12,"button",16),_("click",function(){let i=y(e).$implicit,c=f(2);return b(c.removeLine(i))}),m(13,"clr-icon",17),d()(),s(14,"td",18),g(15),r(16,"localeCurrency"),d()()}if(t&2){let e=p.$implicit,n=f(2);a(2),o("src",e.preview+"?preset=tiny",ti),a(2),I(e.name),a(2),I(e.sku),a(2),C(" ",P(9,6,e.unitPriceWithTax,n.currencyCode)," "),a(3),oi("ngModel",e.quantity),a(4),C(" ",P(16,9,e.unitPriceWithTax*e.quantity,n.currencyCode)," ")}}function yr(t,p){if(t&1&&(s(0,"table",4)(1,"thead")(2,"tr"),m(3,"th"),s(4,"th"),g(5),r(6,"translate"),d(),s(7,"th"),g(8),r(9,"translate"),d(),s(10,"th"),g(11),r(12,"translate"),d(),s(13,"th"),g(14),r(15,"translate"),d(),s(16,"th"),g(17),r(18,"translate"),d()()(),u(19,vr,17,12,"tr",5),s(20,"tr",6)(21,"td",7),g(22),r(23,"translate"),d(),m(24,"td")(25,"td")(26,"td")(27,"td"),s(28,"td"),g(29),r(30,"localeCurrency"),d()()()),t&2){let e=f();a(5),I(l(6,8,"order.product-name")),a(3),I(l(9,10,"order.product-sku")),a(3),I(l(12,12,"order.unit-price")),a(3),I(l(15,14,"order.quantity")),a(3),I(l(18,16,"order.total")),a(2),o("ngForOf",e.lines),a(3),I(l(23,18,"order.sub-total")),a(7),I(P(30,20,e.subTotal,e.currencyCode))}}function br(t,p){t&1&&(s(0,"div",19)(1,"div",20),g(2),r(3,"translate"),d(),m(4,"clr-icon",21),d()),t&2&&(a(2),I(l(3,1,"settings.add-products-to-test-order")))}function Fr(t,p){if(t&1&&(s(0,"option",10),g(1),d()),t&2){let e=p.$implicit;o("value",e.code),a(),C(" ",e.name," ")}}var Tr=(t,p,e)=>({success:t,error:p,unknown:e});function Sr(t,p){t&1&&m(0,"clr-icon",14)}function Ir(t,p){t&1&&m(0,"clr-icon",15)}function Dr(t,p){t&1&&m(0,"clr-icon",16)}function Pr(t,p){if(t&1&&(s(0,"vdr-labeled-data",4),r(1,"translate"),g(2),r(3,"localeCurrency"),d()),t&2){let e=f();o("label",l(1,2,"common.price")),a(2),C(" ",P(3,4,e.testResult.quote==null?null:e.testResult.quote.price,e.currencyCode)," ")}}function xr(t,p){if(t&1&&(s(0,"vdr-labeled-data",4),r(1,"translate"),g(2),r(3,"localeCurrency"),d()),t&2){let e=f();o("label",l(1,2,"common.price-with-tax")),a(2),C(" ",P(3,4,e.testResult.quote==null?null:e.testResult.quote.priceWithTax,e.currencyCode)," ")}}function Br(t,p){if(t&1&&m(0,"vdr-object-tree",17),t&2){let e=f();o("value",e.testResult==null||e.testResult.quote==null?null:e.testResult.quote.metadata)}}function kr(t,p){if(t&1){let e=S();s(0,"button",24),_("click",function(){y(e);let i=f();return b(i.create())}),g(1),r(2,"translate"),d()}if(t&2){let e=f();o("disabled",e.detailForm.pristine||e.detailForm.invalid||!e.selectedChecker||!e.selectedCalculator),a(),C(" ",l(2,2,"common.create")," ")}}function Lr(t,p){if(t&1){let e=S();s(0,"button",24),_("click",function(){y(e);let i=f(2);return b(i.save())}),g(1),r(2,"translate"),d()}if(t&2){let e=f(2);o("disabled",e.detailForm.pristine||e.detailForm.invalid||!e.selectedChecker||!e.selectedCalculator),a(),C(" ",l(2,2,"common.update")," ")}}function Ar(t,p){if(t&1&&u(0,Lr,3,4,"button",25),t&2){let e=f();o("vdrIfPermissions",e.updatePermission)}}function Er(t,p){if(t&1&&(s(0,"vdr-card"),m(1,"vdr-page-entity-info",26),d()),t&2){let e=p.ngIf;a(),o("entity",e)}}function Mr(t,p){if(t&1&&(s(0,"option",27),g(1),d()),t&2){let e=p.$implicit;o("value",e.code),a(),ut(" ",e.code,": ",e.description," ")}}function $r(t,p){if(t&1&&(s(0,"vdr-card",28),r(1,"translate"),m(2,"vdr-tabbed-custom-fields",29),d()),t&2){let e=f();o("title",l(1,3,"common.custom-fields")),a(2),o("customFields",e.customFields)("customFieldsFormGroup",e.detailForm.get("customFields"))}}function wr(t,p){if(t&1){let e=S();s(0,"vdr-configurable-input",30),r(1,"hasPermission"),_("remove",function(){y(e);let i=f();return b(i.selectedChecker=null)}),d()}if(t&2){let e=f();o("operation",e.selectedChecker)("operationDefinition",e.selectedCheckerDefinition)("readonly",!l(1,3,e.updatePermission))}}function Nr(t,p){if(t&1){let e=S();s(0,"button",36),_("click",function(){let i=y(e).$implicit,c=f(2);return b(c.selectChecker(i))}),g(1),d()}if(t&2){let e=p.$implicit;a(),C(" ",e.description," ")}}function Rr(t,p){if(t&1&&(s(0,"div",31)(1,"vdr-dropdown")(2,"button",32),m(3,"clr-icon",33),g(4),r(5,"translate"),d(),s(6,"vdr-dropdown-menu",34),u(7,Nr,2,1,"button",35),d()()()),t&2){let e=f();a(4),C(" ",l(5,2,"common.select")," "),a(3),o("ngForOf",e.checkers)}}function Or(t,p){if(t&1){let e=S();s(0,"vdr-configurable-input",37),r(1,"hasPermission"),_("remove",function(){y(e);let i=f();return b(i.selectedCalculator=null)}),d()}if(t&2){let e=f();o("operation",e.selectedCalculator)("operationDefinition",e.selectedCalculatorDefinition)("readonly",!l(1,3,e.updatePermission))}}function Vr(t,p){if(t&1){let e=S();s(0,"button",36),_("click",function(){let i=y(e).$implicit,c=f(2);return b(c.selectCalculator(i))}),g(1),d()}if(t&2){let e=p.$implicit;a(),C(" ",e.description," ")}}function Gr(t,p){if(t&1&&(s(0,"div",31)(1,"vdr-dropdown")(2,"button",32),m(3,"clr-icon",33),g(4),r(5,"translate"),d(),s(6,"vdr-dropdown-menu",34),u(7,Vr,2,1,"button",35),d()()()),t&2){let e=f();a(4),C(" ",l(5,2,"common.select")," "),a(3),o("ngForOf",e.calculators)}}var Zr=()=>["CreateSettings","CreateShippingMethod"];function qr(t,p){t&1&&(s(0,"a",14),m(1,"clr-icon",15),g(2),r(3,"translate"),d()),t&2&&(o("routerLink",L(4,Me)),a(2),C(" ",l(3,2,"settings.create-new-shipping-method")," "))}function Hr(t,p){if(t&1&&g(0),t&2){let e=p.item;C(" ",e.id," ")}}function zr(t,p){if(t&1&&(g(0),r(1,"localeDate")),t&2){let e=p.item;C(" ",P(1,1,e.createdAt,"short")," ")}}function Ur(t,p){if(t&1&&(g(0),r(1,"localeDate")),t&2){let e=p.item;C(" ",P(1,1,e.updatedAt,"short")," ")}}function jr(t,p){if(t&1&&(s(0,"a",16)(1,"span"),g(2),d(),m(3,"clr-icon",17),d()),t&2){let e=p.item;o("routerLink",j(2,Le,e.id)),a(2),I(e.name)}}function Wr(t,p){if(t&1&&g(0),t&2){let e=p.item;C(" ",e.code," ")}}function Kr(t,p){if(t&1&&g(0),t&2){let e=p.item;C(" ",e.description," ")}}function Qr(t,p){if(t&1&&g(0),t&2){let e=p.item;C(" ",e.fulfillmentHandlerCode," ")}}function Yr(t,p){if(t&1&&m(0,"vdr-dt2-custom-field-column",18),t&2){let e=p.$implicit,n=f();o("customField",e)("sorts",n.sorts)}}var Xr=t=>({pattern:t});function Jr(t,p){if(t&1){let e=S();s(0,"button",12),_("click",function(){y(e);let i=f();return b(i.create())}),g(1),r(2,"translate"),d()}if(t&2){let e=f();o("disabled",e.detailForm.invalid||e.detailForm.pristine),a(),C(" ",l(2,2,"common.create")," ")}}function el(t,p){if(t&1){let e=S();s(0,"button",12),_("click",function(){y(e);let i=f(2);return b(i.save())}),g(1),r(2,"translate"),d()}if(t&2){let e=f(2);o("disabled",e.detailForm.invalid||e.detailForm.pristine),a(),C(" ",l(2,2,"common.update")," ")}}function tl(t,p){t&1&&u(0,el,3,4,"button",13),t&2&&o("vdrIfPermissions","UpdateStockLocation")}function il(t,p){if(t&1&&(s(0,"vdr-card"),m(1,"vdr-page-entity-info",14),d()),t&2){let e=p.ngIf;a(),o("entity",e)}}function nl(t,p){if(t&1&&(s(0,"vdr-card",15),r(1,"translate"),m(2,"vdr-tabbed-custom-fields",16),d()),t&2){let e=f();o("title",l(1,3,"common.custom-fields")),a(2),o("customFields",e.customFields)("customFieldsFormGroup",e.detailForm.get("customFields"))}}var ol=()=>["CreateStockLocation"];function al(t,p){t&1&&(s(0,"a",11),m(1,"clr-icon",12),g(2),r(3,"translate"),d()),t&2&&(o("routerLink",L(4,Me)),a(2),C(" ",l(3,2,"catalog.create-new-stock-location")," "))}function rl(t,p){if(t&1&&g(0),t&2){let e=p.item;C(" ",e.id," ")}}function ll(t,p){if(t&1&&(g(0),r(1,"localeDate")),t&2){let e=p.item;C(" ",P(1,1,e.createdAt,"short")," ")}}function sl(t,p){if(t&1&&(g(0),r(1,"localeDate")),t&2){let e=p.item;C(" ",P(1,1,e.updatedAt,"short")," ")}}function dl(t,p){if(t&1&&(s(0,"a",13)(1,"span"),g(2),d(),m(3,"clr-icon",14),d()),t&2){let e=p.item;o("routerLink",j(2,Le,e.id)),a(2),I(e.name)}}function pl(t,p){if(t&1&&m(0,"div",15),t&2){let e=p.item;o("innerHTML",e.description,ei)}}function cl(t,p){if(t&1&&m(0,"vdr-dt2-custom-field-column",16),t&2){let e=p.$implicit,n=f();o("customField",e)("sorts",n.sorts)}}function ml(t,p){if(t&1){let e=S();s(0,"button",12),_("click",function(){y(e);let i=f();return b(i.create())}),g(1),r(2,"translate"),d()}if(t&2){let e=f();o("disabled",!e.saveButtonEnabled()),a(),C(" ",l(2,2,"common.create")," ")}}function ul(t,p){if(t&1){let e=S();s(0,"button",12),_("click",function(){y(e);let i=f(2);return b(i.save())}),g(1),r(2,"translate"),d()}if(t&2){let e=f(2);o("disabled",!e.saveButtonEnabled()),a(),C(" ",l(2,2,"common.update")," ")}}function gl(t,p){if(t&1&&u(0,ul,3,4,"button",13),t&2){let e=f();o("vdrIfPermissions",e.updatePermission)}}function hl(t,p){if(t&1&&(s(0,"vdr-card"),m(1,"vdr-page-entity-info",14),d()),t&2){let e=p.ngIf;a(),o("entity",e)}}function fl(t,p){if(t&1&&(s(0,"vdr-card",15),r(1,"translate"),m(2,"vdr-tabbed-custom-fields",16),d()),t&2){let e=f();o("title",l(1,3,"common.custom-fields")),a(2),o("customFields",e.customFields)("customFieldsFormGroup",e.detailForm.get("customFields"))}}var Cl=()=>["CreateSettings","CreateTaxCategory"];function _l(t,p){t&1&&(s(0,"a",11),m(1,"clr-icon",12),g(2),r(3,"translate"),d()),t&2&&(o("routerLink",L(4,Me)),a(2),C(" ",l(3,2,"settings.create-new-tax-category")," "))}function vl(t,p){if(t&1&&g(0),t&2){let e=p.item;C(" ",e.id," ")}}function yl(t,p){if(t&1&&(g(0),r(1,"localeDate")),t&2){let e=p.item;C(" ",P(1,1,e.createdAt,"short")," ")}}function bl(t,p){if(t&1&&(g(0),r(1,"localeDate")),t&2){let e=p.item;C(" ",P(1,1,e.updatedAt,"short")," ")}}function Fl(t,p){if(t&1&&(s(0,"a",13)(1,"span"),g(2),d(),m(3,"clr-icon",14),d()),t&2){let e=p.item;o("routerLink",j(2,Le,e.id)),a(2),I(e.name)}}function Tl(t,p){t&1&&(s(0,"vdr-chip"),g(1),r(2,"translate"),d()),t&2&&(a(),I(l(2,1,"common.default-tax-category")))}function Sl(t,p){if(t&1&&u(0,Tl,3,3,"vdr-chip",15),t&2){let e=p.item;o("ngIf",e.isDefault)}}function Il(t,p){if(t&1&&m(0,"vdr-dt2-custom-field-column",16),t&2){let e=p.$implicit,n=f();o("customField",e)("sorts",n.sorts)}}function Dl(t,p){if(t&1){let e=S();s(0,"button",20),_("click",function(){y(e);let i=f();return b(i.create())}),g(1),r(2,"translate"),d()}if(t&2){let e=f();o("disabled",!e.saveButtonEnabled()),a(),C(" ",l(2,2,"common.create")," ")}}function Pl(t,p){if(t&1){let e=S();s(0,"button",20),_("click",function(){y(e);let i=f(2);return b(i.save())}),g(1),r(2,"translate"),d()}if(t&2){let e=f(2);o("disabled",!e.saveButtonEnabled()),a(),C(" ",l(2,2,"common.update")," ")}}function xl(t,p){if(t&1&&u(0,Pl,3,4,"button",21),t&2){let e=f();o("vdrIfPermissions",e.updatePermission)}}function Bl(t,p){if(t&1&&(s(0,"vdr-card"),m(1,"vdr-page-entity-info",22),d()),t&2){let e=p.ngIf;a(),o("entity",e)}}function kl(t,p){if(t&1&&(s(0,"option",23),g(1),d()),t&2){let e=p.$implicit;o("value",e.id),a(),C(" ",e.name," ")}}function Ll(t,p){if(t&1&&(s(0,"vdr-card",24),r(1,"translate"),m(2,"vdr-tabbed-custom-fields",25),d()),t&2){let e=f();o("title",l(1,3,"common.custom-fields")),a(2),o("customFields",e.customFields)("customFieldsFormGroup",e.detailForm.get("customFields"))}}var Al=()=>["CreateSettings","CreateTaxRate"];function El(t,p){t&1&&(s(0,"a",15),m(1,"clr-icon",16),g(2),r(3,"translate"),d()),t&2&&(o("routerLink",L(4,Me)),a(2),C(" ",l(3,2,"settings.create-new-tax-rate")," "))}function Ml(t,p){if(t&1&&g(0),t&2){let e=p.item;C(" ",e.id," ")}}function $l(t,p){if(t&1&&(g(0),r(1,"localeDate")),t&2){let e=p.item;C(" ",P(1,1,e.createdAt,"short")," ")}}function wl(t,p){if(t&1&&(g(0),r(1,"localeDate")),t&2){let e=p.item;C(" ",P(1,1,e.updatedAt,"short")," ")}}function Nl(t,p){if(t&1&&(s(0,"a",17)(1,"span"),g(2),d(),m(3,"clr-icon",18),d()),t&2){let e=p.item;o("routerLink",j(2,Le,e.id)),a(2),I(e.name)}}function Rl(t,p){if(t&1&&g(0),t&2){let e=p.item;C(" ",e.category.name," ")}}function Ol(t,p){if(t&1&&g(0),t&2){let e=p.item;C(" ",e.zone.name," ")}}function Vl(t,p){if(t&1&&g(0),t&2){let e=p.item;C(" ",e.customerGroup==null?null:e.customerGroup.name," ")}}function Gl(t,p){if(t&1&&g(0),t&2){let e=p.item;C(" ",e.value,"% ")}}function Zl(t,p){t&1&&(s(0,"vdr-chip",21),g(1),r(2,"translate"),d()),t&2&&(a(),I(l(2,1,"common.enabled")))}function ql(t,p){t&1&&(s(0,"vdr-chip",22),g(1),r(2,"translate"),d()),t&2&&(a(),I(l(2,1,"common.disabled")))}function Hl(t,p){if(t&1&&u(0,Zl,3,3,"vdr-chip",19)(1,ql,3,3,"vdr-chip",20),t&2){let e=p.item;o("ngIf",e.enabled),a(),o("ngIf",!e.enabled)}}function zl(t,p){if(t&1&&m(0,"vdr-dt2-custom-field-column",23),t&2){let e=p.$implicit,n=f();o("customField",e)("sorts",n.sorts)}}function Ul(t,p){if(t&1){let e=S();s(0,"button",10),_("click",function(){y(e);let i=f();return b(i.create())}),g(1),r(2,"translate"),d()}if(t&2){let e=f();o("disabled",!e.saveButtonEnabled()),a(),C(" ",l(2,2,"common.create")," ")}}function jl(t,p){if(t&1){let e=S();s(0,"button",10),_("click",function(){y(e);let i=f(2);return b(i.save())}),g(1),r(2,"translate"),d()}if(t&2){let e=f(2);o("disabled",!e.saveButtonEnabled()),a(),C(" ",l(2,2,"common.update")," ")}}function Wl(t,p){if(t&1&&u(0,jl,3,4,"button",11),t&2){let e=f();o("vdrIfPermissions",e.updatePermission)}}function Kl(t,p){if(t&1&&(s(0,"vdr-card"),m(1,"vdr-page-entity-info",12),d()),t&2){let e=p.ngIf;a(),o("entity",e)}}function Ql(t,p){if(t&1&&(s(0,"vdr-card",13),r(1,"translate"),m(2,"vdr-tabbed-custom-fields",14),d()),t&2){let e=f();o("title",l(1,3,"common.custom-fields")),a(2),o("customFields",e.customFields)("customFieldsFormGroup",e.detailForm.get("customFields"))}}var Yl=()=>["CreateSettings","CreateZone"],Xl=t=>({contents:t});function Jl(t,p){t&1&&(s(0,"a",6),m(1,"clr-icon",7),g(2),r(3,"translate"),d()),t&2&&(o("routerLink",L(4,Me)),a(2),C(" ",l(3,2,"settings.create-new-zone")," "))}function es(t,p){if(t&1&&g(0),t&2){let e=p.item;C(" ",e.id," ")}}function ts(t,p){if(t&1&&(g(0),r(1,"localeDate")),t&2){let e=p.item;C(" ",P(1,1,e.createdAt,"short")," ")}}function is(t,p){if(t&1&&(g(0),r(1,"localeDate")),t&2){let e=p.item;C(" ",P(1,1,e.updatedAt,"short")," ")}}function ns(t,p){if(t&1&&(s(0,"a",17)(1,"span"),g(2),d(),m(3,"clr-icon",18),d()),t&2){let e=p.item;o("routerLink",j(2,Le,e.id)),a(2),I(e.name)}}function os(t,p){if(t&1&&(s(0,"a",19)(1,"span"),g(2),r(3,"translate"),d(),m(4,"clr-icon",20),d()),t&2){let e=p.item;o("routerLink",j(6,Le,j(4,Xl,e.id))),a(2),I(l(3,2,"settings.view-zone-members"))}}function as(t,p){if(t&1&&m(0,"vdr-dt2-custom-field-column",21),t&2){let e=p.$implicit,n=f(2);o("customField",e)("sort",n.sorts)}}function rs(t,p){if(t&1){let e=S();s(0,"vdr-data-table-2",8),r(1,"async"),r(2,"async"),r(3,"async"),r(4,"async"),r(5,"async"),_("pageChange",function(i){y(e);let c=f();return b(c.setPageNumber(i))})("itemsPerPageChange",function(i){y(e);let c=f();return b(c.setItemsPerPage(i))})("visibleColumnsChange",function(i){y(e);let c=f();return b(c.setVisibleColumns(i))}),m(6,"vdr-bulk-action-menu",9)(7,"vdr-dt2-search",10),r(8,"translate"),s(9,"vdr-dt2-column",11),r(10,"translate"),u(11,es,1,1,"ng-template"),d(),s(12,"vdr-dt2-column",12),r(13,"translate"),u(14,ts,2,4,"ng-template"),d(),s(15,"vdr-dt2-column",13),r(16,"translate"),u(17,is,2,4,"ng-template"),d(),s(18,"vdr-dt2-column",14),r(19,"translate"),u(20,ns,4,4,"ng-template"),d(),s(21,"vdr-dt2-column",15),r(22,"translate"),u(23,os,5,8,"ng-template"),d(),u(24,as,1,2,"vdr-dt2-custom-field-column",16),d()}if(t&2){let e=f();o("id",e.dataTableListId)("items",l(1,25,e.items$))("itemsPerPage",l(2,27,e.itemsPerPage$))("totalItems",l(3,29,e.totalItems$))("currentPage",l(4,31,e.currentPage$))("filters",e.filters)("activeIndex",l(5,33,e.activeIndex$)),a(6),o("hostComponent",e)("selectionManager",e.selectionManager),a(),o("searchTermControl",e.searchTermControl)("searchTermPlaceholder",l(8,35,"common.search-by-name")),a(2),o("heading",l(10,37,"common.id"))("hiddenByDefault",!0),a(3),o("heading",l(13,39,"common.created-at"))("hiddenByDefault",!0)("sort",e.sorts.get("createdAt")),a(3),o("heading",l(16,41,"common.updated-at"))("hiddenByDefault",!0)("sort",e.sorts.get("updatedAt")),a(3),o("heading",l(19,43,"common.name"))("optional",!1)("sort",e.sorts.get("name")),a(3),o("heading",l(22,45,"common.view-contents"))("optional",!1),a(3),o("ngForOf",e.customFields)}}function ls(t,p){if(t&1){let e=S();s(0,"vdr-zone-member-list",25),_("selectionChange",function(i){y(e);let c=f(3);return b(c.selectedMemberIds=i)}),d()}if(t&2){let e=p.ngIf,n=f(3);o("selectedMemberIds",n.selectedMemberIds)("activeZone",e)}}function ss(t,p){if(t&1){let e=S();Qe(0),s(1,"button",23),_("click",function(){let i=y(e).ngIf,c=f(2);return b(c.addToZone(i))}),m(2,"clr-icon",7),s(3,"span"),g(4),r(5,"translate"),d()(),u(6,ls,1,2,"vdr-zone-member-list",24),r(7,"async"),Ye()}if(t&2){let e=p.ngIf,n=f(2);a(4),I(P(5,2,"settings.add-countries-to-zone",j(7,Kt,e.name))),a(2),o("ngIf",l(7,5,n.activeZone$))}}function ds(t,p){if(t&1&&(u(0,ss,8,9,"ng-container",22),r(1,"async")),t&2){let e=f();o("ngIf",l(1,1,e.activeZone$))}}var ps=(()=>{class t{constructor(e){this.templateRef=e}static{this.\u0275fac=function(n){return new(n||t)(v(Dt))}}static{this.\u0275dir=Pt({type:t,selectors:[["","vdrZoneMemberControls",""]],standalone:!1})}}return t})(),cs=(()=>{class t{constructor(e){this.templateRef=e}static{this.\u0275fac=function(n){return new(n||t)(v(Dt))}}static{this.\u0275dir=Pt({type:t,selectors:[["","vdrZoneMemberListHeader",""]],standalone:!1})}}return t})(),Wt=(()=>{class t{constructor(e){this.dataService=e,this.selectedMemberIds=[],this.selectionChange=new Ge,this.filterTermControl=new yi(""),this.currentPage=1,this.itemsPerPage=10,this.selectionManager=new Tn({multiSelect:!0,itemsAreEqual:(n,i)=>n.id===i.id,additiveMode:!0}),this.membersInput$=new je,this.activeZoneInput$=new hi(void 0),this.destroy$=new je,this.refresh$=new je}ngOnInit(){let e=gt(this.activeZoneInput$,this.refresh$).pipe(qe(n=>this.activeZone?this.dataService.query(Et,{zoneId:this.activeZone.id}).mapSingle(({zone:i})=>i?.members??[]):Xe([])));this.members$=gt(e,this.membersInput$),this.members$.pipe(ce(1)).subscribe(n=>{this.selectionManager.setCurrentItems(n?.filter(i=>this.selectedMemberIds.includes(i.id))??[])}),this.selectionManager.selectionChanges$.pipe(Je(this.destroy$)).subscribe(n=>{this.selectionChange.emit(n.map(i=>i.id))}),this.filteredMembers$=Ze(this.members$,this.filterTermControl.valueChanges.pipe(fi(""))).pipe(E(([n,i])=>{if(i){let c=i?.toLocaleLowerCase()??"";return n.filter(h=>h.name.toLocaleLowerCase().includes(c)||h.code.toLocaleLowerCase().includes(c))}else return n})),this.totalItems$=this.filteredMembers$.pipe(E(n=>n.length))}ngOnChanges(e){"members"in e&&this.membersInput$.next(this.members??[]),"activeZone"in e&&this.activeZoneInput$.next(this.activeZone)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}refresh(){this.refresh$.next()}static{this.\u0275fac=function(n){return new(n||t)(v(R))}}static{this.\u0275cmp=B({type:t,selectors:[["vdr-zone-member-list"]],contentQueries:function(n,i,c){if(n&1&&(Bt(c,cs,5),Bt(c,ps,5)),n&2){let h;ct(h=mt())&&(i.headerTemplate=h.first),ct(h=mt())&&(i.controlsTemplate=h.first)}},inputs:{locationId:"locationId",members:"members",selectedMemberIds:"selectedMemberIds",activeZone:"activeZone"},outputs:{selectionChange:"selectionChange"},standalone:!1,features:[Jt],decls:24,vars:38,consts:[[3,"itemsPerPageChange","pageChange","id","items","totalItems","itemsPerPage","currentPage"],[3,"locationId","hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault"],["id","created-at",3,"heading","hiddenByDefault"],["id","updated-at",3,"heading","hiddenByDefault"],["id","name",3,"heading","optional"],["id","code",3,"heading"],["id","enabled",3,"heading"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],["colorType","success",4,"ngIf"],["colorType","warning",4,"ngIf"],["colorType","success"],["colorType","warning"]],template:function(n,i){n&1&&(s(0,"vdr-data-table-2",0),r(1,"async"),r(2,"async"),_("itemsPerPageChange",function(h){return i.itemsPerPage=h})("pageChange",function(h){return i.currentPage=h}),m(3,"vdr-bulk-action-menu",1)(4,"vdr-dt2-search",2),r(5,"translate"),s(6,"vdr-dt2-column",3),r(7,"translate"),u(8,Un,1,1,"ng-template"),d(),s(9,"vdr-dt2-column",4),r(10,"translate"),u(11,jn,2,4,"ng-template"),d(),s(12,"vdr-dt2-column",5),r(13,"translate"),u(14,Wn,2,4,"ng-template"),d(),s(15,"vdr-dt2-column",6),r(16,"translate"),u(17,Kn,4,4,"ng-template"),d(),s(18,"vdr-dt2-column",7),r(19,"translate"),u(20,Qn,1,1,"ng-template"),d(),s(21,"vdr-dt2-column",8),r(22,"translate"),u(23,Jn,2,2,"ng-template"),d()()),n&2&&(o("id",i.locationId)("items",l(1,20,i.filteredMembers$))("totalItems",l(2,22,i.totalItems$))("itemsPerPage",i.itemsPerPage)("currentPage",i.currentPage),a(3),o("locationId",i.locationId)("hostComponent",i)("selectionManager",i.selectionManager),a(),o("searchTermControl",i.filterTermControl)("searchTermPlaceholder",l(5,24,"common.search-by-name")),a(2),o("heading",l(7,26,"common.id"))("hiddenByDefault",!0),a(3),o("heading",l(10,28,"common.created-at"))("hiddenByDefault",!0),a(3),o("heading",l(13,30,"common.updated-at"))("hiddenByDefault",!0),a(3),o("heading",l(16,32,"common.name"))("optional",!1),a(3),o("heading",l(19,34,"common.code")),a(3),o("heading",l(22,36,"common.enabled")))},dependencies:[K,N,ge,Re,Fe,De,Se,Ie,A,k,fe],styles:[".members-header[_ngcontent-%COMP%]{background-color:var(--color-component-bg-100);position:sticky;top:0;padding:6px;z-index:5;border-bottom:1px solid var(--color-component-border-200)}.members-header[_ngcontent-%COMP%]   .header-title-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.members-header[_ngcontent-%COMP%]   .clr-input[_ngcontent-%COMP%]{width:100%}"],changeDetection:0})}}return t})(),kd=D`
    query GetZoneMembers($zoneId: ID!) {
        zone(id: $zoneId) {
            id
            createdAt
            updatedAt
            name
            members {
                createdAt
                updatedAt
                id
                name
                code
                enabled
            }
        }
    }
`,ms=(()=>{class t{constructor(e){this.dataService=e,this.selectedMemberIds=[]}ngOnInit(){this.currentMembers$=this.dataService.query(Et,{zoneId:this.zoneId}).mapSingle(({zone:e})=>e?.members??[]),this.availableCountries$=this.dataService.query(Mt,{options:{take:999}}).mapStream(e=>e.countries.items).pipe(Lt(this.currentMembers$),E(([e,n])=>e.filter(i=>!n.find(c=>c.id===i.id))))}cancel(){this.resolveWith()}add(){this.resolveWith(this.selectedMemberIds)}static{this.\u0275fac=function(n){return new(n||t)(v(R))}}static{this.\u0275cmp=B({type:t,selectors:[["vdr-add-country-to-zone-dialog"]],standalone:!1,decls:4,vars:4,consts:[["vdrDialogTitle",""],["locationId","zone-members-list",3,"selectionChange","members","selectedMemberIds"],["vdrDialogButtons",""],["type","button",1,"btn",3,"click"],["type","submit",1,"btn","btn-primary",3,"click","disabled"]],template:function(n,i){n&1&&(u(0,eo,2,6,"ng-template",0),s(1,"vdr-zone-member-list",1),r(2,"async"),_("selectionChange",function(h){return i.selectedMemberIds=h}),d(),u(3,to,6,10,"ng-template",2)),n&2&&(a(),o("members",l(2,2,i.availableCountries$))("selectedMemberIds",i.selectedMemberIds))},dependencies:[fn,Cn,Wt,A,k],encapsulation:2,changeDetection:0})}}return t})(),Rn=(()=>{class t{constructor(){this.readonly=!1,this.permissionChange=new Ge}ngOnInit(){this.buildGrid()}setPermission(e,n){this.readonly||this.permissionChange.emit({permission:e,value:n})}toggleAll(e){let n=e.some(i=>!this.activePermissions.includes(i.name));for(let i of e)this.permissionChange.emit({permission:i.name,value:n})}buildGrid(){let e=new Map,n=[],i=/^(Create|Read|Update|Delete)([a-zA-Z]+)$/;for(let c of this.permissionDefinitions)if(i.test(c.name)){let F=c.name.match(i)?.[2];if(F){let W=e.get(F);W?W.push(c):e.set(F,[c])}}else c.assignable&&n.push(c);this.gridData=[...n.map(c=>({label:c.name,description:c.description,permissions:[c]})),...Array.from(e.entries()).map(([c,h])=>({label:c,description:this.extractCrudDescription(h[0]),permissions:h}))]}extractCrudDescription(e){return e.description.replace(/Grants permission to [\w]+/,"Grants permissions on")}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=B({type:t,selectors:[["vdr-permission-grid"]],inputs:{permissionDefinitions:"permissionDefinitions",activePermissions:"activePermissions",readonly:"readonly"},outputs:{permissionChange:"permissionChange"},standalone:!1,decls:3,vars:1,consts:[[1,"table"],[4,"ngFor","ngForOf"],[1,"permission-group","left"],["class","button-small",3,"click",4,"ngIf"],[1,"button-small",3,"click"],["size","small",3,"selectedChange","title","label","disabled","selected"]],template:function(n,i){n&1&&(s(0,"table",0)(1,"tbody"),u(2,oo,12,8,"tr",1),d()()),n&2&&(a(2),o("ngForOf",i.gridData))},dependencies:[U,N,Sn,k],styles:["[_nghost-%COMP%]{display:block}td.permission-group[_ngcontent-%COMP%]{max-width:300px;background-color:var(--color-component-bg-200)}"],changeDetection:0})}}return t})(),Ld=D`
    query GetAdministratorDetail($id: ID!) {
        administrator(id: $id) {
            ...Administrator
        }
    }
    ${ki}
`,us=(()=>{class t extends ue{getAvailableChannels(){return Object.values(this.selectedRolePermissions)}constructor(e,n,i,c){super(),this.changeDetector=e,this.dataService=n,this.formBuilder=i,this.notificationService=c,this.customFields=this.getCustomFieldConfig("Administrator"),this.detailForm=this.formBuilder.group({emailAddress:["",x.required],firstName:["",x.required],lastName:["",x.required],password:[""],roles:[[]],customFields:this.formBuilder.group(Pe(this.customFields))}),this.selectedRoles=[],this.selectedRolePermissions={},this.selectedChannelId=null}ngOnInit(){this.init(),this.allRoles$=this.dataService.administrator.getRoles(999).mapStream(e=>e.roles.items.filter(n=>n.code!==$e.CUSTOMER_ROLE_CODE)),this.dataService.client.userStatus().single$.subscribe(({userStatus:e})=>{if(!e.permissions.includes(T.CreateAdministrator)&&!e.permissions.includes(T.UpdateAdministrator)){let n=this.detailForm.get("roles");n&&n.disable()}}),this.permissionDefinitions=this.serverConfigService.getPermissionDefinitions()}ngOnDestroy(){this.destroy()}rolesChanged(e){this.buildPermissionsMap()}getPermissionsForSelectedChannel(){function e(i){return Object.entries(i).filter(([c,h])=>h).map(([c,h])=>c)}if(this.selectedChannelId&&this.selectedRolePermissions[this.selectedChannelId]){let c=this.selectedRolePermissions[this.selectedChannelId].permissions;return e(c)}let n=Object.values(this.selectedRolePermissions);return 0<n.length?(this.selectedChannelId=n[0].channelId,e(n[0].permissions)):[]}create(){let{emailAddress:e,firstName:n,lastName:i,password:c,customFields:h,roles:F}=this.detailForm.value;if(!e||!n||!i||!c)return;let W={emailAddress:e,firstName:n,lastName:i,password:c,customFields:h,roleIds:F?.map(Q=>Q.id).filter($n.notNullOrUndefined)??[]};this.dataService.administrator.createAdministrator(W).subscribe(Q=>{this.notificationService.success("common.notify-create-success",{entity:"Administrator"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",Q.createAdministrator.id],{relativeTo:this.route})},Q=>{this.notificationService.error("common.notify-create-error",{entity:"Administrator"})})}save(){this.entity$.pipe(ce(1),Y(({id:e})=>{let n=this.detailForm.value,i={id:e,emailAddress:n.emailAddress,firstName:n.firstName,lastName:n.lastName,password:n.password,customFields:n.customFields,roleIds:n.roles?.map(c=>c.id)};return this.dataService.administrator.updateAdministrator(i)})).subscribe(e=>{this.notificationService.success("common.notify-update-success",{entity:"Administrator"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},e=>{this.notificationService.error("common.notify-update-error",{entity:"Administrator"})})}setFormValues(e,n){this.detailForm.patchValue({emailAddress:e.emailAddress,firstName:e.firstName,lastName:e.lastName,roles:e.user.roles}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get(["customFields"]),e);let i=this.detailForm.get("password");i&&(e.id?i.setValidators([]):i.setValidators([x.required])),this.buildPermissionsMap()}buildPermissionsMap(){let e=this.detailForm.get("roles");if(e){let n=e.value,i=new Map,c=new Map;for(let h of n??[])for(let F of h.channels){let Q=i.get(F.id)||new Set;h.permissions.forEach(We=>Q.add(We)),i.set(F.id,Q),c.set(F.id,F.code)}this.selectedRolePermissions={};for(let h of Array.from(i.keys())){let F=i.get(h),W={};for(let Q of this.serverConfigService.getPermissionDefinitions())W[Q.name]=F.has(Q.name);this.selectedRolePermissions[h]={channelId:h,channelCode:c.get(h),permissions:W}}}}static{this.\u0275fac=function(n){return new(n||t)(v(pe),v(R),v(me),v(X))}}static{this.\u0275cmp=B({type:t,selectors:[["vdr-admin-detail"]],standalone:!1,features:[w],decls:45,vars:53,consts:[["updateButton",""],["locationId","administrator-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],[1,"form",3,"formGroup"],[4,"ngIf"],[1,"form-grid"],["for","emailAddress",1,"form-grid-span",3,"label"],["id","emailAddress","type","text","formControlName","emailAddress",3,"readonly"],["for","firstName",3,"label"],["id","firstName","type","text","formControlName","firstName",3,"readonly"],["for","lastName",3,"label"],["id","lastName","type","text","formControlName","lastName",3,"readonly"],["for","password",3,"label",4,"ngIf"],["for","password",3,"label","readOnlyToggle",4,"ngIf"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","administrator-detail",3,"entity$","detailForm"],[3,"title"],["formControlName","roles","bindLabel","description",3,"change","items","multiple","hideSelected"],["role","tablist",1,"nav","mt-2"],["role","presentation","class","nav-item",4,"ngFor","ngForOf"],[3,"activePermissions","permissionDefinitions","readonly"],[1,"btn","btn-primary",3,"click","disabled"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"entity"],["for","password",3,"label"],["id","password","type","password","formControlName","password"],["for","password",3,"label","readOnlyToggle"],["formGroupName","customFields",3,"title"],["entityName","Administrator",3,"customFields","customFieldsFormGroup"],["role","presentation",1,"nav-item"],["type","button",1,"btn","btn-link","nav-link",3,"click","id"]],template:function(n,i){if(n&1){let c=S();s(0,"vdr-page-block")(1,"vdr-action-bar"),m(2,"vdr-ab-left"),s(3,"vdr-ab-right"),m(4,"vdr-action-bar-items",1),u(5,ao,3,4,"button",2),r(6,"async"),u(7,lo,1,1,"ng-template",null,0,ee),m(9,"vdr-action-bar-dropdown-menu",1),d()()(),s(10,"form",3)(11,"vdr-page-detail-layout")(12,"vdr-page-detail-sidebar"),u(13,so,2,1,"vdr-card",4),r(14,"async"),d(),s(15,"vdr-page-block")(16,"vdr-card")(17,"div",5)(18,"vdr-form-field",6),r(19,"translate"),m(20,"input",7),r(21,"hasPermission"),d(),s(22,"vdr-form-field",8),r(23,"translate"),m(24,"input",9),r(25,"hasPermission"),d(),s(26,"vdr-form-field",10),r(27,"translate"),m(28,"input",11),r(29,"hasPermission"),d(),u(30,po,3,3,"vdr-form-field",12),r(31,"async"),u(32,co,3,4,"vdr-form-field",13),r(33,"async"),r(34,"hasPermission"),d()(),u(35,mo,3,5,"vdr-card",14),m(36,"vdr-custom-detail-component-host",15),d()(),s(37,"vdr-page-block")(38,"vdr-card",16),r(39,"translate"),s(40,"ng-select",17),r(41,"async"),_("change",function(F){return y(c),b(i.rolesChanged(F))}),d(),s(42,"ul",18),u(43,uo,5,9,"li",19),d(),m(44,"vdr-permission-grid",20),d()()()}if(n&2){let c=J(8);a(5),o("ngIf",l(6,23,i.isNew$))("ngIfElse",c),a(5),o("formGroup",i.detailForm),a(3),o("ngIf",l(14,25,i.entity$)),a(5),o("label",l(19,27,"settings.email-address-or-identifier")),a(2),o("readonly",!l(21,29,L(49,Ft))),a(2),o("label",l(23,31,"settings.first-name")),a(2),o("readonly",!l(25,33,L(50,Ft))),a(2),o("label",l(27,35,"settings.last-name")),a(2),o("readonly",!l(29,37,L(51,Ft))),a(2),o("ngIf",l(31,39,i.isNew$)),a(2),o("ngIf",!l(33,41,i.isNew$)&&l(34,43,L(52,Ft))),a(3),o("ngIf",i.customFields.length),a(),o("entity$",i.entity$)("detailForm",i.detailForm),a(2),o("title",l(39,45,"settings.roles")),a(2),o("items",l(41,47,i.allRoles$))("multiple",!0)("hideSelected",!0),a(3),o("ngForOf",i.getAvailableChannels()),a(),o("activePermissions",i.getPermissionsForSelectedChannel())("permissionDefinitions",i.permissionDefinitions)("readonly",!0)}},dependencies:[U,N,ae,te,ie,oe,re,le,he,Bi,G,H,V,z,se,ne,q,O,Ce,Te,M,_e,ve,ye,de,Rn,A,k,be,ot],styles:["ul.nav[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:hidden}"],changeDetection:0})}}return t})(),gs=ke({location:"administrator-list",requiresPermission:t=>t.includes(T.DeleteAdministrator),getItemName:t=>t.firstName+" "+t.lastName,bulkDelete:(t,p)=>t.administrator.deleteAdministrators(p).pipe(E(e=>e.deleteAdministrators))}),Ad=D`
    query GetAdministratorList($options: AdministratorListOptions) {
        administrators(options: $options) {
            items {
                ...AdministratorListItem
            }
            totalItems
        }
    }
    fragment AdministratorListItem on Administrator {
        id
        createdAt
        updatedAt
        firstName
        lastName
        emailAddress
        user {
            id
            identifier
            lastLogin
            roles {
                id
                createdAt
                updatedAt
                code
                description
            }
        }
    }
`,hs=(()=>{class t extends Be{constructor(){super(),this.dataTableListId="administrator-list",this.customFields=this.getCustomFieldConfig("Administrator"),this.filters=this.createFilterCollection().addIdFilter().addDateFilters().addFilter({name:"firstName",type:{kind:"text"},label:"settings.first-name",filterField:"firstName"}).addFilter({name:"lastName",type:{kind:"text"},label:"settings.last-name",filterField:"lastName"}).addFilter({name:"emailAddress",type:{kind:"text"},label:"settings.email-address",filterField:"emailAddress"}).addCustomFieldFilters(this.customFields).connectToRoute(this.route),this.sorts=this.createSortCollection().defaultSort("createdAt","DESC").addSort({name:"createdAt"}).addSort({name:"updatedAt"}).addSort({name:"lastName"}).addSort({name:"emailAddress"}).addCustomFieldSorts(this.customFields).connectToRoute(this.route),super.configure({document:Mi,getItems:e=>e.administrators,setVariables:(e,n)=>this.createSearchQuery(e,n,this.searchTermControl.value),refreshListOnChanges:[this.filters.valueChanges,this.sorts.valueChanges]})}createSearchQuery(e,n,i){let c={},h=nt.AND;return i&&(c={emailAddress:{contains:i},firstName:{contains:i},lastName:{contains:i}},h=nt.OR),{options:{skip:e,take:n,filter:$($({},c??{}),this.filters.createFilterInput()),sort:this.sorts.createSortInput(),filterOperator:h}}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=B({type:t,selectors:[["vdr-administrator-list"]],standalone:!1,features:[w],decls:34,vars:49,consts:[["locationId","administrator-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],[1,"mt-2",3,"pageChange","itemsPerPageChange","visibleColumnsChange","id","items","itemsPerPage","totalItems","currentPage","filters"],["locationId","administrator-list",3,"hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault"],["id","created-at",3,"heading","hiddenByDefault","sort"],["id","updated-at",3,"heading","hiddenByDefault","sort"],["id","name",3,"heading","optional","sort"],["id","email-address",3,"heading","sort"],["id","roles",3,"heading"],[3,"customField","sorts",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],[4,"ngFor","ngForOf"],[3,"customField","sorts"]],template:function(n,i){n&1&&(s(0,"vdr-page-block")(1,"vdr-action-bar"),m(2,"vdr-ab-left"),s(3,"vdr-ab-right"),m(4,"vdr-action-bar-items",0),u(5,go,4,5,"a",1),m(6,"vdr-action-bar-dropdown-menu",0),d()()(),s(7,"vdr-data-table-2",2),r(8,"async"),r(9,"async"),r(10,"async"),r(11,"async"),_("pageChange",function(h){return i.setPageNumber(h)})("itemsPerPageChange",function(h){return i.setItemsPerPage(h)})("visibleColumnsChange",function(h){return i.setVisibleColumns(h)}),m(12,"vdr-bulk-action-menu",3)(13,"vdr-dt2-search",4),r(14,"translate"),s(15,"vdr-dt2-column",5),r(16,"translate"),u(17,ho,1,1,"ng-template"),d(),s(18,"vdr-dt2-column",6),r(19,"translate"),u(20,fo,2,4,"ng-template"),d(),s(21,"vdr-dt2-column",7),r(22,"translate"),u(23,Co,2,4,"ng-template"),d(),s(24,"vdr-dt2-column",8),r(25,"translate"),u(26,_o,4,5,"ng-template"),d(),s(27,"vdr-dt2-column",9),r(28,"translate"),u(29,vo,1,1,"ng-template"),d(),s(30,"vdr-dt2-column",10),r(31,"translate"),u(32,bo,1,1,"ng-template"),d(),u(33,Fo,1,2,"vdr-dt2-custom-field-column",11),d()),n&2&&(a(5),o("vdrIfPermissions",L(48,Nn)),a(2),o("id",i.dataTableListId)("items",l(8,26,i.items$))("itemsPerPage",l(9,28,i.itemsPerPage$))("totalItems",l(10,30,i.totalItems$))("currentPage",l(11,32,i.currentPage$))("filters",i.filters),a(5),o("hostComponent",i)("selectionManager",i.selectionManager),a(),o("searchTermControl",i.searchTermControl)("searchTermPlaceholder",l(14,34,"catalog.filter-by-name")),a(2),o("heading",l(16,36,"common.id"))("hiddenByDefault",!0),a(3),o("heading",l(19,38,"common.created-at"))("hiddenByDefault",!0)("sort",i.sorts.get("createdAt")),a(3),o("heading",l(22,40,"common.updated-at"))("hiddenByDefault",!0)("sort",i.sorts.get("updatedAt")),a(3),o("heading",l(25,42,"common.name"))("optional",!1)("sort",i.sorts.get("lastName")),a(3),o("heading",l(28,44,"settings.email-address"))("sort",i.sorts.get("emailAddress")),a(3),o("heading",l(31,46,"settings.roles")),a(3),o("ngForOf",i.customFields))},dependencies:[K,U,ge,G,H,V,z,Re,q,O,Fe,De,Se,Ie,Ee,M,A,k,fe],styles:[".search-input[_ngcontent-%COMP%]{min-width:300px}"]})}}return t})(),Ed=D`
    query GetChannelDetail($id: ID!) {
        channel(id: $id) {
            ...Channel
        }
    }
    ${Nt}
`,fs=(()=>{class t extends ue{constructor(e,n,i,c,h){super(),this.serverConfigService=e,this.changeDetector=n,this.dataService=i,this.formBuilder=c,this.notificationService=h,this.DEFAULT_CHANNEL_CODE=$e.DEFAULT_CHANNEL_CODE,this.customFields=this.getCustomFieldConfig("Channel"),this.detailForm=this.formBuilder.group({code:["",x.required],token:["",x.required],pricesIncludeTax:[!1],availableLanguageCodes:[[]],availableCurrencyCodes:[[]],defaultCurrencyCode:["",x.required],defaultShippingZoneId:["",x.required],defaultLanguageCode:[void 0,x.required],defaultTaxZoneId:["",x.required],sellerId:["",x.required],customFields:this.formBuilder.group(Pe(this.customFields))}),this.updatePermission=[T.SuperAdmin,T.UpdateChannel,T.CreateChannel]}ngOnInit(){this.init(),this.sellers$=this.dataService.settings.getSellerList().mapSingle(e=>e.sellers.items),this.availableLanguageCodes$=this.serverConfigService.getAvailableLanguages(),this.detailForm.controls.availableCurrencyCodes.valueChanges.pipe(Je(this.destroy$)).subscribe(e=>{if(e){let n=this.detailForm.controls.defaultCurrencyCode.value;n&&!e.includes(n)&&this.detailForm.controls.defaultCurrencyCode.setValue(e[0])}}),this.detailForm.controls.availableLanguageCodes.valueChanges.pipe(Je(this.destroy$)).subscribe(e=>{if(e){let n=this.detailForm.controls.defaultLanguageCode.value;n&&!e.includes(n)&&this.detailForm.controls.defaultLanguageCode.setValue(e[0])}})}ngOnDestroy(){this.destroy()}saveButtonEnabled(){return this.detailForm.dirty&&this.detailForm.valid}create(){if(!this.detailForm.dirty)return;let{code:e,token:n,defaultLanguageCode:i,pricesIncludeTax:c,defaultCurrencyCode:h,defaultShippingZoneId:F,defaultTaxZoneId:W,customFields:Q,sellerId:We}=this.detailForm.value;if(!e||!n||!i||!h||!F||!W)return;let st={code:e,token:n,defaultLanguageCode:i,pricesIncludeTax:!!c,defaultCurrencyCode:h,defaultShippingZoneId:F,defaultTaxZoneId:W,customFields:Q,sellerId:We};this.dataService.settings.createChannel(st).pipe(Y(({createChannel:Ve})=>this.dataService.auth.currentUser().single$.pipe(E(({me:St})=>({me:St,createChannel:Ve})))),Y(({me:Ve,createChannel:St})=>this.dataService.client.updateUserChannels(Ve.channels).pipe(E(()=>St)))).subscribe(Ve=>{switch(Ve.__typename){case"Channel":this.notificationService.success("common.notify-create-success",{entity:"Channel"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",Ve.id],{relativeTo:this.route});break;case"LanguageNotAvailableError":this.notificationService.error(Ve.message);break}})}save(){if(!this.detailForm.dirty)return;let e=this.detailForm.value;this.entity$.pipe(ce(1),Y(n=>{let i={id:n.id,code:e.code,token:e.token,pricesIncludeTax:e.pricesIncludeTax,availableLanguageCodes:e.availableLanguageCodes,availableCurrencyCodes:e.availableCurrencyCodes,defaultCurrencyCode:e.defaultCurrencyCode,defaultShippingZoneId:e.defaultShippingZoneId,defaultLanguageCode:e.defaultLanguageCode,defaultTaxZoneId:e.defaultTaxZoneId,customFields:e.customFields,sellerId:e.sellerId};return this.dataService.settings.updateChannel(i)})).subscribe(({updateChannel:n})=>{switch(n.__typename){case"Channel":this.notificationService.success("common.notify-update-success",{entity:"Channel"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck();break;case"LanguageNotAvailableError":this.notificationService.error(n.message)}})}setFormValues(e,n){if(this.detailForm.patchValue({code:e.code,token:e.token||this.generateToken(),pricesIncludeTax:e.pricesIncludeTax,availableLanguageCodes:e.availableLanguageCodes,availableCurrencyCodes:e.availableCurrencyCodes,defaultCurrencyCode:e.defaultCurrencyCode,defaultShippingZoneId:e.defaultShippingZone?.id??"",defaultLanguageCode:e.defaultLanguageCode,defaultTaxZoneId:e.defaultTaxZone?.id??"",sellerId:e.seller?.id??""}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get(["customFields"]),e),e.code===$e.DEFAULT_CHANNEL_CODE){let i=this.detailForm.get("code");i&&i.disable()}}generateToken(){return Array.from(crypto.getRandomValues(new Uint8Array(10))).map(e=>e.toString(16).padStart(2,"0")).join("")}static{this.\u0275fac=function(n){return new(n||t)(v(hn),v(pe),v(R),v(me),v(X))}}static{this.\u0275cmp=B({type:t,selectors:[["vdr-channel-detail"]],standalone:!1,features:[w],decls:70,vars:74,consts:[["updateButton",""],["locationId","channel-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],[1,"form",3,"formGroup"],[4,"ngIf"],[1,"form-grid"],["class","form-grid-span","for","code",3,"label",4,"ngIf"],["class","form-grid-span",3,"label",4,"ngIf"],["for","token",3,"label"],["id","token","type","text","formControlName","token",3,"readonly"],["for","sellerId",3,"label"],["name","sellerId","formControlName","sellerId",3,"vdrDisabled"],["selected","","value","",2,"display","none"],[3,"value",4,"ngFor","ngForOf"],["for","availableLanguageCodes",3,"label"],["formControlName","availableLanguageCodes",3,"languageCodes"],["for","availableCurrencyCodes",3,"label"],["formControlName","availableCurrencyCodes"],[3,"title"],["for","defaultLanguage",3,"label"],["name","defaultLanguageCode","formControlName","defaultLanguageCode",3,"vdrDisabled"],["for","defaultCurrency",3,"label"],["name","defaultCurrencyCode","formControlName","defaultCurrencyCode",3,"vdrDisabled"],["for","defaultTaxZoneId",3,"label"],["formControlName","defaultTaxZoneId",3,"vdrDisabled"],["clrAlertType","danger",3,"clrAlertClosable",4,"ngIf"],["for","defaultShippingZoneId",3,"label"],["name","defaultShippingZoneId","formControlName","defaultShippingZoneId",3,"vdrDisabled"],["for","pricesIncludeTax",3,"label"],["type","checkbox","clrToggle","","id","pricesIncludeTax","formControlName","pricesIncludeTax",3,"vdrDisabled"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","channel-detail",3,"entity$","detailForm"],[1,"btn","btn-primary",3,"click","disabled"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"entity"],["for","code",1,"form-grid-span",3,"label"],["id","code","type","text","formControlName","code",3,"readonly"],[1,"form-grid-span",3,"label"],[3,"value"],["clrAlertType","danger",3,"clrAlertClosable"],[1,"alert-text"],["formGroupName","customFields",3,"title"],["entityName","Channel",3,"customFields","customFieldsFormGroup"]],template:function(n,i){if(n&1&&(s(0,"vdr-page-block")(1,"vdr-action-bar"),m(2,"vdr-ab-left"),s(3,"vdr-ab-right"),m(4,"vdr-action-bar-items",1),u(5,So,3,4,"button",2),r(6,"async"),u(7,Do,1,2,"ng-template",null,0,ee),m(9,"vdr-action-bar-dropdown-menu",1),d()()(),s(10,"form",3)(11,"vdr-page-detail-layout")(12,"vdr-page-detail-sidebar"),u(13,Po,2,1,"vdr-card",4),r(14,"async"),d(),s(15,"vdr-page-block")(16,"vdr-card")(17,"div",5),u(18,xo,4,6,"vdr-form-field",6)(19,Bo,5,8,"vdr-form-item",7),s(20,"vdr-form-field",8),r(21,"translate"),m(22,"input",9),r(23,"hasPermission"),d(),s(24,"vdr-form-field",10),r(25,"translate"),s(26,"select",11),r(27,"hasPermission"),m(28,"option",12),u(29,ko,2,2,"option",13),r(30,"async"),d()(),s(31,"vdr-form-field",14),r(32,"translate"),m(33,"vdr-language-code-selector",15),r(34,"async"),d(),s(35,"vdr-form-field",16),r(36,"translate"),m(37,"vdr-currency-code-selector",17),d()()(),s(38,"vdr-card",18),r(39,"translate"),s(40,"div",5)(41,"vdr-form-field",19),r(42,"translate"),s(43,"select",20),r(44,"hasPermission"),u(45,Lo,4,7,"option",13),d()(),s(46,"vdr-form-field",21),r(47,"translate"),s(48,"select",22),r(49,"hasPermission"),u(50,Ao,3,4,"option",13),d()(),s(51,"div")(52,"vdr-form-field",23),r(53,"translate"),m(54,"vdr-zone-selector",24),r(55,"hasPermission"),d(),u(56,Eo,5,4,"clr-alert",25),d(),s(57,"div")(58,"vdr-form-field",26),r(59,"translate"),m(60,"vdr-zone-selector",27),r(61,"hasPermission"),d(),u(62,Mo,5,4,"clr-alert",25),d(),s(63,"vdr-form-field",28),r(64,"translate"),s(65,"clr-toggle-wrapper"),m(66,"input",29),r(67,"hasPermission"),d()()()(),u(68,$o,3,5,"vdr-card",30),m(69,"vdr-custom-detail-component-host",31),d()()()),n&2){let c=J(8);a(5),o("ngIf",l(6,32,i.isNew$))("ngIfElse",c),a(5),o("formGroup",i.detailForm),a(3),o("ngIf",l(14,34,i.entity$)),a(5),o("ngIf",(i.entity==null?null:i.entity.code)!==i.DEFAULT_CHANNEL_CODE),a(),o("ngIf",(i.entity==null?null:i.entity.code)===i.DEFAULT_CHANNEL_CODE),a(),o("label",l(21,36,"settings.channel-token")),a(2),o("readonly",!l(23,38,i.updatePermission)),a(2),o("label",l(25,40,"common.seller")),a(2),o("vdrDisabled",!l(27,42,i.updatePermission)),a(3),o("ngForOf",l(30,44,i.sellers$)),a(2),o("label",l(32,46,"common.available-languages")),a(2),o("languageCodes",l(34,48,i.availableLanguageCodes$)),a(2),o("label",l(36,50,"common.available-currencies")),a(3),o("title",l(39,52,"settings.defaults")),a(3),o("label",l(42,54,"common.default-language")),a(2),o("vdrDisabled",!l(44,56,i.updatePermission)),a(2),o("ngForOf",i.detailForm.value.availableLanguageCodes),a(),o("label",l(47,58,"settings.default-currency")),a(2),o("vdrDisabled",!l(49,60,i.updatePermission)),a(2),o("ngForOf",i.detailForm.value.availableCurrencyCodes),a(2),o("label",l(53,62,"settings.default-tax-zone")),a(2),o("vdrDisabled",!l(55,64,i.updatePermission)),a(2),o("ngIf",i.detailForm.value.code&&!i.detailForm.value.defaultTaxZoneId),a(2),o("label",l(59,66,"settings.default-shipping-zone")),a(2),o("vdrDisabled",!l(61,68,i.updatePermission)),a(2),o("ngIf",i.detailForm.value.code&&!i.detailForm.value.defaultShippingZoneId),a(),o("label",l(64,70,"settings.prices-include-tax")),a(3),o("vdrDisabled",!l(67,72,i.updatePermission)),a(2),o("ngIf",i.customFields.length),a(),o("entity$",i.entity$)("detailForm",i.detailForm)}},dependencies:[Di,Pi,xi,Ue,ze,U,N,ae,tt,it,te,He,et,ie,oe,re,le,he,G,H,V,z,se,ne,Dn,q,O,we,Ce,Te,M,_e,ve,ye,de,Ut,An,jt,A,pi,k,vn,be,ot,yn],styles:["clr-alert[_ngcontent-%COMP%]{max-width:30rem;margin-bottom:12px}"],changeDetection:0})}}return t})(),Cs=ke({location:"channel-list",requiresPermission:t=>t.includes(T.SuperAdmin)||t.includes(T.DeleteChannel),getItemName:t=>t.code,bulkDelete:(t,p)=>t.settings.deleteChannels(p).pipe(Y(({deleteChannels:e})=>t.auth.currentUser().single$.pipe(E(({me:n})=>({me:n,deleteChannels:e})))),Y(({me:e,deleteChannels:n})=>t.client.updateUserChannels(e.channels).pipe(E(()=>n))))}),Md=D`
    query GetChannelList($options: ChannelListOptions) {
        channels(options: $options) {
            items {
                ...Channel
            }
            totalItems
        }
    }
    ${Nt}
`,_s=(()=>{class t extends Be{constructor(){super(),this.dataTableListId="channel-list",this.customFields=this.getCustomFieldConfig("Channel"),this.filters=this.createFilterCollection().addIdFilter().addDateFilters().addFilter({name:"code",type:{kind:"text"},label:"common.code",filterField:"code"}).addFilter({name:"token",type:{kind:"text"},label:"settings.channel-token",filterField:"token"}).addCustomFieldFilters(this.customFields).connectToRoute(this.route),this.sorts=this.createSortCollection().defaultSort("createdAt","DESC").addSort({name:"createdAt"}).addSort({name:"updatedAt"}).addSort({name:"code"}).addSort({name:"token"}).addCustomFieldSorts(this.customFields).connectToRoute(this.route),super.configure({document:wi,getItems:e=>e.channels,setVariables:(e,n)=>({options:{skip:e,take:n,filter:$({code:{contains:this.searchTermControl.value}},this.filters.createFilterInput()),sort:this.sorts.createSortInput()}}),refreshListOnChanges:[this.filters.valueChanges,this.sorts.valueChanges]})}isDefaultChannel(e){return e===$e.DEFAULT_CHANNEL_CODE}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=B({type:t,selectors:[["vdr-channel-list"]],standalone:!1,features:[w],decls:31,vars:46,consts:[["locationId","channel-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],[1,"mt-2",3,"pageChange","itemsPerPageChange","visibleColumnsChange","id","items","itemsPerPage","totalItems","currentPage","filters"],["locationId","channel-list",3,"hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault"],["id","created-at",3,"heading","hiddenByDefault","sort"],["id","updated-at",3,"heading","hiddenByDefault","sort"],["id","code",3,"heading","optional","sort"],["id","channel-token",3,"heading","sort"],[3,"customField","sorts",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],[3,"customField","sorts"]],template:function(n,i){n&1&&(s(0,"vdr-page-block")(1,"vdr-action-bar"),m(2,"vdr-ab-left"),s(3,"vdr-ab-right"),m(4,"vdr-action-bar-items",0),u(5,No,4,5,"a",1),m(6,"vdr-action-bar-dropdown-menu",0),d()()(),s(7,"vdr-data-table-2",2),r(8,"async"),r(9,"async"),r(10,"async"),r(11,"async"),_("pageChange",function(h){return i.setPageNumber(h)})("itemsPerPageChange",function(h){return i.setItemsPerPage(h)})("visibleColumnsChange",function(h){return i.setVisibleColumns(h)}),m(12,"vdr-bulk-action-menu",3)(13,"vdr-dt2-search",4),r(14,"translate"),s(15,"vdr-dt2-column",5),r(16,"translate"),u(17,Ro,1,1,"ng-template"),d(),s(18,"vdr-dt2-column",6),r(19,"translate"),u(20,Oo,2,4,"ng-template"),d(),s(21,"vdr-dt2-column",7),r(22,"translate"),u(23,Vo,2,4,"ng-template"),d(),s(24,"vdr-dt2-column",8),r(25,"translate"),u(26,Go,6,8,"ng-template"),d(),s(27,"vdr-dt2-column",9),r(28,"translate"),u(29,Zo,1,1,"ng-template"),d(),u(30,qo,1,2,"vdr-dt2-custom-field-column",10),d()),n&2&&(a(5),o("vdrIfPermissions",L(45,wo)),a(2),o("id",i.dataTableListId)("items",l(8,25,i.items$))("itemsPerPage",l(9,27,i.itemsPerPage$))("totalItems",l(10,29,i.totalItems$))("currentPage",l(11,31,i.currentPage$))("filters",i.filters),a(5),o("hostComponent",i)("selectionManager",i.selectionManager),a(),o("searchTermControl",i.searchTermControl)("searchTermPlaceholder",l(14,33,"catalog.filter-by-name")),a(2),o("heading",l(16,35,"common.id"))("hiddenByDefault",!0),a(3),o("heading",l(19,37,"common.created-at"))("hiddenByDefault",!0)("sort",i.sorts.get("createdAt")),a(3),o("heading",l(22,39,"common.updated-at"))("hiddenByDefault",!0)("sort",i.sorts.get("updatedAt")),a(3),o("heading",l(25,41,"common.code"))("optional",!1)("sort",i.sorts.get("code")),a(3),o("heading",l(28,43,"settings.channel-token"))("sort",i.sorts.get("token")),a(3),o("ngForOf",i.customFields))},dependencies:[K,U,ge,G,H,V,z,q,O,Fe,De,Se,Ie,Ee,M,A,k,ot,fe],encapsulation:2,changeDetection:0})}}return t})(),$d=D`
    query GetCountryDetail($id: ID!) {
        country(id: $id) {
            ...Country
        }
    }
    ${mn}
`,vs=(()=>{class t extends ue{constructor(e,n,i,c){super(),this.changeDetector=e,this.dataService=n,this.formBuilder=i,this.notificationService=c,this.customFields=this.getCustomFieldConfig("Region"),this.detailForm=this.formBuilder.group({code:["",x.required],name:["",x.required],enabled:[!0],customFields:this.formBuilder.group(Pe(this.customFields))}),this.updatePermission=[T.UpdateSettings,T.UpdateCountry]}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}create(){if(!this.detailForm.dirty)return;let e=this.detailForm.value,n=lt({translatable:{id:"",createdAt:"",updatedAt:"",code:"",name:"",enabled:!1,translations:[]},updatedFields:e,languageCode:this.languageCode,customFieldConfig:this.customFields,defaultTranslation:{name:e.name??"",languageCode:this.languageCode}});this.dataService.settings.createCountry(n).subscribe(i=>{this.notificationService.success("common.notify-create-success",{entity:"Country"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",i.createCountry.id],{relativeTo:this.route})},i=>{this.notificationService.error("common.notify-create-error",{entity:"Country"})})}save(){Ze(this.entity$,this.languageCode$).pipe(ce(1),Y(([e,n])=>{let i=this.detailForm.value,c=lt({translatable:e,updatedFields:i,customFieldConfig:this.customFields,languageCode:n,defaultTranslation:{name:i.name??"",languageCode:n}});return this.dataService.settings.updateCountry(c)})).subscribe(e=>{this.notificationService.success("common.notify-update-success",{entity:"Country"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},e=>{this.notificationService.error("common.notify-update-error",{entity:"Country"})})}setFormValues(e,n){let i=bt(e,n);this.detailForm.patchValue({code:e.code,name:i?i.name:"",enabled:e.enabled}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get(["customFields"]),e,i)}static{this.\u0275fac=function(n){return new(n||t)(v(pe),v(R),v(me),v(X))}}static{this.\u0275cmp=B({type:t,selectors:[["vdr-country-detail"]],standalone:!1,features:[w],decls:38,vars:38,consts:[["updateButton",""],[3,"languageCodeChange","disabled","availableLanguageCodes","currentLanguageCode"],["locationId","country-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],[1,"form",3,"formGroup"],["for","enabled",3,"label"],["type","checkbox","clrToggle","","id","enabled","formControlName","enabled",3,"vdrDisabled"],[4,"ngIf"],[1,"form-grid"],["for","name",3,"label"],["id","name","type","text","formControlName","name",3,"readonly"],["for","code",3,"label"],["id","code","type","text","formControlName","code",3,"readonly"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","country-detail",3,"entity$","detailForm"],[1,"btn","btn-primary",3,"click","disabled"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"entity"],["formGroupName","customFields",3,"title"],["entityName","Region",3,"customFields","customFieldsFormGroup"]],template:function(n,i){if(n&1){let c=S();s(0,"vdr-page-block")(1,"vdr-action-bar")(2,"vdr-ab-left")(3,"vdr-language-selector",1),r(4,"async"),r(5,"async"),r(6,"async"),_("languageCodeChange",function(F){return y(c),b(i.setLanguage(F))}),d()(),s(7,"vdr-ab-right"),m(8,"vdr-action-bar-items",2),u(9,Ho,3,4,"button",3),r(10,"async"),u(11,Uo,1,1,"ng-template",null,0,ee),m(13,"vdr-action-bar-dropdown-menu",2),d()()(),s(14,"form",4)(15,"vdr-page-detail-layout")(16,"vdr-page-detail-sidebar")(17,"vdr-card")(18,"vdr-form-field",5),r(19,"translate"),s(20,"clr-toggle-wrapper"),m(21,"input",6),r(22,"hasPermission"),d()()(),u(23,jo,2,1,"vdr-card",7),r(24,"async"),d(),s(25,"vdr-page-block")(26,"vdr-card")(27,"div",8)(28,"vdr-form-field",9),r(29,"translate"),m(30,"input",10),r(31,"hasPermission"),d(),s(32,"vdr-form-field",11),r(33,"translate"),m(34,"input",12),r(35,"hasPermission"),d()()(),u(36,Wo,3,5,"vdr-card",13),m(37,"vdr-custom-detail-component-host",14),d()()()}if(n&2){let c=J(12);a(3),o("disabled",l(4,16,i.isNew$))("availableLanguageCodes",l(5,18,i.availableLanguages$))("currentLanguageCode",l(6,20,i.languageCode$)),a(6),o("ngIf",l(10,22,i.isNew$))("ngIfElse",c),a(5),o("formGroup",i.detailForm),a(4),o("label",l(19,24,"common.enabled")),a(3),o("vdrDisabled",!l(22,26,i.updatePermission)),a(2),o("ngIf",l(24,28,i.entity$)),a(5),o("label",l(29,30,"common.name")),a(2),o("readonly",!l(31,32,i.updatePermission)),a(2),o("label",l(33,34,"common.code")),a(2),o("readonly",!l(35,36,i.updatePermission)),a(2),o("ngIf",i.customFields.length),a(),o("entity$",i.entity$)("detailForm",i.detailForm)}},dependencies:[Ue,ze,N,ae,te,He,ie,oe,re,le,he,G,H,V,z,se,ne,Oe,q,O,we,Ce,Te,M,_e,ve,ye,de,A,k,be],encapsulation:2,changeDetection:0})}}return t})(),ys=ke({location:"country-list",requiresPermission:t=>t.includes(T.DeleteSettings)||t.includes(T.DeleteCountry),getItemName:t=>t.name,bulkDelete:(t,p)=>t.settings.deleteCountries(p).pipe(E(e=>e.deleteCountries))}),wd=D`
    query GetCountryList($options: CountryListOptions) {
        countries(options: $options) {
            items {
                ...CountryListItem
            }
            totalItems
        }
    }
    fragment CountryListItem on Country {
        id
        createdAt
        updatedAt
        code
        name
        type
        enabled
    }
`,bs=(()=>{class t extends Be{constructor(){super(),this.dataTableListId="country-list",this.customFields=this.getCustomFieldConfig("Region"),this.filters=this.createFilterCollection().addIdFilter().addDateFilters().addFilter({name:"name",type:{kind:"text"},label:"common.name",filterField:"name"}).addFilter({name:"code",type:{kind:"text"},label:"common.code",filterField:"code"}).addFilter({name:"enabled",type:{kind:"boolean"},label:"common.enabled",filterField:"enabled"}).addCustomFieldFilters(this.customFields).connectToRoute(this.route),this.sorts=this.createSortCollection().defaultSort("name","ASC").addSort({name:"createdAt"}).addSort({name:"updatedAt"}).addSort({name:"name"}).addSort({name:"code"}).addCustomFieldSorts(this.customFields).connectToRoute(this.route),super.configure({document:Mt,getItems:e=>e.countries,setVariables:(e,n)=>({options:{skip:e,take:n,filter:$({name:{contains:this.searchTermControl.value}},this.filters.createFilterInput()),sort:this.sorts.createSortInput()}}),refreshListOnChanges:[this.filters.valueChanges,this.sorts.valueChanges]})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=B({type:t,selectors:[["vdr-country-list"]],standalone:!1,features:[w],decls:37,vars:55,consts:[[3,"languageCodeChange","availableLanguageCodes","currentLanguageCode"],["locationId","country-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],[1,"mt-2",3,"pageChange","itemsPerPageChange","visibleColumnsChange","id","items","itemsPerPage","totalItems","currentPage","filters"],["locationId","country-list",3,"hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault"],["id","created-at",3,"heading","hiddenByDefault","sort"],["id","updated-at",3,"heading","hiddenByDefault","sort"],["id","name",3,"heading","optional","sort"],["id","code",3,"heading","sort"],["id","enabled",3,"heading"],[3,"customField","sorts",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],["colorType","success",4,"ngIf"],["colorType","warning",4,"ngIf"],["colorType","success"],["colorType","warning"],[3,"customField","sorts"]],template:function(n,i){n&1&&(s(0,"vdr-page-block")(1,"vdr-action-bar")(2,"vdr-ab-left")(3,"vdr-language-selector",0),r(4,"async"),r(5,"async"),_("languageCodeChange",function(h){return i.setLanguage(h)}),d()(),s(6,"vdr-ab-right"),m(7,"vdr-action-bar-items",1),u(8,Qo,4,5,"a",2),m(9,"vdr-action-bar-dropdown-menu",1),d()()(),s(10,"vdr-data-table-2",3),r(11,"async"),r(12,"async"),r(13,"async"),r(14,"async"),_("pageChange",function(h){return i.setPageNumber(h)})("itemsPerPageChange",function(h){return i.setItemsPerPage(h)})("visibleColumnsChange",function(h){return i.setVisibleColumns(h)}),m(15,"vdr-bulk-action-menu",4)(16,"vdr-dt2-search",5),r(17,"translate"),s(18,"vdr-dt2-column",6),r(19,"translate"),u(20,Yo,1,1,"ng-template"),d(),s(21,"vdr-dt2-column",7),r(22,"translate"),u(23,Xo,2,4,"ng-template"),d(),s(24,"vdr-dt2-column",8),r(25,"translate"),u(26,Jo,2,4,"ng-template"),d(),s(27,"vdr-dt2-column",9),r(28,"translate"),u(29,ea,4,4,"ng-template"),d(),s(30,"vdr-dt2-column",10),r(31,"translate"),u(32,ta,1,1,"ng-template"),d(),s(33,"vdr-dt2-column",11),r(34,"translate"),u(35,oa,2,2,"ng-template"),d(),u(36,aa,1,2,"vdr-dt2-custom-field-column",12),d()),n&2&&(a(3),o("availableLanguageCodes",l(4,28,i.availableLanguages$))("currentLanguageCode",l(5,30,i.contentLanguage$)),a(5),o("vdrIfPermissions",L(54,Ko)),a(2),o("id",i.dataTableListId)("items",l(11,32,i.items$))("itemsPerPage",l(12,34,i.itemsPerPage$))("totalItems",l(13,36,i.totalItems$))("currentPage",l(14,38,i.currentPage$))("filters",i.filters),a(5),o("hostComponent",i)("selectionManager",i.selectionManager),a(),o("searchTermControl",i.searchTermControl)("searchTermPlaceholder",l(17,40,"catalog.filter-by-name")),a(2),o("heading",l(19,42,"common.id"))("hiddenByDefault",!0),a(3),o("heading",l(22,44,"common.created-at"))("hiddenByDefault",!0)("sort",i.sorts.get("createdAt")),a(3),o("heading",l(25,46,"common.updated-at"))("hiddenByDefault",!0)("sort",i.sorts.get("updatedAt")),a(3),o("heading",l(28,48,"common.name"))("optional",!1)("sort",i.sorts.get("name")),a(3),o("heading",l(31,50,"common.code"))("sort",i.sorts.get("code")),a(3),o("heading",l(34,52,"common.enabled")),a(3),o("ngForOf",i.customFields))},dependencies:[K,U,N,ge,G,H,V,z,Re,Oe,q,O,Fe,De,Se,Ie,Ee,M,A,k,fe],styles:[".search-input[_ngcontent-%COMP%]{margin-top:6px;min-width:300px}"],changeDetection:0})}}return t})(),Nd=D`
    query GetGlobalSettingsDetail {
        globalSettings {
            ...GlobalSettingsDetail
        }
    }
    fragment GlobalSettingsDetail on GlobalSettings {
        id
        createdAt
        updatedAt
        availableLanguages
        trackInventory
        outOfStockThreshold
    }
`,Fs=(()=>{class t extends ue{constructor(e,n,i,c){super(),this.changeDetector=e,this.dataService=n,this.formBuilder=i,this.notificationService=c,this.customFields=this.getCustomFieldConfig("GlobalSettings"),this.detailForm=this.formBuilder.group({availableLanguages:[[]],trackInventory:!1,outOfStockThreshold:[0,x.required],customFields:this.formBuilder.group(Pe(this.customFields))}),this.languageCodes=Object.values(Ai),this.updatePermission=[T.UpdateSettings,T.UpdateGlobalSettings]}ngOnInit(){this.init(),this.dataService.client.userStatus().single$.subscribe(({userStatus:e})=>{if(!e.permissions.includes(T.UpdateSettings)){let n=this.detailForm.get("availableLanguages");n&&n.disable()}})}ngOnDestroy(){this.destroy()}save(){this.detailForm.dirty&&this.dataService.settings.updateGlobalSettings(this.detailForm.value).pipe(kt(({updateGlobalSettings:e})=>{switch(e.__typename){case"GlobalSettings":this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.notificationService.success("common.notify-update-success",{entity:"Settings"});break;case"ChannelDefaultLanguageError":this.notificationService.error(e.message)}}),qe(()=>this.serverConfigService.refreshGlobalSettings()),Lt(this.dataService.client.uiState().single$)).subscribe(([{globalSettings:e},{uiState:n}])=>{let i=e.availableLanguages;i.length&&!i.includes(n.contentLanguage)&&this.dataService.client.setContentLanguage(i[0]).subscribe()})}setFormValues(e,n){this.detailForm.patchValue({availableLanguages:e.availableLanguages,trackInventory:e.trackInventory,outOfStockThreshold:e.outOfStockThreshold}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get("customFields"),e)}static{this.\u0275fac=function(n){return new(n||t)(v(pe),v(R),v(me),v(X))}}static{this.\u0275cmp=B({type:t,selectors:[["vdr-global-settings"]],standalone:!1,features:[w],decls:27,vars:30,consts:[["locationId","global-setting-detail"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[1,"form",3,"formGroup"],[1,"form-grid"],["for","availableLanguages",3,"label","tooltip"],["formControlName","availableLanguages",3,"languageCodes"],["for","outOfStockThreshold",3,"label","tooltip"],["id","outOfStockThreshold","type","number","formControlName","outOfStockThreshold",3,"readonly"],["for","enabled",3,"label","tooltip"],["type","checkbox","clrToggle","","name","enabled","formControlName","trackInventory",3,"vdrDisabled"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","global-settings-detail",3,"entity$","detailForm"],[1,"btn","btn-primary",3,"click","disabled"],["formGroupName","customFields",3,"title"],["entityName","GlobalSettings",3,"customFields","customFieldsFormGroup","readonly"]],template:function(n,i){n&1&&(s(0,"vdr-page-block")(1,"vdr-action-bar")(2,"vdr-ab-right"),m(3,"vdr-action-bar-items",0),u(4,ra,3,4,"button",1),m(5,"vdr-action-bar-dropdown-menu",0),d()()(),s(6,"form",2)(7,"vdr-page-block")(8,"vdr-card")(9,"div",3)(10,"vdr-form-field",4),r(11,"translate"),r(12,"translate"),m(13,"vdr-language-code-selector",5),d(),s(14,"vdr-form-field",6),r(15,"translate"),r(16,"translate"),m(17,"input",7),r(18,"hasPermission"),d(),s(19,"vdr-form-field",8),r(20,"translate"),r(21,"translate"),s(22,"clr-toggle-wrapper"),m(23,"input",9),r(24,"hasPermission"),d()()()(),u(25,la,4,8,"vdr-card",10),m(26,"vdr-custom-detail-component-host",11),d()()),n&2&&(a(4),o("vdrIfPermissions",i.updatePermission),a(2),o("formGroup",i.detailForm),a(4),o("label",l(11,14,"common.available-languages"))("tooltip",l(12,16,"settings.global-available-languages-tooltip")),a(3),o("languageCodes",i.languageCodes),a(),o("label",l(15,18,"settings.global-out-of-stock-threshold"))("tooltip",l(16,20,"settings.global-out-of-stock-threshold-tooltip")),a(3),o("readonly",!l(18,22,i.updatePermission)),a(2),o("label",l(20,24,"settings.track-inventory-default"))("tooltip",l(21,26,"catalog.track-inventory-tooltip")),a(4),o("vdrDisabled",!l(24,28,i.updatePermission)),a(2),o("ngIf",i.customFields.length),a(),o("entity$",i.entity$)("detailForm",i.detailForm))},dependencies:[Ue,ze,N,ae,te,ht,He,ie,oe,re,le,he,G,V,z,se,ne,q,O,we,Ce,Te,M,de,jt,k,be],styles:["ng-select .ng-value>span{margin:0!important}  ng-select .ng-arrow-wrapper .ng-arrow{margin:0!important}  ng-select .ng-select-container>span{margin:0!important}"],changeDetection:0})}}return t})(),Rd=D`
    query GetPaymentMethodDetail($id: ID!) {
        paymentMethod(id: $id) {
            ...PaymentMethod
        }
    }
    ${un}
`,Ts=(()=>{class t extends ue{constructor(e,n,i,c){super(),this.changeDetector=e,this.dataService=n,this.formBuilder=i,this.notificationService=c,this.customFields=this.getCustomFieldConfig("PaymentMethod"),this.detailForm=this.formBuilder.group({code:["",x.required],name:["",x.required],description:"",enabled:[!0,x.required],checker:{},handler:{},customFields:this.formBuilder.group(Pe(this.customFields))}),this.checkers=[],this.handlers=[],this.updatePermission=[T.UpdateSettings,T.UpdatePaymentMethod]}ngOnInit(){this.init(),this.dataService.settings.getPaymentMethodOperations().single$.subscribe(e=>{this.checkers=e.paymentMethodEligibilityCheckers,this.handlers=e.paymentMethodHandlers,this.changeDetector.markForCheck(),this.selectedCheckerDefinition=e.paymentMethodEligibilityCheckers.find(n=>n.code===this.entity?.checker?.code),this.selectedHandlerDefinition=e.paymentMethodHandlers.find(n=>n.code===this.entity?.handler?.code)})}ngOnDestroy(){this.destroy()}updateCode(e,n){if(!e){let i=this.detailForm.get("code");i&&i.pristine&&i.setValue((0,Tt.normalizeString)(n,"-"))}}selectChecker(e){this.selectedCheckerDefinition=e,this.selectedChecker=rt(e);let n=this.detailForm.get("checker");n&&(n.clearValidators(),n.updateValueAndValidity({onlySelf:!0}),n.patchValue(this.selectedChecker)),this.detailForm.markAsDirty()}selectHandler(e){this.selectedHandlerDefinition=e,this.selectedHandler=rt(e);let n=this.detailForm.get("handler");n&&(n.clearValidators(),n.updateValueAndValidity({onlySelf:!0}),n.patchValue(this.selectedHandler)),this.detailForm.markAsDirty()}removeChecker(){this.selectedChecker=null,this.detailForm.markAsDirty()}removeHandler(){this.selectedHandler=null,this.detailForm.markAsDirty()}create(){let e=this.selectedChecker,n=this.selectedHandler;if(!n)return;let i=this.getUpdatedPaymentMethod({id:"",createdAt:"",updatedAt:"",name:"",code:"",description:"",enabled:!0,checker:void 0,handler:void 0,translations:[]},this.detailForm,this.languageCode,n,e);this.dataService.settings.createPaymentMethod(i).subscribe(c=>{this.notificationService.success("common.notify-create-success",{entity:"PaymentMethod"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",c.createPaymentMethod.id],{relativeTo:this.route})},c=>{this.notificationService.error("common.notify-create-error",{entity:"PaymentMethod"})})}save(){let e=this.selectedChecker,n=this.selectedHandler;n&&Ze(this.entity$,this.languageCode$).pipe(ce(1),Y(([i,c])=>{let h=this.getUpdatedPaymentMethod(i,this.detailForm,c,n,e);return this.dataService.settings.updatePaymentMethod(h)})).subscribe(i=>{this.notificationService.success("common.notify-update-success",{entity:"PaymentMethod"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},i=>{this.notificationService.error("common.notify-update-error",{entity:"PaymentMethod"})})}getUpdatedPaymentMethod(e,n,i,c,h){let F=lt({translatable:e,updatedFields:n.value,customFieldConfig:this.customFields,languageCode:i,defaultTranslation:{languageCode:i,name:e.name||"",description:e.description||""}});return Ae($({},F),{checker:h?Ne(h,n.value.checker):null,handler:Ne(c,n.value.handler)})}setFormValues(e,n){let i=bt(e,n);this.detailForm.patchValue({name:i?.name,code:e.code,description:i?.description,enabled:e.enabled,checker:e.checker||{},handler:e.handler||{}}),this.selectedChecker||(this.selectedChecker=e.checker&&{code:e.checker.code,args:e.checker.args.map(c=>Ae($({},c),{value:at(c.value)}))}),this.selectedHandler||(this.selectedHandler=e.handler&&{code:e.handler.code,args:e.handler.args.map(c=>Ae($({},c),{value:at(c.value)}))}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get("customFields"),e,i)}static{this.\u0275fac=function(n){return new(n||t)(v(pe),v(R),v(me),v(X))}}static{this.\u0275cmp=B({type:t,selectors:[["vdr-payment-method-detail"]],standalone:!1,features:[w],decls:50,vars:57,consts:[["updateButton",""],[3,"languageCodeChange","disabled","availableLanguageCodes","currentLanguageCode"],["locationId","payment-method-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],[1,"form",3,"formGroup"],["for","description",3,"label"],["type","checkbox","clrToggle","","id","enabled","formControlName","enabled",3,"vdrDisabled"],[4,"ngIf"],[1,"form-grid"],["for","name",3,"label"],["id","name","type","text","formControlName","name",3,"input","readonly"],["for","code",3,"label","readOnlyToggle"],["id","code","type","text","formControlName","code",3,"readonly"],["formControlName","description",1,"form-grid-span",3,"readonly","label"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","payment-method-detail",3,"entity$","detailForm"],[3,"title"],["formControlName","checker",3,"operation","operationDefinition","readonly","remove",4,"ngIf"],["formControlName","handler",3,"operation","operationDefinition","readonly","remove",4,"ngIf"],[1,"btn","btn-primary",3,"click","disabled"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"entity"],["formGroupName","customFields",3,"title"],["entityName","PaymentMethod",3,"customFields","customFieldsFormGroup"],["formControlName","checker",3,"remove","operation","operationDefinition","readonly"],["vdrDropdownTrigger","",1,"btn","btn-outline"],["shape","plus"],["vdrPosition","bottom-left"],["type","button","vdrDropdownItem","",3,"click",4,"ngFor","ngForOf"],["type","button","vdrDropdownItem","",3,"click"],["formControlName","handler",3,"remove","operation","operationDefinition","readonly"]],template:function(n,i){if(n&1){let c=S();s(0,"vdr-page-block")(1,"vdr-action-bar")(2,"vdr-ab-left")(3,"vdr-language-selector",1),r(4,"async"),r(5,"async"),r(6,"async"),_("languageCodeChange",function(F){return y(c),b(i.setLanguage(F))}),d()(),s(7,"vdr-ab-right"),m(8,"vdr-action-bar-items",2),u(9,sa,3,4,"button",3),r(10,"async"),u(11,pa,1,1,"ng-template",null,0,ee),m(13,"vdr-action-bar-dropdown-menu",2),d()()(),s(14,"form",4)(15,"vdr-page-detail-layout")(16,"vdr-page-detail-sidebar")(17,"vdr-card")(18,"vdr-form-field",5),r(19,"translate"),s(20,"clr-toggle-wrapper"),m(21,"input",6),r(22,"hasPermission"),d()()(),u(23,ca,2,1,"vdr-card",7),r(24,"async"),d(),s(25,"vdr-page-block")(26,"vdr-card")(27,"div",8)(28,"vdr-form-field",9),r(29,"translate"),s(30,"input",10),r(31,"hasPermission"),_("input",function(F){return y(c),b(i.updateCode(i.entity==null?null:i.entity.code,F.target.value))}),d()(),s(32,"vdr-form-field",11),r(33,"translate"),r(34,"hasPermission"),m(35,"input",12),r(36,"hasPermission"),d(),m(37,"vdr-rich-text-editor",13),r(38,"hasPermission"),r(39,"translate"),d()(),u(40,ma,3,5,"vdr-card",14),m(41,"vdr-custom-detail-component-host",15),s(42,"vdr-card",16),r(43,"translate"),u(44,ua,2,5,"vdr-configurable-input",17)(45,ha,8,4,"div",7),d(),s(46,"vdr-card",16),r(47,"translate"),u(48,fa,2,5,"vdr-configurable-input",18)(49,_a,8,4,"div",7),d()()()()}if(n&2){let c=J(12);a(3),o("disabled",l(4,25,i.isNew$))("availableLanguageCodes",l(5,27,i.availableLanguages$))("currentLanguageCode",l(6,29,i.languageCode$)),a(6),o("ngIf",l(10,31,i.isNew$))("ngIfElse",c),a(5),o("formGroup",i.detailForm),a(4),o("label",l(19,33,"common.enabled")),a(3),o("vdrDisabled",!l(22,35,i.updatePermission)),a(2),o("ngIf",l(24,37,i.entity$)),a(5),o("label",l(29,39,"common.name")),a(2),o("readonly",!l(31,41,i.updatePermission)),a(2),o("label",l(33,43,"common.code"))("readOnlyToggle",l(34,45,i.updatePermission)),a(3),o("readonly",!l(36,47,i.updatePermission)),a(2),o("readonly",!l(38,49,i.updatePermission))("label",l(39,51,"common.description")),a(3),o("ngIf",i.customFields.length),a(),o("entity$",i.entity$)("detailForm",i.detailForm),a(),o("title",l(43,53,"settings.payment-eligibility-checker")),a(2),o("ngIf",i.selectedChecker&&i.selectedCheckerDefinition),a(),o("ngIf",!i.selectedChecker||!i.selectedCheckerDefinition),a(),o("title",l(47,55,"settings.payment-handler")),a(2),o("ngIf",i.selectedHandler&&i.selectedHandlerDefinition),a(),o("ngIf",!i.selectedHandler||!i.selectedHandlerDefinition)}},dependencies:[K,Ue,ze,U,N,ae,te,He,ie,oe,re,le,he,G,H,V,z,Ht,se,ne,Oe,Ct,Ot,Vt,Gt,Zt,q,O,we,Ce,Te,M,_e,ve,ye,de,A,k,be],encapsulation:2,changeDetection:0})}}return t})(),Ss=ke({location:"payment-method-list",requiresPermission:t=>t.includes(T.DeletePaymentMethod)||t.includes(T.DeleteSettings),getItemName:t=>t.name,shouldRetryItem:(t,p)=>!!t.message,bulkDelete:(t,p,e)=>t.settings.deletePaymentMethods(p,e).pipe(E(n=>n.deletePaymentMethods))}),Od=D`
    mutation AssignPaymentMethodsToChannel($input: AssignPaymentMethodsToChannelInput!) {
        assignPaymentMethodsToChannel(input: $input) {
            id
            name
        }
    }
`,Vd=D`
    mutation RemovePaymentMethodsFromChannel($input: RemovePaymentMethodsFromChannelInput!) {
        removePaymentMethodsFromChannel(input: $input) {
            id
            name
        }
    }
`,Is=vt({location:"payment-method-list",requiresPermission:t=>t.includes(T.UpdatePaymentMethod)||t.includes(T.UpdateSettings),getItemName:t=>t.name,bulkAssignToChannel:(t,p,e)=>e.map(n=>t.mutate(Vi,{input:{channelId:n,paymentMethodIds:p}}).pipe(E(i=>i.assignPaymentMethodsToChannel)))}),Ds=yt({location:"payment-method-list",requiresPermission:t=>t.includes(T.DeletePaymentMethod)||t.includes(T.DeleteSettings),getItemName:t=>t.name,bulkRemoveFromChannel:(t,p,e)=>t.mutate(Gi,{input:{channelId:e,paymentMethodIds:p}}).pipe(E(n=>n.removePaymentMethodsFromChannel))}),Gd=D`
    query GetPaymentMethodList($options: PaymentMethodListOptions!) {
        paymentMethods(options: $options) {
            items {
                ...PaymentMethodListItem
            }
            totalItems
        }
    }
    fragment PaymentMethodListItem on PaymentMethod {
        id
        createdAt
        updatedAt
        name
        description
        code
        enabled
    }
`,Ps=(()=>{class t extends Be{constructor(){super(),this.dataTableListId="payment-method-list",this.customFields=this.getCustomFieldConfig("PaymentMethod"),this.filters=this.createFilterCollection().addIdFilter().addDateFilters().addFilter({name:"name",type:{kind:"text"},label:"common.name",filterField:"name"}).addFilter({name:"code",type:{kind:"text"},label:"common.code",filterField:"code"}).addFilter({name:"enabled",type:{kind:"boolean"},label:"common.enabled",filterField:"enabled"}).addFilter({name:"description",type:{kind:"text"},label:"common.description",filterField:"description"}).addCustomFieldFilters(this.customFields).connectToRoute(this.route),this.sorts=this.createSortCollection().defaultSort("createdAt","DESC").addSort({name:"id"}).addSort({name:"createdAt"}).addSort({name:"updatedAt"}).addSort({name:"name"}).addSort({name:"code"}).addSort({name:"description"}).addCustomFieldSorts(this.customFields).connectToRoute(this.route),super.configure({document:Zi,getItems:e=>e.paymentMethods,setVariables:(e,n)=>({options:{skip:e,take:n,filter:$({name:{contains:this.searchTermControl.value}},this.filters.createFilterInput()),sort:this.sorts.createSortInput()}}),refreshListOnChanges:[this.filters.valueChanges,this.sorts.valueChanges]})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=B({type:t,selectors:[["vdr-payment-method-list"]],standalone:!1,features:[w],decls:37,vars:56,consts:[[3,"languageCodeChange","availableLanguageCodes","currentLanguageCode"],["locationId","payment-method-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],[3,"pageChange","itemsPerPageChange","visibleColumnsChange","id","items","itemsPerPage","totalItems","currentPage","filters"],["locationId","payment-method-list",3,"hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault","sort"],["id","created-at",3,"heading","hiddenByDefault","sort"],["id","updated-at",3,"heading","hiddenByDefault","sort"],["id","name",3,"heading","optional","sort"],["id","code",3,"heading","sort"],["id","enabled",3,"heading"],[3,"customField","sorts",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],["colorType","success",4,"ngIf"],["colorType","warning",4,"ngIf"],["colorType","success"],["colorType","warning"],[3,"customField","sorts"]],template:function(n,i){n&1&&(s(0,"vdr-page-block")(1,"vdr-action-bar")(2,"vdr-ab-left")(3,"vdr-language-selector",0),r(4,"async"),r(5,"async"),_("languageCodeChange",function(h){return i.setLanguage(h)}),d()(),s(6,"vdr-ab-right"),m(7,"vdr-action-bar-items",1),u(8,ya,4,5,"a",2),m(9,"vdr-action-bar-dropdown-menu",1),d()()(),s(10,"vdr-data-table-2",3),r(11,"async"),r(12,"async"),r(13,"async"),r(14,"async"),_("pageChange",function(h){return i.setPageNumber(h)})("itemsPerPageChange",function(h){return i.setItemsPerPage(h)})("visibleColumnsChange",function(h){return i.setVisibleColumns(h)}),m(15,"vdr-bulk-action-menu",4)(16,"vdr-dt2-search",5),r(17,"translate"),s(18,"vdr-dt2-column",6),r(19,"translate"),u(20,ba,1,1,"ng-template"),d(),s(21,"vdr-dt2-column",7),r(22,"translate"),u(23,Fa,2,4,"ng-template"),d(),s(24,"vdr-dt2-column",8),r(25,"translate"),u(26,Ta,2,4,"ng-template"),d(),s(27,"vdr-dt2-column",9),r(28,"translate"),u(29,Sa,4,4,"ng-template"),d(),s(30,"vdr-dt2-column",10),r(31,"translate"),u(32,Ia,1,1,"ng-template"),d(),s(33,"vdr-dt2-column",11),r(34,"translate"),u(35,xa,2,2,"ng-template"),d(),u(36,Ba,1,2,"vdr-dt2-custom-field-column",12),d()),n&2&&(a(3),o("availableLanguageCodes",l(4,29,i.availableLanguages$))("currentLanguageCode",l(5,31,i.contentLanguage$)),a(5),o("vdrIfPermissions",L(55,va)),a(2),o("id",i.dataTableListId)("items",l(11,33,i.items$))("itemsPerPage",l(12,35,i.itemsPerPage$))("totalItems",l(13,37,i.totalItems$))("currentPage",l(14,39,i.currentPage$))("filters",i.filters),a(5),o("hostComponent",i)("selectionManager",i.selectionManager),a(),o("searchTermControl",i.searchTermControl)("searchTermPlaceholder",l(17,41,"catalog.filter-by-name")),a(2),o("heading",l(19,43,"common.id"))("hiddenByDefault",!0)("sort",i.sorts.get("id")),a(3),o("heading",l(22,45,"common.created-at"))("hiddenByDefault",!0)("sort",i.sorts.get("createdAt")),a(3),o("heading",l(25,47,"common.updated-at"))("hiddenByDefault",!0)("sort",i.sorts.get("updatedAt")),a(3),o("heading",l(28,49,"common.name"))("optional",!1)("sort",i.sorts.get("name")),a(3),o("heading",l(31,51,"common.code"))("sort",i.sorts.get("code")),a(3),o("heading",l(34,53,"common.enabled")),a(3),o("ngForOf",i.customFields))},dependencies:[K,U,N,ge,G,H,V,z,Re,Oe,q,O,Fe,De,Se,Ie,Ee,M,A,k,fe],encapsulation:2,changeDetection:0})}}return t})(),Zd=D`
    query GetProfileDetail {
        activeAdministrator {
            ...ProfileDetail
        }
    }
    fragment ProfileDetail on Administrator {
        id
        createdAt
        updatedAt
        firstName
        lastName
        emailAddress
        user {
            id
            lastLogin
            verified
        }
    }
`,xs=(()=>{class t extends ue{constructor(e,n,i,c){super(),this.changeDetector=e,this.dataService=n,this.formBuilder=i,this.notificationService=c,this.customFields=this.getCustomFieldConfig("Administrator"),this.detailForm=this.formBuilder.group({emailAddress:["",x.required],firstName:["",x.required],lastName:["",x.required],password:[""],customFields:this.formBuilder.group(Pe(this.customFields))})}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}save(){this.entity$.pipe(ce(1),Y(({id:e})=>{let n=this.detailForm.value,i={emailAddress:n.emailAddress,firstName:n.firstName,lastName:n.lastName,password:n.password,customFields:n.customFields};return this.dataService.administrator.updateActiveAdministrator(i)})).subscribe(e=>{this.notificationService.success("common.notify-update-success",{entity:"Administrator"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},e=>{this.notificationService.error("common.notify-update-error",{entity:"Administrator"})})}setFormValues(e,n){this.detailForm.patchValue({emailAddress:e.emailAddress,firstName:e.firstName,lastName:e.lastName}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get("customFields"),e)}static{this.\u0275fac=function(n){return new(n||t)(v(pe),v(R),v(me),v(X))}}static{this.\u0275cmp=B({type:t,selectors:[["vdr-profile"]],standalone:!1,features:[w],decls:32,vars:27,consts:[["locationId","profile"],[1,"btn","btn-primary",3,"click","disabled"],[1,"form",3,"formGroup"],[4,"ngIf"],[1,"form-grid"],["for","emailAddress",3,"label"],["id","emailAddress","type","text","formControlName","emailAddress"],["for","firstName",3,"label"],["id","firstName","type","text","formControlName","firstName"],["for","lastName",3,"label"],["id","lastName","type","text","formControlName","lastName"],["for","password",3,"label",4,"ngIf"],["for","password",3,"label","readOnlyToggle"],["id","password","type","password","formControlName","password"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","administrator-profile",3,"entity$","detailForm"],[3,"entity"],["for","password",3,"label"],["formGroupName","customFields",3,"title"],["entityName","Administrator",3,"customFields","customFieldsFormGroup"]],template:function(n,i){n&1&&(s(0,"vdr-page-block")(1,"vdr-action-bar"),m(2,"vdr-ab-left"),s(3,"vdr-ab-right"),m(4,"vdr-action-bar-items",0),s(5,"button",1),_("click",function(){return i.save()}),g(6),r(7,"translate"),d()()()(),s(8,"form",2)(9,"vdr-page-detail-layout")(10,"vdr-page-detail-sidebar"),u(11,ka,2,1,"vdr-card",3),r(12,"async"),d(),s(13,"vdr-page-block")(14,"vdr-card")(15,"div",4)(16,"vdr-form-field",5),r(17,"translate"),m(18,"input",6),d(),s(19,"vdr-form-field",7),r(20,"translate"),m(21,"input",8),d(),s(22,"vdr-form-field",9),r(23,"translate"),m(24,"input",10),d(),u(25,La,3,3,"vdr-form-field",11),r(26,"async"),s(27,"vdr-form-field",12),r(28,"translate"),m(29,"input",13),d()()(),u(30,Aa,3,5,"vdr-card",14),m(31,"vdr-custom-detail-component-host",15),d()()()),n&2&&(a(5),o("disabled",i.detailForm.invalid||i.detailForm.pristine),a(),C(" ",l(7,13,"common.update")," "),a(2),o("formGroup",i.detailForm),a(3),o("ngIf",l(12,15,i.entity$)),a(5),o("label",l(17,17,"settings.email-address")),a(3),o("label",l(20,19,"settings.first-name")),a(3),o("label",l(23,21,"settings.last-name")),a(3),o("ngIf",l(26,23,i.isNew$)),a(2),o("label",l(28,25,"settings.password"))("readOnlyToggle",!0),a(3),o("ngIf",i.customFields.length),a(),o("entity$",i.entity$)("detailForm",i.detailForm))},dependencies:[N,ae,te,ie,oe,re,le,he,G,H,V,se,ne,O,Ce,Te,M,_e,ve,ye,de,A,k],encapsulation:2,changeDetection:0})}}return t})(),qd=D`
    query GetRoleDetail($id: ID!) {
        role(id: $id) {
            ...Role
        }
    }
    ${At}
`,Bs=(()=>{class t extends ue{constructor(e,n,i,c){super(),this.changeDetector=e,this.dataService=n,this.formBuilder=i,this.notificationService=c,this.detailForm=this.formBuilder.group({code:["",x.required],description:["",x.required],channelIds:[[]],permissions:[[]]}),this.permissionDefinitions=this.serverConfigService.getPermissionDefinitions()}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}updateCode(e){let n=this.detailForm.get(["code"]);n&&n.pristine&&n.setValue((0,Tt.normalizeString)(e,"-"))}setPermission(e){let n=this.detailForm.get("permissions");if(n){let i=n.value,c=e.value===!0?(0,wn.unique)([...i,e.permission]):i.filter(h=>h!==e.permission);n.setValue(c),n.markAsDirty()}}create(){let{code:e,description:n,permissions:i,channelIds:c}=this.detailForm.value;if(!e||!n)return;let h={code:e,description:n,permissions:i??[],channelIds:c};this.dataService.administrator.createRole(h).subscribe(F=>{this.notificationService.success("common.notify-create-success",{entity:"Role"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",F.createRole.id],{relativeTo:this.route})},F=>{this.notificationService.error("common.notify-create-error",{entity:"Role"})})}save(){this.entity$.pipe(ce(1),Y(({id:e})=>{let n=this.detailForm.value,i=$({id:e},n);return this.dataService.administrator.updateRole(i)})).subscribe(e=>{this.notificationService.success("common.notify-update-success",{entity:"Role"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},e=>{this.notificationService.error("common.notify-update-error",{entity:"Role"})})}setFormValues(e,n){this.detailForm.patchValue({description:e.description,code:e.code,channelIds:e.channels.map(i=>i.id),permissions:e.permissions}),this.changeDetector.detectChanges()}static{this.\u0275fac=function(n){return new(n||t)(v(pe),v(R),v(me),v(X))}}static{this.\u0275cmp=B({type:t,selectors:[["vdr-role-detail"]],standalone:!1,features:[w],decls:36,vars:37,consts:[["updateButton",""],["locationId","role-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],[1,"form",3,"formGroup"],[4,"ngIf"],[1,"form-grid"],["for","description",3,"label"],["id","description","type","text","formControlName","description",3,"input","readonly"],["for","code",3,"label","readOnlyToggle"],["id","code","type","text","formControlName","code",3,"readonly"],[1,"mt-2"],[3,"title"],[3,"label"],["formControlName","channelIds",3,"vdrDisabled"],[1,"mt-2",3,"permissionChange","permissionDefinitions","activePermissions","readonly"],[1,"btn","btn-primary",3,"click","disabled"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"entity"]],template:function(n,i){if(n&1){let c=S();s(0,"vdr-page-block")(1,"vdr-action-bar"),m(2,"vdr-ab-left"),s(3,"vdr-ab-right"),m(4,"vdr-action-bar-items",1),u(5,Ea,3,4,"button",2),r(6,"async"),u(7,$a,1,1,"ng-template",null,0,ee),m(9,"vdr-action-bar-dropdown-menu",1),d()()(),s(10,"form",3)(11,"vdr-page-detail-layout")(12,"vdr-page-detail-sidebar"),u(13,wa,2,1,"vdr-card",4),r(14,"async"),d(),s(15,"vdr-page-block")(16,"vdr-card")(17,"div",5)(18,"vdr-form-field",6),r(19,"translate"),s(20,"input",7),r(21,"hasPermission"),_("input",function(F){return y(c),b(i.updateCode(F.target.value))}),d()(),s(22,"vdr-form-field",8),r(23,"translate"),r(24,"hasPermission"),m(25,"input",9),r(26,"hasPermission"),d()()()()(),s(27,"vdr-page-block",10)(28,"vdr-card",11),r(29,"translate"),s(30,"vdr-form-field",12),r(31,"translate"),m(32,"vdr-channel-assignment-control",13),r(33,"hasPermission"),d(),s(34,"vdr-permission-grid",14),r(35,"hasPermission"),_("permissionChange",function(F){return y(c),b(i.setPermission(F))}),d()()()()}if(n&2){let c,h=J(8);a(5),o("ngIf",l(6,15,i.isNew$))("ngIfElse",h),a(5),o("formGroup",i.detailForm),a(3),o("ngIf",l(14,17,i.entity$)),a(5),o("label",l(19,19,"common.description")),a(2),o("readonly",!l(21,21,"UpdateAdministrator")),a(2),o("label",l(23,23,"common.code"))("readOnlyToggle",l(24,25,"UpdateAdministrator")),a(3),o("readonly",!l(26,27,"UpdateAdministrator")),a(3),o("title",l(29,29,"settings.permissions")),a(2),o("label",l(31,31,"settings.channel")),a(2),o("vdrDisabled",!l(33,33,"UpdateAdministrator")),a(2),o("permissionDefinitions",i.permissionDefinitions)("activePermissions",(c=i.detailForm.get("permissions"))==null?null:c.value)("readonly",!l(35,35,"UpdateAdministrator"))}},dependencies:[N,ae,te,ie,oe,re,le,G,H,V,z,se,ne,q,O,we,Pn,M,_e,ve,ye,de,Rn,A,k,be],encapsulation:2,changeDetection:0})}}return t})(),ks=ke({location:"role-list",requiresPermission:t=>t.includes(T.DeleteAdministrator),getItemName:t=>t.description,bulkDelete:(t,p)=>t.administrator.deleteRoles(p).pipe(E(e=>e.deleteRoles))}),Hd=D`
    query GetRoleList($options: RoleListOptions) {
        roles(options: $options) {
            items {
                ...Role
            }
            totalItems
        }
    }
    ${At}
`,Ls=(()=>{class t extends Be{constructor(){super(),this.dataTableListId="role-list",this.initialLimit=3,this.displayLimit={},this.filters=this.createFilterCollection().addIdFilter().addDateFilters().addFilter({name:"code",type:{kind:"text"},label:"common.code",filterField:"code"}).connectToRoute(this.route),this.sorts=this.createSortCollection().defaultSort("createdAt","DESC").addSort({name:"createdAt"}).addSort({name:"updatedAt"}).addSort({name:"code"}).addSort({name:"description"}).connectToRoute(this.route),super.configure({document:zi,getItems:e=>e.roles,setVariables:(e,n)=>({options:{skip:e,take:n,filter:$({code:{contains:this.searchTermControl.value}},this.filters.createFilterInput()),sort:this.sorts.createSortInput()}}),refreshListOnChanges:[this.filters.valueChanges,this.sorts.valueChanges]})}toggleDisplayLimit(e){this.displayLimit[e.id]===e.permissions.length?this.displayLimit[e.id]=this.initialLimit:this.displayLimit[e.id]=e.permissions.length}isDefaultRole(e){return e.code===$e.SUPER_ADMIN_ROLE_CODE||e.code===$e.CUSTOMER_ROLE_CODE}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=B({type:t,selectors:[["vdr-role-list"]],standalone:!1,features:[w],decls:36,vars:51,consts:[["defaultRole",""],["collapse",""],["locationId","role-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],[3,"pageChange","itemsPerPageChange","visibleColumnsChange","id","items","itemsPerPage","totalItems","currentPage","filters"],["locationId","role-list",3,"hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault"],["id","created-at",3,"heading","hiddenByDefault","sort"],["id","updated-at",3,"heading","hiddenByDefault","sort"],["id","description",3,"heading","optional","sort"],["id","code",3,"heading","sort"],["id","channel",3,"heading"],["id","permissions",3,"heading"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],["class","button-ghost",3,"routerLink",4,"ngIf","ngIfElse"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"channelCode"],[1,"ml-1"],[4,"ngIf","ngIfElse"],[1,"permissions-list"],["class","button-small",3,"click",4,"ngIf"],[1,"button-small",3,"click"],["shape","minus"],[1,"default-role-label"]],template:function(n,i){n&1&&(s(0,"vdr-page-block")(1,"vdr-action-bar"),m(2,"vdr-ab-left"),s(3,"vdr-ab-right"),m(4,"vdr-action-bar-items",2),u(5,Na,4,5,"a",3),m(6,"vdr-action-bar-dropdown-menu",2),d()()(),s(7,"vdr-data-table-2",4),r(8,"async"),r(9,"async"),r(10,"async"),r(11,"async"),_("pageChange",function(h){return i.setPageNumber(h)})("itemsPerPageChange",function(h){return i.setItemsPerPage(h)})("visibleColumnsChange",function(h){return i.setVisibleColumns(h)}),m(12,"vdr-bulk-action-menu",5)(13,"vdr-dt2-search",6),r(14,"translate"),s(15,"vdr-dt2-column",7),r(16,"translate"),u(17,Ra,1,1,"ng-template"),d(),s(18,"vdr-dt2-column",8),r(19,"translate"),u(20,Oa,2,4,"ng-template"),d(),s(21,"vdr-dt2-column",9),r(22,"translate"),u(23,Va,2,4,"ng-template"),d(),s(24,"vdr-dt2-column",10),r(25,"translate"),u(26,qa,3,2,"ng-template"),d(),s(27,"vdr-dt2-column",11),r(28,"translate"),u(29,za,1,1,"ng-template"),d(),s(30,"vdr-dt2-column",12),r(31,"translate"),u(32,Wa,1,1,"ng-template"),d(),s(33,"vdr-dt2-column",13),r(34,"translate"),u(35,tr,3,2,"ng-template"),d()()),n&2&&(a(5),o("vdrIfPermissions",L(50,Nn)),a(2),o("id",i.dataTableListId)("items",l(8,26,i.items$))("itemsPerPage",l(9,28,i.itemsPerPage$))("totalItems",l(10,30,i.totalItems$))("currentPage",l(11,32,i.currentPage$))("filters",i.filters),a(5),o("hostComponent",i)("selectionManager",i.selectionManager),a(),o("searchTermControl",i.searchTermControl)("searchTermPlaceholder",l(14,34,"catalog.filter-by-name")),a(2),o("heading",l(16,36,"common.id"))("hiddenByDefault",!0),a(3),o("heading",l(19,38,"common.created-at"))("hiddenByDefault",!0)("sort",i.sorts.get("createdAt")),a(3),o("heading",l(22,40,"common.updated-at"))("hiddenByDefault",!0)("sort",i.sorts.get("updatedAt")),a(3),o("heading",l(25,42,"common.description"))("optional",!1)("sort",i.sorts.get("description")),a(3),o("heading",l(28,44,"common.code"))("sort",i.sorts.get("code")),a(3),o("heading",l(31,46,"settings.channel")),a(3),o("heading",l(34,48,"settings.permissions")))},dependencies:[K,U,N,ge,G,H,V,z,Re,q,O,bn,Fe,De,Se,Ie,M,A,ci,k,ot,fe],styles:[".default-role-label[_ngcontent-%COMP%]{color:var(--color-grey-400)}.permissions-list[_ngcontent-%COMP%]{max-width:500px;display:flex;flex-wrap:wrap;align-items:center;gap:4px}"],changeDetection:0})}}return t})(),zd=D`
    query GetSellerDetail($id: ID!) {
        seller(id: $id) {
            ...SellerDetail
        }
    }
    fragment SellerDetail on Seller {
        id
        createdAt
        updatedAt
        name
    }
`,As=(()=>{class t extends ue{constructor(e,n,i,c){super(),this.changeDetector=e,this.dataService=n,this.formBuilder=i,this.notificationService=c,this.customFields=this.getCustomFieldConfig("Seller"),this.detailForm=this.formBuilder.group({name:["",x.required],customFields:this.formBuilder.group(Pe(this.customFields))}),this.updatePermission=[T.SuperAdmin,T.UpdateSeller,T.CreateSeller]}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}saveButtonEnabled(){return this.detailForm.dirty&&this.detailForm.valid}create(){if(!this.detailForm.dirty)return;let e=this.detailForm.value;if(!e.name)return;let n={name:e.name,customFields:e.customFields};this.dataService.settings.createSeller(n).subscribe(i=>{switch(i.createSeller.__typename){case"Seller":this.notificationService.success("common.notify-create-success",{entity:"Seller"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",i.createSeller.id],{relativeTo:this.route});break}})}save(){if(!this.detailForm.dirty)return;let e=this.detailForm.value;this.entity$.pipe(ce(1),Y(n=>{let i={id:n.id,name:e.name,customFields:e.customFields};return this.dataService.settings.updateSeller(i)})).subscribe(({updateSeller:n})=>{switch(n.__typename){case"Seller":this.notificationService.success("common.notify-update-success",{entity:"Seller"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck();break}})}setFormValues(e,n){this.detailForm.patchValue({name:e.name}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get(["customFields"]),e)}static{this.\u0275fac=function(n){return new(n||t)(v(pe),v(R),v(me),v(X))}}static{this.\u0275cmp=B({type:t,selectors:[["vdr-seller-detail"]],standalone:!1,features:[w],decls:24,vars:17,consts:[["updateButton",""],["locationId","seller-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],[1,"form",3,"formGroup"],[4,"ngIf"],[1,"form-grid"],["for","name",3,"label"],["id","name","type","text","formControlName","name",3,"readonly"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","seller-detail",3,"entity$","detailForm"],[1,"btn","btn-primary",3,"click","disabled"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"entity"],["formGroupName","customFields",3,"title"],["entityName","Seller",3,"customFields","customFieldsFormGroup"]],template:function(n,i){if(n&1&&(s(0,"vdr-page-block")(1,"vdr-action-bar"),m(2,"vdr-ab-left"),s(3,"vdr-ab-right"),m(4,"vdr-action-bar-items",1),u(5,nr,3,4,"button",2),r(6,"async"),u(7,ar,1,2,"ng-template",null,0,ee),m(9,"vdr-action-bar-dropdown-menu",1),d()()(),s(10,"form",3)(11,"vdr-page-detail-layout")(12,"vdr-page-detail-sidebar"),u(13,rr,2,1,"vdr-card",4),r(14,"async"),d(),s(15,"vdr-page-block")(16,"vdr-card")(17,"div",5)(18,"vdr-form-field",6),r(19,"translate"),m(20,"input",7),r(21,"hasPermission"),d()()(),u(22,lr,3,5,"vdr-card",8),m(23,"vdr-custom-detail-component-host",9),d()()()),n&2){let c=J(8);a(5),o("ngIf",l(6,9,i.isNew$))("ngIfElse",c),a(5),o("formGroup",i.detailForm),a(3),o("ngIf",l(14,11,i.entity$)),a(5),o("label",l(19,13,"common.name")),a(2),o("readonly",!l(21,15,i.updatePermission)),a(2),o("ngIf",i.customFields.length),a(),o("entity$",i.entity$)("detailForm",i.detailForm)}},dependencies:[N,ae,te,ie,oe,re,le,he,G,H,V,z,se,ne,q,O,Ce,Te,M,_e,ve,ye,de,A,k,be],styles:[sr],changeDetection:0})}}return t})(),Es=ke({location:"seller-list",requiresPermission:t=>t.includes(T.DeleteSeller),getItemName:t=>t.name,bulkDelete:(t,p)=>t.settings.deleteSellers(p).pipe(E(e=>e.deleteSellers))}),Ud=D`
    query GetSellerList($options: SellerListOptions) {
        sellers(options: $options) {
            items {
                ...SellerListItem
            }
            totalItems
        }
    }
    fragment SellerListItem on Seller {
        id
        createdAt
        updatedAt
        name
    }
`,Ms=(()=>{class t extends Be{constructor(){super(),this.dataTableListId="seller-list",this.customFields=this.getCustomFieldConfig("Seller"),this.filters=this.createFilterCollection().addIdFilter().addDateFilters().addFilter({name:"name",type:{kind:"text"},label:"common.name",filterField:"name"}).addCustomFieldFilters(this.customFields).connectToRoute(this.route),this.sorts=this.createSortCollection().defaultSort("createdAt","DESC").addSort({name:"createdAt"}).addSort({name:"updatedAt"}).addSort({name:"name"}).addCustomFieldSorts(this.customFields).connectToRoute(this.route),super.configure({document:ji,getItems:e=>e.sellers,setVariables:(e,n)=>({options:{skip:e,take:n,filter:$({name:{contains:this.searchTermControl.value}},this.filters.createFilterInput()),sort:this.sorts.createSortInput()}}),refreshListOnChanges:[this.filters.valueChanges,this.sorts.valueChanges]})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=B({type:t,selectors:[["vdr-seller-list"]],standalone:!1,features:[w],decls:28,vars:42,consts:[["locationId","seller-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],[3,"pageChange","itemsPerPageChange","visibleColumnsChange","id","items","itemsPerPage","totalItems","currentPage","filters"],["locationId","seller-list",3,"hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault"],["id","created-at",3,"heading","hiddenByDefault","sort"],["id","updated-at",3,"heading","hiddenByDefault","sort"],["id","name",3,"heading","optional","sort"],[3,"customField","sorts",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],[3,"customField","sorts"]],template:function(n,i){n&1&&(s(0,"vdr-page-block")(1,"vdr-action-bar"),m(2,"vdr-ab-left"),s(3,"vdr-ab-right"),m(4,"vdr-action-bar-items",0),u(5,pr,4,5,"a",1),m(6,"vdr-action-bar-dropdown-menu",0),d()()(),s(7,"vdr-data-table-2",2),r(8,"async"),r(9,"async"),r(10,"async"),r(11,"async"),_("pageChange",function(h){return i.setPageNumber(h)})("itemsPerPageChange",function(h){return i.setItemsPerPage(h)})("visibleColumnsChange",function(h){return i.setVisibleColumns(h)}),m(12,"vdr-bulk-action-menu",3)(13,"vdr-dt2-search",4),r(14,"translate"),s(15,"vdr-dt2-column",5),r(16,"translate"),u(17,cr,1,1,"ng-template"),d(),s(18,"vdr-dt2-column",6),r(19,"translate"),u(20,mr,2,4,"ng-template"),d(),s(21,"vdr-dt2-column",7),r(22,"translate"),u(23,ur,2,4,"ng-template"),d(),s(24,"vdr-dt2-column",8),r(25,"translate"),u(26,gr,4,4,"ng-template"),d(),u(27,hr,1,2,"vdr-dt2-custom-field-column",9),d()),n&2&&(a(5),o("vdrIfPermissions",L(41,dr)),a(2),o("id",i.dataTableListId)("items",l(8,23,i.items$))("itemsPerPage",l(9,25,i.itemsPerPage$))("totalItems",l(10,27,i.totalItems$))("currentPage",l(11,29,i.currentPage$))("filters",i.filters),a(5),o("hostComponent",i)("selectionManager",i.selectionManager),a(),o("searchTermControl",i.searchTermControl)("searchTermPlaceholder",l(14,31,"catalog.filter-by-name")),a(2),o("heading",l(16,33,"common.id"))("hiddenByDefault",!0),a(3),o("heading",l(19,35,"common.created-at"))("hiddenByDefault",!0)("sort",i.sorts.get("createdAt")),a(3),o("heading",l(22,37,"common.updated-at"))("hiddenByDefault",!0)("sort",i.sorts.get("updatedAt")),a(3),o("heading",l(25,39,"common.name"))("optional",!1)("sort",i.sorts.get("name")),a(3),o("ngForOf",i.customFields))},dependencies:[K,U,ge,G,H,V,z,q,O,Fe,De,Se,Ie,Ee,M,A,k,fe],encapsulation:2,changeDetection:0})}}return t})(),$s=(()=>{class t{constructor(){this.okToRun=!1,this.testDataUpdated=!1,this.runTest=new Ge}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=B({type:t,selectors:[["vdr-shipping-eligibility-test-result"]],inputs:{testResult:"testResult",okToRun:"okToRun",testDataUpdated:"testDataUpdated",currencyCode:"currencyCode"},outputs:{runTest:"runTest"},standalone:!1,decls:8,vars:9,consts:[[1,"test-result",3,"title"],["class","card-span",4,"ngFor","ngForOf"],["class","card-span",4,"ngIf"],[1,"card-footer"],[1,"btn","btn-secondary",3,"click","disabled"],[1,"card-span"],[1,"result-details"],[3,"label"],[1,"price-row"],[3,"value",4,"ngIf"],[3,"value"],["shape","ban",1,"is-solid","error"]],template:function(n,i){n&1&&(s(0,"vdr-card",0),r(1,"translate"),u(2,Cr,15,21,"div",1)(3,_r,4,3,"div",2),s(4,"div",3)(5,"button",4),_("click",function(){return i.runTest.emit()}),g(6),r(7,"translate"),d()()()),n&2&&(o("title",l(1,5,"settings.test-result")),a(2),o("ngForOf",i.testResult),a(),o("ngIf",(i.testResult==null?null:i.testResult.length)===0),a(2),o("disabled",!i.okToRun),a(),C(" ",l(7,7,"settings.test-shipping-methods")," "))},dependencies:[K,U,N,qt,zt,de,k,ft],styles:["[_nghost-%COMP%]{display:block}.result-details[_ngcontent-%COMP%]{transition:opacity .2s}.result-details.stale[_ngcontent-%COMP%]{opacity:.5}.price-row[_ngcontent-%COMP%]{display:flex}.price-row[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:first-child){margin-inline-start:24px}clr-icon.error[_ngcontent-%COMP%]{color:var(--color-error-500)}"],changeDetection:0})}}return t})(),On=(()=>{class t{get subTotal(){return this.lines.reduce((e,n)=>e+n.unitPriceWithTax*n.quantity,0)}constructor(e,n){this.dataService=e,this.localStorageService=n,this.orderLinesChange=new Ge,this.lines=[]}ngOnInit(){this.lines=this.loadFromLocalStorage(),this.lines&&this.orderLinesChange.emit(this.lines),this.dataService.settings.getActiveChannel("cache-first").single$.subscribe(e=>{this.currencyCode=e.activeChannel.defaultCurrencyCode})}selectResult(e){e&&this.addToLines(e)}addToLines(e){this.lines.find(n=>n.id===e.productVariantId)||(this.lines.push({id:e.productVariantId,name:e.productVariantName,preview:e.productAsset?.preview??"",quantity:1,sku:e.sku,unitPriceWithTax:e.priceWithTax.__typename==="SinglePrice"&&e.priceWithTax.value||0}),this.persistToLocalStorage(),this.orderLinesChange.emit(this.lines))}updateQuantity(){this.persistToLocalStorage(),this.orderLinesChange.emit(this.lines)}removeLine(e){this.lines=this.lines.filter(n=>n.id!==e.id),this.persistToLocalStorage(),this.orderLinesChange.emit(this.lines)}persistToLocalStorage(){this.localStorageService.setForCurrentLocation("shippingTestOrder",this.lines)}loadFromLocalStorage(){return this.localStorageService.getForCurrentLocation("shippingTestOrder")||[]}static{this.\u0275fac=function(n){return new(n||t)(v(R),v(Rt))}}static{this.\u0275cmp=B({type:t,selectors:[["vdr-test-order-builder"]],outputs:{orderLinesChange:"orderLinesChange"},standalone:!1,decls:5,vars:2,consts:[["emptyPlaceholder",""],["class","order-table table",4,"ngIf","ngIfElse"],[1,"card-block"],[3,"productSelected"],[1,"order-table","table"],["class","order-line",4,"ngFor","ngForOf"],[1,"sub-total"],[1,"left"],[1,"order-line"],[1,"align-middle","thumb"],[3,"src"],[1,"align-middle","name"],[1,"align-middle","sku"],[1,"align-middle","unit-price"],[1,"align-middle","quantity"],["type","number","max","9999","min","1",3,"ngModelChange","change","ngModel"],[1,"icon-button",3,"click"],["shape","trash"],[1,"align-middle","total"],[1,"card-block","empty-placeholder","card-span"],[1,"empty-text"],["shape","arrow","dir","down","size","96"]],template:function(n,i){if(n&1){let c=S();u(0,yr,31,23,"table",1)(1,br,5,3,"ng-template",null,0,ee),s(3,"div",2)(4,"vdr-product-variant-selector",3),_("productSelected",function(F){return y(c),b(i.selectResult(F))}),d()()}if(n&2){let c=J(2);o("ngIf",i.lines.length)("ngIfElse",c)}},dependencies:[K,U,N,te,ht,ie,Ti,Fi,bi,Ii,ne,In,k,ft],styles:[".empty-placeholder[_ngcontent-%COMP%]{color:var(--color-grey-400);text-align:center}.empty-text[_ngcontent-%COMP%]{font-size:22px}.thumb[_ngcontent-%COMP%]{max-width:50px}"],changeDetection:0})}}return t})(),Vn=(()=>{class t{constructor(e,n,i){this.formBuilder=e,this.dataService=n,this.localStorageService=i,this.addressChange=new Ge}ngOnInit(){this.availableCountries$=this.dataService.settings.getAvailableCountries().mapSingle(i=>i.countries.items);let e=this.localStorageService.getForCurrentLocation("shippingTestAddress"),n=e||{city:"",countryCode:"",postalCode:"",province:""};this.addressChange.emit(n),this.form=this.formBuilder.group(n),this.subscription=this.form.valueChanges.subscribe(i=>{this.localStorageService.setForCurrentLocation("shippingTestAddress",i),this.addressChange.emit(i)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||t)(v(Si),v(R),v(Rt))}}static{this.\u0275cmp=B({type:t,selectors:[["vdr-test-address-form"]],outputs:{addressChange:"addressChange"},standalone:!1,decls:20,vars:19,consts:[[1,"card"],[1,"card-header"],[1,"card-block"],[1,"form-grid",3,"formGroup"],[3,"label"],["formControlName","city","type","text"],["formControlName","province","type","text"],["formControlName","postalCode","type","text"],["name","countryCode","formControlName","countryCode"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,i){n&1&&(s(0,"div",0)(1,"div",1),g(2),r(3,"translate"),d(),s(4,"div",2)(5,"form",3)(6,"vdr-form-field",4),r(7,"translate"),m(8,"input",5),d(),s(9,"vdr-form-field",4),r(10,"translate"),m(11,"input",6),d(),s(12,"vdr-form-field",4),r(13,"translate"),m(14,"input",7),d(),s(15,"vdr-form-field",4),r(16,"translate"),s(17,"select",8),u(18,Fr,2,2,"option",9),r(19,"async"),d()()()()()),n&2&&(a(2),C(" ",l(3,7,"settings.test-address")," "),a(3),o("formGroup",i.form),a(),o("label",l(7,9,"customer.city")),a(3),o("label",l(10,11,"customer.province")),a(3),o("label",l(13,13,"customer.postal-code")),a(3),o("label",l(16,15,"customer.country")),a(3),o("ngForOf",l(19,17,i.availableCountries$)))},dependencies:[U,ae,tt,it,te,et,ie,oe,re,le,se,ne,A,k],styles:["[_nghost-%COMP%]{display:block}clr-input-container[_ngcontent-%COMP%]{margin-bottom:12px}"],changeDetection:0})}}return t})(),ws=(()=>{class t{constructor(){this.okToRun=!1,this.testDataUpdated=!1,this.runTest=new Ge}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=B({type:t,selectors:[["vdr-shipping-method-test-result"]],inputs:{testResult:"testResult",okToRun:"okToRun",testDataUpdated:"testDataUpdated",currencyCode:"currencyCode"},outputs:{runTest:"runTest"},standalone:!1,decls:21,vars:24,consts:[[1,"test-result","card",3,"ngClass"],[1,"card-header"],[1,"card-block"],[1,"result-details"],[3,"label"],[1,"eligible-icon"],["shape","success-standard","class","is-solid success",4,"ngIf"],["shape","ban","class","is-solid error",4,"ngIf"],["shape","unknown-status",4,"ngIf"],[1,"price-row"],[3,"label",4,"ngIf"],[3,"value",4,"ngIf"],[1,"card-footer"],[1,"btn","btn-secondary",3,"click","disabled"],["shape","success-standard",1,"is-solid","success"],["shape","ban",1,"is-solid","error"],["shape","unknown-status"],[3,"value"]],template:function(n,i){n&1&&(s(0,"div",0)(1,"div",1),g(2),r(3,"translate"),d(),s(4,"div",2)(5,"div",3)(6,"vdr-labeled-data",4),r(7,"translate"),s(8,"div",5),u(9,Sr,1,0,"clr-icon",6)(10,Ir,1,0,"clr-icon",7)(11,Dr,1,0,"clr-icon",8),d(),g(12),d(),s(13,"div",9),u(14,Pr,4,7,"vdr-labeled-data",10)(15,xr,4,7,"vdr-labeled-data",10),d(),u(16,Br,1,1,"vdr-object-tree",11),d()(),s(17,"div",12)(18,"button",13),_("click",function(){return i.runTest.emit()}),g(19),r(20,"translate"),d()()()),n&2&&(o("ngClass",li(20,Tr,(i.testResult==null?null:i.testResult.eligible)===!0,(i.testResult==null?null:i.testResult.eligible)===!1,!i.testResult)),a(2),C(" ",l(3,14,"settings.test-result")," "),a(3),pt("stale",i.testDataUpdated),a(),o("label",l(7,16,"settings.eligible")),a(3),o("ngIf",i.testResult==null?null:i.testResult.eligible),a(),o("ngIf",(i.testResult==null?null:i.testResult.eligible)===!1),a(),o("ngIf",!i.testResult),a(),C(" ",i.testResult==null?null:i.testResult.eligible," "),a(2),o("ngIf",(i.testResult==null||i.testResult.quote==null?null:i.testResult.quote.price)!=null),a(),o("ngIf",(i.testResult==null||i.testResult.quote==null?null:i.testResult.quote.priceWithTax)!=null),a(),o("ngIf",i.testResult==null||i.testResult.quote==null?null:i.testResult.quote.metadata),a(2),o("disabled",!i.okToRun),a(),C(" ",l(20,18,"settings.test-shipping-method")," "))},dependencies:[K,di,N,qt,zt,k,ft],styles:["[_nghost-%COMP%]{display:block}.test-result.success[_ngcontent-%COMP%]   .card-block[_ngcontent-%COMP%]{background-color:var(--color-success-100)}.test-result.error[_ngcontent-%COMP%]   .card-block[_ngcontent-%COMP%]{background-color:var(--color-error-100)}.test-result.unknown[_ngcontent-%COMP%]   .card-block[_ngcontent-%COMP%]{background-color:var(--color-component-bg-100)}.result-details[_ngcontent-%COMP%]{transition:opacity .2s}.result-details.stale[_ngcontent-%COMP%]{opacity:.5}.eligible-icon[_ngcontent-%COMP%]{display:inline-block}.eligible-icon[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:var(--color-success-500)}.eligible-icon[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:var(--color-error-500)}.price-row[_ngcontent-%COMP%]{display:flex}.price-row[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:first-child){margin-inline-start:24px}"],changeDetection:0})}}return t})(),jd=D`
    query GetShippingMethodDetail($id: ID!) {
        shippingMethod(id: $id) {
            ...ShippingMethod
        }
    }
    ${gn}
`,Ns=(()=>{class t extends ue{constructor(e,n,i,c){super(),this.changeDetector=e,this.dataService=n,this.formBuilder=i,this.notificationService=c,this.customFields=this.getCustomFieldConfig("ShippingMethod"),this.detailForm=this.formBuilder.group({code:["",x.required],name:["",x.required],description:"",fulfillmentHandler:["",x.required],checker:{},calculator:{},customFields:this.formBuilder.group(Pe(this.customFields))}),this.checkers=[],this.calculators=[],this.fulfillmentHandlers=[],this.testDataUpdated=!1,this.updatePermission=[T.UpdateSettings,T.UpdateShippingMethod],this.fetchTestResult$=new je}ngOnInit(){this.init(),this.dataService.shippingMethod.getShippingMethodOperations().single$.subscribe(e=>{this.checkers=e.shippingEligibilityCheckers,this.calculators=e.shippingCalculators,this.fulfillmentHandlers=e.fulfillmentHandlers,this.changeDetector.markForCheck(),this.selectedCheckerDefinition=e.shippingEligibilityCheckers.find(n=>n.code===this.entity?.checker?.code),this.selectedCalculatorDefinition=e.shippingCalculators.find(n=>n.code===this.entity?.calculator?.code)}),this.activeChannel$=this.dataService.settings.getActiveChannel().mapStream(e=>e.activeChannel),this.testResult$=this.fetchTestResult$.pipe(qe(([e,n])=>{let{checker:i,calculator:c}=this.detailForm.value;if(!this.selectedChecker||!this.selectedCalculator||!i||!c)return Xe(void 0);let h={shippingAddress:Ae($({},e),{streetLine1:"test"}),lines:n.map(F=>({productVariantId:F.id,quantity:F.quantity})),checker:Ne(this.selectedChecker,i),calculator:Ne(this.selectedCalculator,c)};return this.dataService.shippingMethod.testShippingMethod(h).mapSingle(F=>F.testShippingMethod)})),gt(this.detailForm.get(["checker"]).valueChanges,this.detailForm.get(["calculator"]).valueChanges).pipe(Je(this.destroy$)).subscribe(()=>this.testDataUpdated=!0)}ngOnDestroy(){this.destroy()}updateCode(e,n){if(!e){let i=this.detailForm.get(["code"]);i&&i.pristine&&i.setValue((0,Tt.normalizeString)(n,"-"))}}selectChecker(e){this.selectedCheckerDefinition=e,this.selectedChecker=rt(e);let n=this.detailForm.get("checker");n&&(n.clearValidators(),n.updateValueAndValidity({onlySelf:!0}),n.patchValue(this.selectedChecker)),this.detailForm.markAsDirty()}selectCalculator(e){this.selectedCalculatorDefinition=e,this.selectedCalculator=rt(e);let n=this.detailForm.get("calculator");n&&(n.clearValidators(),n.updateValueAndValidity({onlySelf:!0}),n.patchValue(this.selectedCalculator)),this.detailForm.markAsDirty()}create(){let e=this.selectedChecker,n=this.selectedCalculator,{checker:i,calculator:c}=this.detailForm.value;if(!e||!n||!i||!c)return;let h=this.detailForm.value,F=Ae($({},this.getUpdatedShippingMethod({createdAt:"",updatedAt:"",id:"",code:"",name:"",description:"",fulfillmentHandlerCode:"",checker:void 0,calculator:void 0,translations:[]},this.detailForm,this.languageCode)),{checker:Ne(e,i),calculator:Ne(n,c)});this.dataService.shippingMethod.createShippingMethod(F).subscribe(W=>{this.notificationService.success("common.notify-create-success",{entity:"ShippingMethod"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",W.createShippingMethod.id],{relativeTo:this.route})},W=>{this.notificationService.error("common.notify-create-error",{entity:"ShippingMethod"})})}save(){let e=this.selectedChecker,n=this.selectedCalculator,{checker:i,calculator:c}=this.detailForm.value;!e||!n||!i||!c||Ze([this.entity$,this.languageCode$]).pipe(ce(1),Y(([h,F])=>{let W=this.detailForm.value,Q=Ae($({},this.getUpdatedShippingMethod(h,this.detailForm,F)),{checker:Ne(e,i),calculator:Ne(n,c)});return this.dataService.shippingMethod.updateShippingMethod(Q)})).subscribe(h=>{this.notificationService.success("common.notify-update-success",{entity:"ShippingMethod"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},h=>{console.error(h),this.notificationService.error("common.notify-update-error",{entity:"ShippingMethod"})})}setTestOrderLines(e){this.testOrderLines=e,this.testDataUpdated=!0}setTestAddress(e){this.testAddress=e,this.testDataUpdated=!0}allTestDataPresent(){return!!(this.testAddress&&this.testOrderLines&&this.testOrderLines.length&&this.selectedChecker&&this.selectedCalculator)}runTest(){this.fetchTestResult$.next([this.testAddress,this.testOrderLines]),this.testDataUpdated=!1}getUpdatedShippingMethod(e,n,i){let c=n.value,h=lt({translatable:e,updatedFields:c,customFieldConfig:this.customFields,languageCode:i,defaultTranslation:{languageCode:i,name:e.name||"",description:e.description||""}});return Ae($({},h),{fulfillmentHandler:c.fulfillmentHandler})}setFormValues(e,n){let i=bt(e,n);this.detailForm.patchValue({name:i?.name??"",description:i?.description??"",code:e.code,fulfillmentHandler:e.fulfillmentHandlerCode,checker:e.checker||{},calculator:e.calculator||{}}),this.selectedChecker||(this.selectedChecker=e.checker&&{code:e.checker.code,args:e.checker.args.map(c=>Ae($({},c),{value:at(c.value)}))}),this.selectedCalculator||(this.selectedCalculator=e.calculator&&{code:e.calculator?.code,args:e.calculator?.args.map(c=>Ae($({},c),{value:at(c.value)}))}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get(["customFields"]),e,i)}static{this.\u0275fac=function(n){return new(n||t)(v(pe),v(R),v(me),v(X))}}static{this.\u0275cmp=B({type:t,selectors:[["vdr-shipping-method-detail"]],standalone:!1,features:[w],decls:56,vars:69,consts:[["updateButton",""],[3,"languageCodeChange","disabled","availableLanguageCodes","currentLanguageCode"],["locationId","shipping-method-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],[1,"form",3,"formGroup"],[4,"ngIf"],[1,"form-grid"],["for","name",3,"label"],["id","name","type","text","formControlName","name",3,"input","readonly"],["for","code",3,"label","readOnlyToggle"],["id","code","type","text","formControlName","code",3,"readonly"],["formControlName","description",1,"form-grid-span",3,"readonly","label"],["for","fulfillmentHandler",3,"label"],["name","fulfillmentHandler","formControlName","fulfillmentHandler",3,"vdrDisabled"],[3,"value",4,"ngFor","ngForOf"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","shipping-method-detail",3,"entity$","detailForm"],[3,"title"],["class","card-span","formControlName","checker",3,"operation","operationDefinition","readonly","remove",4,"ngIf"],["class","card-span",4,"ngIf"],["class","card-span","formControlName","calculator",3,"operation","operationDefinition","readonly","remove",4,"ngIf"],[1,"card-span",3,"orderLinesChange"],[1,"mt-2",3,"addressChange"],[1,"mt-2",3,"runTest","currencyCode","okToRun","testDataUpdated","testResult"],[1,"btn","btn-primary",3,"click","disabled"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"entity"],[3,"value"],["formGroupName","customFields",3,"title"],["entityName","ShippingMethod",3,"customFields","customFieldsFormGroup"],["formControlName","checker",1,"card-span",3,"remove","operation","operationDefinition","readonly"],[1,"card-span"],["vdrDropdownTrigger","",1,"btn","btn-outline"],["shape","plus"],["vdrPosition","bottom-left"],["type","button","vdrDropdownItem","",3,"click",4,"ngFor","ngForOf"],["type","button","vdrDropdownItem","",3,"click"],["formControlName","calculator",1,"card-span",3,"remove","operation","operationDefinition","readonly"]],template:function(n,i){if(n&1){let c=S();s(0,"vdr-page-block")(1,"vdr-action-bar")(2,"vdr-ab-left")(3,"vdr-language-selector",1),r(4,"async"),r(5,"async"),r(6,"async"),_("languageCodeChange",function(F){return y(c),b(i.setLanguage(F))}),d()(),s(7,"vdr-ab-right"),m(8,"vdr-action-bar-items",2),u(9,kr,3,4,"button",3),r(10,"async"),u(11,Ar,1,1,"ng-template",null,0,ee),m(13,"vdr-action-bar-dropdown-menu",2),d()()(),s(14,"form",4)(15,"vdr-page-detail-layout")(16,"vdr-page-detail-sidebar"),u(17,Er,2,1,"vdr-card",5),r(18,"async"),d(),s(19,"vdr-page-block")(20,"vdr-card")(21,"div",6)(22,"vdr-form-field",7),r(23,"translate"),s(24,"input",8),r(25,"hasPermission"),_("input",function(F){return y(c),b(i.updateCode(i.entity==null?null:i.entity.code,F.target.value))}),d()(),s(26,"vdr-form-field",9),r(27,"translate"),r(28,"hasPermission"),m(29,"input",10),r(30,"hasPermission"),d(),m(31,"vdr-rich-text-editor",11),r(32,"hasPermission"),r(33,"translate"),s(34,"vdr-form-field",12),r(35,"translate"),s(36,"select",13),r(37,"hasPermission"),u(38,Mr,2,3,"option",14),d()()()(),u(39,$r,3,5,"vdr-card",15),m(40,"vdr-custom-detail-component-host",16),s(41,"vdr-card",17),r(42,"translate"),u(43,wr,2,5,"vdr-configurable-input",18)(44,Rr,8,4,"div",19),d(),s(45,"vdr-card",17),r(46,"translate"),u(47,Or,2,5,"vdr-configurable-input",20)(48,Gr,8,4,"div",19),d(),s(49,"vdr-card",17),r(50,"translate"),s(51,"vdr-test-order-builder",21),_("orderLinesChange",function(F){return y(c),b(i.setTestOrderLines(F))}),d(),s(52,"vdr-test-address-form",22),_("addressChange",function(F){return y(c),b(i.setTestAddress(F))}),d(),s(53,"vdr-shipping-method-test-result",23),r(54,"async"),r(55,"async"),_("runTest",function(){return y(c),b(i.runTest())}),d()()()()()}if(n&2){let c,h=J(12);a(3),o("disabled",l(4,31,i.isNew$))("availableLanguageCodes",l(5,33,i.availableLanguages$))("currentLanguageCode",l(6,35,i.languageCode$)),a(6),o("ngIf",l(10,37,i.isNew$))("ngIfElse",h),a(5),o("formGroup",i.detailForm),a(3),o("ngIf",l(18,39,i.entity$)),a(5),o("label",l(23,41,"common.name")),a(2),o("readonly",!l(25,43,i.updatePermission)),a(2),o("label",l(27,45,"common.code"))("readOnlyToggle",l(28,47,i.updatePermission)),a(3),o("readonly",!l(30,49,i.updatePermission)),a(2),o("readonly",!l(32,51,i.updatePermission))("label",l(33,53,"common.description")),a(3),o("label",l(35,55,"settings.fulfillment-handler")),a(2),o("vdrDisabled",!l(37,57,i.updatePermission)),a(2),o("ngForOf",i.fulfillmentHandlers),a(),o("ngIf",i.customFields.length),a(),o("entity$",i.entity$)("detailForm",i.detailForm),a(),o("title",l(42,59,"settings.shipping-eligibility-checker")),a(2),o("ngIf",i.selectedChecker&&i.selectedCheckerDefinition),a(),o("ngIf",!i.selectedChecker||!i.selectedCheckerDefinition),a(),o("title",l(46,61,"settings.shipping-calculator")),a(2),o("ngIf",i.selectedCalculator&&i.selectedCalculatorDefinition),a(),o("ngIf",!i.selectedCalculator||!i.selectedCalculatorDefinition),a(),o("title",l(50,63,"settings.test-shipping-method")),a(4),o("currencyCode",(c=l(54,65,i.activeChannel$))==null?null:c.currencyCode)("okToRun",i.allTestDataPresent()&&i.testDataUpdated&&i.detailForm.valid)("testDataUpdated",i.testDataUpdated)("testResult",l(55,67,i.testResult$))}},dependencies:[K,U,N,ae,tt,it,te,et,ie,oe,re,le,he,G,H,V,z,Ht,se,ne,Oe,Ct,Ot,Vt,Gt,Zt,q,O,we,Ce,Te,M,_e,ve,ye,de,On,Vn,ws,A,k,be],encapsulation:2,changeDetection:0})}}return t})(),Rs=ke({location:"shipping-method-list",requiresPermission:t=>t.includes(T.DeleteShippingMethod),getItemName:t=>t.name,bulkDelete:(t,p)=>t.shippingMethod.deleteShippingMethods(p).pipe(E(e=>e.deleteShippingMethods))}),Wd=D`
    mutation AssignShippingMethodsToChannel($input: AssignShippingMethodsToChannelInput!) {
        assignShippingMethodsToChannel(input: $input) {
            id
            name
        }
    }
`,Kd=D`
    mutation RemoveShippingMethodsFromChannel($input: RemoveShippingMethodsFromChannelInput!) {
        removeShippingMethodsFromChannel(input: $input) {
            id
            name
        }
    }
`,Os=vt({location:"shipping-method-list",requiresPermission:t=>t.includes(T.UpdateShippingMethod)||t.includes(T.UpdateSettings),getItemName:t=>t.name,bulkAssignToChannel:(t,p,e)=>e.map(n=>t.mutate(Ki,{input:{channelId:n,shippingMethodIds:p}}).pipe(E(i=>i.assignShippingMethodsToChannel)))}),Vs=yt({location:"shipping-method-list",requiresPermission:t=>t.includes(T.DeleteShippingMethod)||t.includes(T.DeleteSettings),getItemName:t=>t.name,bulkRemoveFromChannel:(t,p,e)=>t.mutate(Qi,{input:{channelId:e,shippingMethodIds:p}}).pipe(E(n=>n.removeShippingMethodsFromChannel))}),Qd=D`
    query GetShippingMethodList($options: ShippingMethodListOptions) {
        shippingMethods(options: $options) {
            items {
                ...ShippingMethodListItem
            }
            totalItems
        }
    }
    fragment ShippingMethodListItem on ShippingMethod {
        id
        createdAt
        updatedAt
        code
        name
        description
        fulfillmentHandlerCode
    }
`,Gs=(()=>{class t extends Be{constructor(){super(),this.dataTableListId="shipping-method-list",this.customFields=this.getCustomFieldConfig("ShippingMethod"),this.filters=this.createFilterCollection().addIdFilter().addDateFilters().addFilter({name:"name",type:{kind:"text"},label:"common.name",filterField:"name"}).addFilter({name:"code",type:{kind:"text"},label:"common.code",filterField:"code"}).addFilter({name:"description",type:{kind:"text"},label:"common.description",filterField:"description"}).addFilter({name:"fulfillmentHandler",type:{kind:"text"},label:"settings.fulfillment-handler",filterField:"fulfillmentHandlerCode"}).addCustomFieldFilters(this.customFields).connectToRoute(this.route),this.sorts=this.createSortCollection().defaultSort("createdAt","DESC").addSort({name:"createdAt"}).addSort({name:"updatedAt"}).addSort({name:"name"}).addSort({name:"code"}).addSort({name:"description"}).addSort({name:"fulfillmentHandlerCode"}).addCustomFieldSorts(this.customFields).connectToRoute(this.route),super.configure({document:Yi,getItems:e=>e.shippingMethods,setVariables:(e,n)=>({options:{skip:e,take:n,filter:$({name:{contains:this.searchTermControl.value}},this.filters.createFilterInput()),sort:this.sorts.createSortInput()}}),refreshListOnChanges:[this.filters.valueChanges,this.sorts.valueChanges]})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=B({type:t,selectors:[["vdr-shipping-method-list"]],standalone:!1,features:[w],decls:40,vars:61,consts:[[3,"languageCodeChange","availableLanguageCodes","currentLanguageCode"],["locationId","shipping-method-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],[3,"pageChange","itemsPerPageChange","visibleColumnsChange","id","items","itemsPerPage","totalItems","currentPage","filters"],["locationId","shipping-method-list",3,"hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault"],["id","created-at",3,"heading","hiddenByDefault","sort"],["id","updated-at",3,"heading","hiddenByDefault","sort"],["id","name",3,"heading","optional","sort"],["id","code",3,"heading","sort"],["id","description",3,"heading","sort","hiddenByDefault"],["id","fulfillment-handler",3,"heading","sort"],[3,"customField","sorts",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],[3,"customField","sorts"]],template:function(n,i){n&1&&(s(0,"vdr-page-block")(1,"vdr-action-bar")(2,"vdr-ab-left")(3,"vdr-language-selector",0),r(4,"async"),r(5,"async"),_("languageCodeChange",function(h){return i.setLanguage(h)}),d()(),s(6,"vdr-ab-right"),m(7,"vdr-action-bar-items",1),u(8,qr,4,5,"a",2),m(9,"vdr-action-bar-dropdown-menu",1),d()()(),s(10,"vdr-data-table-2",3),r(11,"async"),r(12,"async"),r(13,"async"),r(14,"async"),_("pageChange",function(h){return i.setPageNumber(h)})("itemsPerPageChange",function(h){return i.setItemsPerPage(h)})("visibleColumnsChange",function(h){return i.setVisibleColumns(h)}),m(15,"vdr-bulk-action-menu",4)(16,"vdr-dt2-search",5),r(17,"translate"),s(18,"vdr-dt2-column",6),r(19,"translate"),u(20,Hr,1,1,"ng-template"),d(),s(21,"vdr-dt2-column",7),r(22,"translate"),u(23,zr,2,4,"ng-template"),d(),s(24,"vdr-dt2-column",8),r(25,"translate"),u(26,Ur,2,4,"ng-template"),d(),s(27,"vdr-dt2-column",9),r(28,"translate"),u(29,jr,4,4,"ng-template"),d(),s(30,"vdr-dt2-column",10),r(31,"translate"),u(32,Wr,1,1,"ng-template"),d(),s(33,"vdr-dt2-column",11),r(34,"translate"),u(35,Kr,1,1,"ng-template"),d(),s(36,"vdr-dt2-column",12),r(37,"translate"),u(38,Qr,1,1,"ng-template"),d(),u(39,Yr,1,2,"vdr-dt2-custom-field-column",13),d()),n&2&&(a(3),o("availableLanguageCodes",l(4,32,i.availableLanguages$))("currentLanguageCode",l(5,34,i.contentLanguage$)),a(5),o("vdrIfPermissions",L(60,Zr)),a(2),o("id",i.dataTableListId)("items",l(11,36,i.items$))("itemsPerPage",l(12,38,i.itemsPerPage$))("totalItems",l(13,40,i.totalItems$))("currentPage",l(14,42,i.currentPage$))("filters",i.filters),a(5),o("hostComponent",i)("selectionManager",i.selectionManager),a(),o("searchTermControl",i.searchTermControl)("searchTermPlaceholder",l(17,44,"catalog.filter-by-name")),a(2),o("heading",l(19,46,"common.id"))("hiddenByDefault",!0),a(3),o("heading",l(22,48,"common.created-at"))("hiddenByDefault",!0)("sort",i.sorts.get("createdAt")),a(3),o("heading",l(25,50,"common.updated-at"))("hiddenByDefault",!0)("sort",i.sorts.get("updatedAt")),a(3),o("heading",l(28,52,"common.name"))("optional",!1)("sort",i.sorts.get("name")),a(3),o("heading",l(31,54,"common.code"))("sort",i.sorts.get("code")),a(3),o("heading",l(34,56,"common.description"))("sort",i.sorts.get("description"))("hiddenByDefault",!0),a(3),o("heading",l(37,58,"settings.fulfillment-handler"))("sort",i.sorts.get("fulfillmentHandlerCode")),a(3),o("ngForOf",i.customFields))},dependencies:[K,U,ge,G,H,V,z,Oe,q,O,Fe,De,Se,Ie,Ee,M,A,k,fe],encapsulation:2,changeDetection:0})}}return t})(),Qt=D`
    fragment StockLocationDetail on StockLocation {
        id
        createdAt
        updatedAt
        name
        description
    }
`,Yd=D`
    query GetStockLocationDetail($id: ID!) {
        stockLocation(id: $id) {
            ...StockLocationDetail
        }
    }
    ${Qt}
`,Xd=D`
    mutation CreateStockLocation($input: CreateStockLocationInput!) {
        createStockLocation(input: $input) {
            ...StockLocationDetail
        }
    }
    ${Qt}
`,Jd=D`
    mutation UpdateStockLocation($input: UpdateStockLocationInput!) {
        updateStockLocation(input: $input) {
            ...StockLocationDetail
        }
    }
    ${Qt}
`,Zs=(()=>{class t extends ue{constructor(e,n,i,c){super(),this.changeDetector=e,this.dataService=n,this.formBuilder=i,this.notificationService=c,this.customFields=this.getCustomFieldConfig("StockLocation"),this.detailForm=this.formBuilder.group({name:["",x.required],description:[""],customFields:this.formBuilder.group(Pe(this.customFields))})}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}create(){if(!this.detailForm.dirty)return;let{name:e,description:n,customFields:i}=this.detailForm.value;if(!e)return;let c={name:e,description:n,customFields:i};this.dataService.mutate(Ji,{input:c}).subscribe(h=>{this.notificationService.success("common.notify-create-success",{entity:"StockLocation"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",h.createStockLocation.id],{relativeTo:this.route})},h=>{this.notificationService.error("common.notify-create-error",{entity:"StockLocation"})})}save(){if(!this.detailForm.dirty)return;let e=this.detailForm.value;this.entity$.pipe(ce(1),Y(n=>{let i={id:n.id,name:e.name,description:e.description,customFields:e.customFields};return this.dataService.mutate(en,{input:i})})).subscribe(n=>{this.notificationService.success("common.notify-update-success",{entity:"StockLocation"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},n=>{this.notificationService.error("common.notify-update-error",{entity:"StockLocation"})})}setFormValues(e){this.detailForm.patchValue({name:e.name,description:e.description}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get("customFields"),e)}static{this.\u0275fac=function(n){return new(n||t)(v(pe),v(R),v(me),v(X))}}static{this.\u0275cmp=B({type:t,selectors:[["vdr-stock-location-detail"]],standalone:!1,features:[w],decls:29,vars:28,consts:[["updateButton",""],["locationId","stock-location-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],[1,"form",3,"formGroup"],[4,"ngIf"],[1,"form-grid"],["for","name",3,"label"],["id","name","type","text","formControlName","name",3,"readonly"],["for","slug",1,"form-grid-span",3,"label","errors"],["formControlName","description",3,"readonly"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","stock-location-detail",3,"entity$","detailForm"],[1,"btn","btn-primary",3,"click","disabled"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"entity"],["formGroupName","customFields",3,"title"],["entityName","StockLocation",3,"customFields","customFieldsFormGroup"]],template:function(n,i){if(n&1&&(s(0,"vdr-page-block")(1,"vdr-action-bar"),m(2,"vdr-ab-left"),s(3,"vdr-ab-right"),m(4,"vdr-action-bar-items",1),u(5,Jr,3,4,"button",2),r(6,"async"),u(7,tl,1,1,"ng-template",null,0,ee),m(9,"vdr-action-bar-dropdown-menu",1),d()()(),s(10,"form",3)(11,"vdr-page-detail-layout")(12,"vdr-page-detail-sidebar"),u(13,il,2,1,"vdr-card",4),r(14,"async"),d(),s(15,"vdr-page-block")(16,"vdr-card")(17,"div",5)(18,"vdr-form-field",6),r(19,"translate"),m(20,"input",7),r(21,"hasPermission"),d(),s(22,"vdr-form-field",8),r(23,"translate"),r(24,"translate"),m(25,"vdr-rich-text-editor",9),r(26,"hasPermission"),d()()(),u(27,nl,3,5,"vdr-card",10),m(28,"vdr-custom-detail-component-host",11),d()()()),n&2){let c=J(8);a(5),o("ngIf",l(6,12,i.isNew$))("ngIfElse",c),a(5),o("formGroup",i.detailForm),a(3),o("ngIf",l(14,14,i.entity$)),a(5),o("label",l(19,16,"common.name")),a(2),o("readonly",!l(21,18,"UpdateStockLocation")),a(2),o("label",l(23,20,"common.description"))("errors",j(26,Xr,l(24,22,"catalog.slug-pattern-error"))),a(3),o("readonly",!l(26,24,"UpdateStockLocation")),a(2),o("ngIf",i.customFields.length),a(),o("entity$",i.entity$)("detailForm",i.detailForm)}},dependencies:[N,ae,te,ie,oe,re,le,he,G,H,V,z,se,ne,Ct,q,O,Ce,Te,M,_e,ve,ye,de,A,k,be],encapsulation:2,changeDetection:0})}}return t})(),ep=D`
    mutation DeleteStockLocations($input: [DeleteStockLocationInput!]!) {
        deleteStockLocations(input: $input) {
            result
            message
        }
    }
`,tp=D`
    mutation AssignStockLocationsToChannel($input: AssignStockLocationsToChannelInput!) {
        assignStockLocationsToChannel(input: $input) {
            id
            name
        }
    }
`,ip=D`
    mutation RemoveStockLocationsFromChannel($input: RemoveStockLocationsFromChannelInput!) {
        removeStockLocationsFromChannel(input: $input) {
            id
            name
        }
    }
`,qs=ke({location:"stock-location-list",requiresPermission:t=>t.includes(T.DeleteStockLocation)||t.includes(T.DeleteCatalog),getItemName:t=>t.name,bulkDelete:(t,p)=>t.mutate(tn,{input:p.map(e=>({id:e}))}).pipe(E(e=>e.deleteStockLocations)),shouldRetryItem:t=>t.result===Li.NOT_DELETED}),Hs=vt({location:"stock-location-list",requiresPermission:t=>t.includes(T.UpdateCatalog)||t.includes(T.UpdateStockLocation),getItemName:t=>t.name,bulkAssignToChannel:(t,p,e)=>e.map(n=>t.mutate(nn,{input:{channelId:n,stockLocationIds:p}}).pipe(E(i=>i.assignStockLocationsToChannel)))}),zs=yt({location:"stock-location-list",requiresPermission:t=>t.includes(T.DeleteCatalog)||t.includes(T.DeleteStockLocation),getItemName:t=>t.name,bulkRemoveFromChannel:(t,p,e)=>t.mutate(on,{input:{channelId:e,stockLocationIds:p}}).pipe(E(n=>n.removeStockLocationsFromChannel))}),np=D`
    query GetStockLocationList($options: StockLocationListOptions) {
        stockLocations(options: $options) {
            items {
                ...StockLocationListItem
            }
            totalItems
        }
    }
    fragment StockLocationListItem on StockLocation {
        id
        createdAt
        updatedAt
        name
        description
    }
`,Us=(()=>{class t extends Be{constructor(){super(),this.dataTableListId="stock-location-list",this.customFields=this.getCustomFieldConfig("StockLocation"),this.filters=this.createFilterCollection().addIdFilter().addDateFilters().addFilters([{name:"enabled",type:{kind:"text"},label:"common.enabled",filterField:"name"},{name:"sku",type:{kind:"text"},label:"catalog.sku",filterField:"description"}]).addCustomFieldFilters(this.customFields).connectToRoute(this.route),this.sorts=this.createSortCollection().addSorts([{name:"id"},{name:"createdAt"},{name:"updatedAt"},{name:"name"},{name:"description"}]).addCustomFieldSorts(this.customFields).connectToRoute(this.route),this.configure({document:an,getItems:e=>e.stockLocations,setVariables:(e,n)=>({options:{skip:e,take:n,filter:$({name:{contains:this.searchTermControl.value}},this.filters.createFilterInput()),sort:this.sorts.createSortInput()}}),refreshListOnChanges:[this.sorts.valueChanges,this.filters.valueChanges]})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=B({type:t,selectors:[["vdr-stock-location-list"]],standalone:!1,features:[w],decls:31,vars:47,consts:[["locationId","stock-location-list"],["class","button primary",3,"routerLink",4,"vdrIfPermissions"],[1,"mt-2",3,"pageChange","itemsPerPageChange","visibleColumnsChange","id","items","itemsPerPage","totalItems","currentPage","filters"],["locationId","stock-location-list",3,"hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault","sort"],["id","created-at",3,"heading","hiddenByDefault","sort"],["id","updated-at",3,"heading","hiddenByDefault","sort"],["id","name",3,"heading","optional","sort"],["id","description",3,"heading","sort"],[3,"customField","sorts",4,"ngFor","ngForOf"],[1,"button","primary",3,"routerLink"],["shape","plus"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],[1,"description",3,"innerHTML"],[3,"customField","sorts"]],template:function(n,i){n&1&&(s(0,"vdr-page-block")(1,"vdr-action-bar"),m(2,"vdr-ab-left"),s(3,"vdr-ab-right"),m(4,"vdr-action-bar-items",0),u(5,al,4,5,"a",1),m(6,"vdr-action-bar-dropdown-menu",0),d()()(),s(7,"vdr-data-table-2",2),r(8,"async"),r(9,"async"),r(10,"async"),r(11,"async"),_("pageChange",function(h){return i.setPageNumber(h)})("itemsPerPageChange",function(h){return i.setItemsPerPage(h)})("visibleColumnsChange",function(h){return i.setVisibleColumns(h)}),m(12,"vdr-bulk-action-menu",3)(13,"vdr-dt2-search",4),r(14,"translate"),s(15,"vdr-dt2-column",5),r(16,"translate"),u(17,rl,1,1,"ng-template"),d(),s(18,"vdr-dt2-column",6),r(19,"translate"),u(20,ll,2,4,"ng-template"),d(),s(21,"vdr-dt2-column",7),r(22,"translate"),u(23,sl,2,4,"ng-template"),d(),s(24,"vdr-dt2-column",8),r(25,"translate"),u(26,dl,4,4,"ng-template"),d(),s(27,"vdr-dt2-column",9),r(28,"translate"),u(29,pl,1,1,"ng-template"),d(),u(30,cl,1,2,"vdr-dt2-custom-field-column",10),d()),n&2&&(a(5),o("vdrIfPermissions",L(46,ol)),a(2),o("id",i.dataTableListId)("items",l(8,26,i.items$))("itemsPerPage",l(9,28,i.itemsPerPage$))("totalItems",l(10,30,i.totalItems$))("currentPage",l(11,32,i.currentPage$))("filters",i.filters),a(5),o("hostComponent",i)("selectionManager",i.selectionManager),a(),o("searchTermControl",i.searchTermControl)("searchTermPlaceholder",l(14,34,"catalog.filter-by-name")),a(2),o("heading",l(16,36,"common.id"))("hiddenByDefault",!0)("sort",i.sorts.get("id")),a(3),o("heading",l(19,38,"common.created-at"))("hiddenByDefault",!0)("sort",i.sorts.get("createdAt")),a(3),o("heading",l(22,40,"common.updated-at"))("hiddenByDefault",!0)("sort",i.sorts.get("updatedAt")),a(3),o("heading",l(25,42,"common.name"))("optional",!1)("sort",i.sorts.get("name")),a(3),o("heading",l(28,44,"common.description"))("sort",i.sorts.get("description")),a(3),o("ngForOf",i.customFields))},dependencies:[K,U,ge,G,H,V,z,q,O,Fe,De,Se,Ie,Ee,M,A,k,fe],styles:[".description>p{margin-top:0!important}"],changeDetection:0})}}return t})(),op=D`
    query GetTaxCategoryDetail($id: ID!) {
        taxCategory(id: $id) {
            ...TaxCategory
        }
    }
    ${$t}
`,js=(()=>{class t extends ue{constructor(e,n,i,c){super(),this.changeDetector=e,this.dataService=n,this.formBuilder=i,this.notificationService=c,this.customFields=this.getCustomFieldConfig("TaxCategory"),this.detailForm=this.formBuilder.group({name:["",x.required],isDefault:!1,customFields:this.formBuilder.group(Pe(this.customFields))}),this.updatePermission=[T.UpdateSettings,T.UpdateTaxCategory]}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}saveButtonEnabled(){return this.detailForm.dirty&&this.detailForm.valid}create(){if(!this.detailForm.dirty)return;let e=this.detailForm.value,n={name:e.name,isDefault:e.isDefault,customFields:e.customFields};this.dataService.settings.createTaxCategory(n).subscribe(i=>{this.notificationService.success("common.notify-create-success",{entity:"TaxCategory"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",i.createTaxCategory.id],{relativeTo:this.route})},i=>{this.notificationService.error("common.notify-create-error",{entity:"TaxCategory"})})}save(){if(!this.detailForm.dirty)return;let e=this.detailForm.value;this.entity$.pipe(ce(1),Y(n=>{let i={id:n.id,name:e.name,isDefault:e.isDefault,customFields:e.customFields};return this.dataService.settings.updateTaxCategory(i)})).subscribe(n=>{this.notificationService.success("common.notify-update-success",{entity:"TaxCategory"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},n=>{this.notificationService.error("common.notify-update-error",{entity:"TaxCategory"})})}setFormValues(e,n){this.detailForm.patchValue({name:e.name,isDefault:e.isDefault}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get("customFields"),e)}static{this.\u0275fac=function(n){return new(n||t)(v(pe),v(R),v(me),v(X))}}static{this.\u0275cmp=B({type:t,selectors:[["vdr-tax-detail"]],standalone:!1,features:[w],decls:29,vars:23,consts:[["updateButton",""],["locationId","tax-category-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],[1,"form",3,"formGroup"],[4,"ngIf"],[1,"form-grid"],["for","name",3,"label"],["id","name","type","text","formControlName","name",3,"readonly"],["for","isDefault",3,"label"],["type","checkbox","clrToggle","","id","isDefault","formControlName","isDefault",3,"vdrDisabled"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","tax-category-detail",3,"entity$","detailForm"],[1,"btn","btn-primary",3,"click","disabled"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"entity"],["formGroupName","customFields",3,"title"],["entityName","TaxCategory",3,"customFields","customFieldsFormGroup"]],template:function(n,i){if(n&1&&(s(0,"vdr-page-block")(1,"vdr-action-bar"),m(2,"vdr-ab-left"),s(3,"vdr-ab-right"),m(4,"vdr-action-bar-items",1),u(5,ml,3,4,"button",2),r(6,"async"),u(7,gl,1,1,"ng-template",null,0,ee),m(9,"vdr-action-bar-dropdown-menu",1),d()()(),s(10,"form",3)(11,"vdr-page-detail-layout")(12,"vdr-page-detail-sidebar"),u(13,hl,2,1,"vdr-card",4),r(14,"async"),d(),s(15,"vdr-page-block")(16,"vdr-card")(17,"div",5)(18,"vdr-form-field",6),r(19,"translate"),m(20,"input",7),r(21,"hasPermission"),d(),s(22,"vdr-form-field",8),r(23,"translate"),s(24,"clr-toggle-wrapper"),m(25,"input",9),r(26,"hasPermission"),d()()()(),u(27,fl,3,5,"vdr-card",10),m(28,"vdr-custom-detail-component-host",11),d()()()),n&2){let c=J(8);a(5),o("ngIf",l(6,11,i.isNew$))("ngIfElse",c),a(5),o("formGroup",i.detailForm),a(3),o("ngIf",l(14,13,i.entity$)),a(5),o("label",l(19,15,"common.name")),a(2),o("readonly",!l(21,17,i.updatePermission)),a(2),o("label",l(23,19,"common.default-tax-category")),a(3),o("vdrDisabled",!l(26,21,i.updatePermission)),a(2),o("ngIf",i.customFields.length),a(),o("entity$",i.entity$)("detailForm",i.detailForm)}},dependencies:[Ue,ze,N,ae,te,He,ie,oe,re,le,he,G,H,V,z,se,ne,q,O,we,Ce,Te,M,_e,ve,ye,de,A,k,be],encapsulation:2,changeDetection:0})}}return t})(),Ws=ke({location:"tax-category-list",requiresPermission:t=>t.includes(T.DeleteSettings)||t.includes(T.DeleteTaxCategory),getItemName:t=>t.name,bulkDelete:(t,p)=>t.settings.deleteTaxCategories(p).pipe(E(e=>e.deleteTaxCategories))}),ap=D`
    query GetTaxCategoryList($options: TaxCategoryListOptions) {
        taxCategories(options: $options) {
            items {
                ...TaxCategory
            }
            totalItems
        }
    }
    ${$t}
`,Ks=(()=>{class t extends Be{constructor(){super(),this.dataTableListId="tax-category-list",this.customFields=this.serverConfigService.getCustomFieldsFor("TaxCategory"),this.filters=this.createFilterCollection().addIdFilter().addFilter({name:"name",type:{kind:"text"},label:"common.name",filterField:"name"}).addCustomFieldFilters(this.customFields).connectToRoute(this.route),this.sorts=this.createSortCollection().defaultSort("createdAt","DESC").addSort({name:"createdAt"}).addSort({name:"updatedAt"}).addSort({name:"name"}).addCustomFieldSorts(this.customFields).connectToRoute(this.route),super.configure({document:ln,getItems:e=>e.taxCategories,setVariables:(e,n)=>({options:{skip:e,take:n,filter:$({name:{contains:this.searchTermControl.value}},this.filters.createFilterInput()),sort:this.sorts.createSortInput()}}),refreshListOnChanges:[this.filters.valueChanges,this.sorts.valueChanges]})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=B({type:t,selectors:[["vdr-tax-list"]],standalone:!1,features:[w],decls:31,vars:45,consts:[["locationId","tax-category-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],[3,"pageChange","itemsPerPageChange","visibleColumnsChange","id","items","itemsPerPage","totalItems","currentPage","filters"],["locationId","tax-category-list",3,"hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault"],["id","created-at",3,"heading","hiddenByDefault","sort"],["id","updated-at",3,"heading","hiddenByDefault","sort"],["id","name",3,"heading","optional","sort"],["id","default-tax-category",3,"heading"],[3,"customField","sorts",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],[4,"ngIf"],[3,"customField","sorts"]],template:function(n,i){n&1&&(s(0,"vdr-page-block")(1,"vdr-action-bar"),m(2,"vdr-ab-left"),s(3,"vdr-ab-right"),m(4,"vdr-action-bar-items",0),u(5,_l,4,5,"a",1),m(6,"vdr-action-bar-dropdown-menu",0),d()()(),s(7,"vdr-data-table-2",2),r(8,"async"),r(9,"async"),r(10,"async"),r(11,"async"),_("pageChange",function(h){return i.setPageNumber(h)})("itemsPerPageChange",function(h){return i.setItemsPerPage(h)})("visibleColumnsChange",function(h){return i.setVisibleColumns(h)}),m(12,"vdr-bulk-action-menu",3)(13,"vdr-dt2-search",4),r(14,"translate"),s(15,"vdr-dt2-column",5),r(16,"translate"),u(17,vl,1,1,"ng-template"),d(),s(18,"vdr-dt2-column",6),r(19,"translate"),u(20,yl,2,4,"ng-template"),d(),s(21,"vdr-dt2-column",7),r(22,"translate"),u(23,bl,2,4,"ng-template"),d(),s(24,"vdr-dt2-column",8),r(25,"translate"),u(26,Fl,4,4,"ng-template"),d(),s(27,"vdr-dt2-column",9),r(28,"translate"),u(29,Sl,1,1,"ng-template"),d(),u(30,Il,1,2,"vdr-dt2-custom-field-column",10),d()),n&2&&(a(5),o("vdrIfPermissions",L(44,Cl)),a(2),o("id",i.dataTableListId)("items",l(8,24,i.items$))("itemsPerPage",l(9,26,i.itemsPerPage$))("totalItems",l(10,28,i.totalItems$))("currentPage",l(11,30,i.currentPage$))("filters",i.filters),a(5),o("hostComponent",i)("selectionManager",i.selectionManager),a(),o("searchTermControl",i.searchTermControl)("searchTermPlaceholder",l(14,32,"catalog.filter-by-name")),a(2),o("heading",l(16,34,"common.id"))("hiddenByDefault",!0),a(3),o("heading",l(19,36,"common.created-at"))("hiddenByDefault",!0)("sort",i.sorts.get("createdAt")),a(3),o("heading",l(22,38,"common.updated-at"))("hiddenByDefault",!0)("sort",i.sorts.get("updatedAt")),a(3),o("heading",l(25,40,"common.name"))("optional",!1)("sort",i.sorts.get("name")),a(3),o("heading",l(28,42,"common.default-tax-category")),a(3),o("ngForOf",i.customFields))},dependencies:[K,U,N,ge,G,H,V,z,Re,q,O,Fe,De,Se,Ie,Ee,M,A,k,fe],encapsulation:2,changeDetection:0})}}return t})(),rp=D`
    query GetTaxRateDetail($id: ID!) {
        taxRate(id: $id) {
            ...TaxRate
        }
    }
    ${wt}
`,Qs=(()=>{class t extends ue{constructor(e,n,i,c){super(),this.changeDetector=e,this.dataService=n,this.formBuilder=i,this.notificationService=c,this.customFields=this.getCustomFieldConfig("TaxRate"),this.detailForm=this.formBuilder.group({name:["",x.required],enabled:[!0],value:[0,x.required],taxCategoryId:["",x.required],zoneId:["",x.required],customerGroupId:[""],customFields:this.formBuilder.group(Pe(this.customFields))}),this.updatePermission=[T.UpdateSettings,T.UpdateTaxRate]}ngOnInit(){this.init(),this.taxCategories$=this.dataService.settings.getTaxCategories({take:100}).mapSingle(e=>e.taxCategories.items)}ngOnDestroy(){this.destroy()}saveButtonEnabled(){return this.detailForm.dirty&&this.detailForm.valid}create(){if(!this.detailForm.dirty)return;let{name:e,enabled:n,value:i,taxCategoryId:c,zoneId:h,customerGroupId:F,customFields:W}=this.detailForm.value;if(!e||n==null||i==null||!c||!h)return;let Q=this.detailForm.value,We={name:e,enabled:n,value:i,categoryId:c,zoneId:h,customerGroupId:Q.customerGroupId,customFields:Q.customFields};this.dataService.settings.createTaxRate(We).subscribe(st=>{this.notificationService.success("common.notify-create-success",{entity:"TaxRate"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",st.createTaxRate.id],{relativeTo:this.route})},st=>{this.notificationService.error("common.notify-create-error",{entity:"TaxRate"})})}save(){if(!this.detailForm.dirty)return;let e=this.detailForm.value;this.entity$.pipe(ce(1),Y(n=>{let i={id:n.id,name:e.name,enabled:e.enabled,value:e.value,categoryId:e.taxCategoryId,zoneId:e.zoneId,customerGroupId:e.customerGroupId,customFields:e.customFields};return this.dataService.settings.updateTaxRate(i)})).subscribe(n=>{this.notificationService.success("common.notify-update-success",{entity:"TaxRate"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},n=>{this.notificationService.error("common.notify-update-error",{entity:"TaxRate"})})}setFormValues(e,n){this.detailForm.patchValue({name:e.name,enabled:e.enabled,value:e.value,taxCategoryId:e.category?e.category.id:"",zoneId:e.zone?e.zone.id:"",customerGroupId:e.customerGroup?e.customerGroup.id:""}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get("customFields"),e)}static{this.\u0275fac=function(n){return new(n||t)(v(pe),v(R),v(me),v(X))}}static{this.\u0275cmp=B({type:t,selectors:[["vdr-tax-rate-detail"]],standalone:!1,features:[w],decls:45,vars:44,consts:[["updateButton",""],["locationId","tax-rate-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],[1,"form",3,"formGroup"],["for","enabled",3,"label"],["type","checkbox","clrToggle","","id","enabled","formControlName","enabled",3,"vdrDisabled"],[4,"ngIf"],[1,"form-grid"],["for","name",3,"label"],["id","name","type","text","formControlName","name",3,"readonly"],["for","value",3,"label"],["suffix","%"],["id","value","type","number","step","0.1","formControlName","value",3,"readonly"],["for","taxCategoryId",3,"label"],["name","taxCategoryId","formControlName","taxCategoryId",3,"vdrDisabled"],[3,"value",4,"ngFor","ngForOf"],["for","zoneId",3,"label"],["name","zoneId","formControlName","zoneId",3,"vdrDisabled"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","tax-rate-detail",3,"entity$","detailForm"],[1,"btn","btn-primary",3,"click","disabled"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"entity"],[3,"value"],["formGroupName","customFields",3,"title"],["entityName","TaxRate",3,"customFields","customFieldsFormGroup"]],template:function(n,i){if(n&1&&(s(0,"vdr-page-block")(1,"vdr-action-bar"),m(2,"vdr-ab-left"),s(3,"vdr-ab-right"),m(4,"vdr-action-bar-items",1),u(5,Dl,3,4,"button",2),r(6,"async"),u(7,xl,1,1,"ng-template",null,0,ee),m(9,"vdr-action-bar-dropdown-menu",1),d()()(),s(10,"form",3)(11,"vdr-page-detail-layout")(12,"vdr-page-detail-sidebar")(13,"vdr-card")(14,"vdr-form-field",4),r(15,"translate"),s(16,"clr-toggle-wrapper"),m(17,"input",5),r(18,"hasPermission"),d()()(),u(19,Bl,2,1,"vdr-card",6),r(20,"async"),d(),s(21,"vdr-page-block")(22,"vdr-card")(23,"div",7)(24,"vdr-form-field",8),r(25,"translate"),m(26,"input",9),r(27,"hasPermission"),d(),s(28,"vdr-form-field",10),r(29,"translate"),s(30,"vdr-affixed-input",11),m(31,"input",12),r(32,"hasPermission"),d()(),s(33,"vdr-form-field",13),r(34,"translate"),s(35,"select",14),r(36,"hasPermission"),u(37,kl,2,2,"option",15),r(38,"async"),d()(),s(39,"vdr-form-field",16),r(40,"translate"),m(41,"vdr-zone-selector",17),r(42,"hasPermission"),d()()(),u(43,Ll,3,5,"vdr-card",18),m(44,"vdr-custom-detail-component-host",19),d()()()),n&2){let c=J(8);a(5),o("ngIf",l(6,18,i.isNew$))("ngIfElse",c),a(5),o("formGroup",i.detailForm),a(4),o("label",l(15,20,"common.enabled")),a(3),o("vdrDisabled",!l(18,22,i.updatePermission)),a(2),o("ngIf",l(20,24,i.entity$)),a(5),o("label",l(25,26,"common.name")),a(2),o("readonly",!l(27,28,i.updatePermission)),a(2),o("label",l(29,30,"settings.rate")),a(3),o("readonly",!l(32,32,i.updatePermission)),a(2),o("label",l(34,34,"settings.tax-category")),a(2),o("vdrDisabled",!l(36,36,i.updatePermission)),a(2),o("ngForOf",l(38,38,i.taxCategories$)),a(2),o("label",l(40,40,"settings.zone")),a(2),o("vdrDisabled",!l(42,42,i.updatePermission)),a(2),o("ngIf",i.customFields.length),a(),o("entity$",i.entity$)("detailForm",i.detailForm)}},dependencies:[Ue,ze,U,N,ae,tt,it,te,ht,He,et,ie,oe,re,le,he,G,H,V,z,Fn,se,ne,q,O,we,Ce,Te,M,_e,ve,ye,de,Ut,A,k,be],encapsulation:2,changeDetection:0})}}return t})(),Ys=ke({location:"tax-rate-list",requiresPermission:t=>t.includes(T.DeleteSettings)||t.includes(T.DeleteTaxRate),getItemName:t=>t.name,bulkDelete:(t,p)=>t.settings.deleteTaxRates(p).pipe(E(e=>e.deleteTaxRates))}),lp=D`
    query GetTaxRateList($options: TaxRateListOptions) {
        taxRates(options: $options) {
            items {
                ...TaxRate
            }
            totalItems
        }
    }
    ${wt}
`,Xs=(()=>{class t extends Be{constructor(){super(),this.dataTableListId="tax-rate-list",this.customFields=this.getCustomFieldConfig("TaxRate"),this.filters=this.createFilterCollection().addIdFilter().addDateFilters().addFilter({name:"name",type:{kind:"text"},label:"common.name",filterField:"name"}).addFilter({name:"enabled",type:{kind:"boolean"},label:"common.enabled",filterField:"enabled"}).addFilter({name:"value",type:{kind:"number"},label:"common.value",filterField:"value"}).addCustomFieldFilters(this.customFields).connectToRoute(this.route),this.sorts=this.createSortCollection().defaultSort("createdAt","DESC").addSort({name:"createdAt"}).addSort({name:"updatedAt"}).addSort({name:"name"}).addSort({name:"value"}).addCustomFieldSorts(this.customFields).connectToRoute(this.route),super.configure({document:dn,getItems:e=>e.taxRates,setVariables:(e,n)=>({options:{skip:e,take:n,filter:$({name:{contains:this.searchTermControl.value}},this.filters.createFilterInput()),sort:this.sorts.createSortInput()}}),refreshListOnChanges:[this.filters.valueChanges,this.sorts.valueChanges]})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=B({type:t,selectors:[["vdr-tax-rate-list"]],standalone:!1,features:[w],decls:43,vars:59,consts:[["locationId","tax-rate-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],[3,"pageChange","itemsPerPageChange","visibleColumnsChange","id","items","itemsPerPage","totalItems","currentPage","filters"],["locationId","tax-rate-list",3,"hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault"],["id","created-at",3,"heading","hiddenByDefault","sort"],["id","updated-at",3,"heading","hiddenByDefault","sort"],["id","name",3,"heading","optional","sort"],["id","tax-category",3,"heading"],["id","zone",3,"heading"],["id","customer-group",3,"heading","hiddenByDefault"],["id","tax-rate",3,"heading","sort"],["id","enabled",3,"heading"],[3,"customField","sorts",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],["colorType","success",4,"ngIf"],["colorType","warning",4,"ngIf"],["colorType","success"],["colorType","warning"],[3,"customField","sorts"]],template:function(n,i){n&1&&(s(0,"vdr-page-block")(1,"vdr-action-bar"),m(2,"vdr-ab-left"),s(3,"vdr-ab-right"),m(4,"vdr-action-bar-items",0),u(5,El,4,5,"a",1),m(6,"vdr-action-bar-dropdown-menu",0),d()()(),s(7,"vdr-data-table-2",2),r(8,"async"),r(9,"async"),r(10,"async"),r(11,"async"),_("pageChange",function(h){return i.setPageNumber(h)})("itemsPerPageChange",function(h){return i.setItemsPerPage(h)})("visibleColumnsChange",function(h){return i.setVisibleColumns(h)}),m(12,"vdr-bulk-action-menu",3)(13,"vdr-dt2-search",4),r(14,"translate"),s(15,"vdr-dt2-column",5),r(16,"translate"),u(17,Ml,1,1,"ng-template"),d(),s(18,"vdr-dt2-column",6),r(19,"translate"),u(20,$l,2,4,"ng-template"),d(),s(21,"vdr-dt2-column",7),r(22,"translate"),u(23,wl,2,4,"ng-template"),d(),s(24,"vdr-dt2-column",8),r(25,"translate"),u(26,Nl,4,4,"ng-template"),d(),s(27,"vdr-dt2-column",9),r(28,"translate"),u(29,Rl,1,1,"ng-template"),d(),s(30,"vdr-dt2-column",10),r(31,"translate"),u(32,Ol,1,1,"ng-template"),d(),s(33,"vdr-dt2-column",11),r(34,"translate"),u(35,Vl,1,1,"ng-template"),d(),s(36,"vdr-dt2-column",12),r(37,"translate"),u(38,Gl,1,1,"ng-template"),d(),s(39,"vdr-dt2-column",13),r(40,"translate"),u(41,Hl,2,2,"ng-template"),d(),u(42,zl,1,2,"vdr-dt2-custom-field-column",14),d()),n&2&&(a(5),o("vdrIfPermissions",L(58,Al)),a(2),o("id",i.dataTableListId)("items",l(8,30,i.items$))("itemsPerPage",l(9,32,i.itemsPerPage$))("totalItems",l(10,34,i.totalItems$))("currentPage",l(11,36,i.currentPage$))("filters",i.filters),a(5),o("hostComponent",i)("selectionManager",i.selectionManager),a(),o("searchTermControl",i.searchTermControl)("searchTermPlaceholder",l(14,38,"catalog.filter-by-name")),a(2),o("heading",l(16,40,"common.id"))("hiddenByDefault",!0),a(3),o("heading",l(19,42,"common.created-at"))("hiddenByDefault",!0)("sort",i.sorts.get("createdAt")),a(3),o("heading",l(22,44,"common.updated-at"))("hiddenByDefault",!0)("sort",i.sorts.get("updatedAt")),a(3),o("heading",l(25,46,"common.name"))("optional",!1)("sort",i.sorts.get("name")),a(3),o("heading",l(28,48,"settings.tax-category")),a(3),o("heading",l(31,50,"settings.zone")),a(3),o("heading",l(34,52,"customer.customer-group"))("hiddenByDefault",!0),a(3),o("heading",l(37,54,"settings.tax-rate"))("sort",i.sorts.get("value")),a(3),o("heading",l(40,56,"common.enabled")),a(3),o("ngForOf",i.customFields))},dependencies:[K,U,N,ge,G,H,V,z,Re,q,O,Fe,De,Se,Ie,Ee,M,A,k,fe],encapsulation:2,changeDetection:0})}}return t})(),Js=(()=>{class t{constructor(e){this.dataService=e,this.testDataUpdated=!1,this.fetchTestResult$=new je}ngOnInit(){this.activeChannel$=this.dataService.settings.getActiveChannel().mapStream(e=>e.activeChannel),this.testResult$=this.fetchTestResult$.pipe(qe(([e,n])=>{let i={shippingAddress:Ae($({},e),{streetLine1:"test"}),lines:n.map(c=>({productVariantId:c.id,quantity:c.quantity}))};return this.dataService.shippingMethod.testEligibleShippingMethods(i).mapSingle(c=>c.testEligibleShippingMethods)}))}setTestOrderLines(e){this.testOrderLines=e,this.testDataUpdated=!0}setTestAddress(e){this.testAddress=e,this.testDataUpdated=!0}allTestDataPresent(){return!!(this.testAddress&&this.testOrderLines&&this.testOrderLines.length)}runTest(){this.fetchTestResult$.next([this.testAddress,this.testOrderLines]),this.testDataUpdated=!1}static{this.\u0275fac=function(n){return new(n||t)(v(R))}}static{this.\u0275cmp=B({type:t,selectors:[["vdr-test-shipping-methods"]],standalone:!1,decls:9,vars:8,consts:[[1,"test-wrapper"],[1,""],[3,"orderLinesChange"],[3,"addressChange"],[1,"mt-1",3,"runTest","currencyCode","okToRun","testDataUpdated","testResult"]],template:function(n,i){if(n&1&&(s(0,"vdr-page-block")(1,"div",0)(2,"div",1)(3,"vdr-test-order-builder",2),_("orderLinesChange",function(h){return i.setTestOrderLines(h)}),d()(),s(4,"div",1)(5,"vdr-test-address-form",3),_("addressChange",function(h){return i.setTestAddress(h)}),d(),s(6,"vdr-shipping-eligibility-test-result",4),r(7,"async"),r(8,"async"),_("runTest",function(){return i.runTest()}),d()()()()),n&2){let c;a(6),o("currencyCode",(c=l(7,4,i.activeChannel$))==null?null:c.currencyCode)("okToRun",i.allTestDataPresent())("testDataUpdated",i.testDataUpdated)("testResult",l(8,6,i.testResult$))}},dependencies:[M,On,Vn,$s,A],styles:[".test-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;gap:var(--space-unit)}.test-wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1}@media screen and (max-width: 992px){.test-wrapper[_ngcontent-%COMP%]{flex-direction:column}}"],changeDetection:0})}}return t})(),sp=D`
    query GetZoneDetail($id: ID!) {
        zone(id: $id) {
            ...ZoneDetail
        }
    }
    fragment ZoneDetail on Zone {
        id
        createdAt
        updatedAt
        name
    }
`,ed=(()=>{class t extends ue{constructor(e,n,i,c){super(),this.changeDetector=e,this.dataService=n,this.formBuilder=i,this.notificationService=c,this.customFields=this.getCustomFieldConfig("Zone"),this.detailForm=this.formBuilder.group({name:["",x.required],customFields:this.formBuilder.group(Pe(this.customFields))}),this.updatePermission=[T.UpdateSettings,T.UpdateZone]}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}saveButtonEnabled(){return this.detailForm.dirty&&this.detailForm.valid}create(){if(!this.detailForm.dirty)return;let{name:e,customFields:n}=this.detailForm.value;if(!e)return;let i={name:e,customFields:n};this.dataService.settings.createZone(i).subscribe(c=>{this.notificationService.success("common.notify-create-success",{entity:"Zone"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",c.createZone.id],{relativeTo:this.route})},c=>{this.notificationService.error("common.notify-create-error",{entity:"Zone"})})}save(){if(!this.detailForm.dirty)return;let e=this.detailForm.value;this.entity$.pipe(ce(1),Y(n=>{let i={id:n.id,name:e.name,customFields:e.customFields};return this.dataService.settings.updateZone(i)})).subscribe(n=>{this.notificationService.success("common.notify-update-success",{entity:"Zone"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},n=>{this.notificationService.error("common.notify-update-error",{entity:"Zone"})})}setFormValues(e,n){this.detailForm.patchValue({name:e.name}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get("customFields"),e)}static{this.\u0275fac=function(n){return new(n||t)(v(pe),v(R),v(me),v(X))}}static{this.\u0275cmp=B({type:t,selectors:[["vdr-zone-detail"]],standalone:!1,features:[w],decls:24,vars:17,consts:[["updateButton",""],["locationId","zone-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],[1,"form",3,"formGroup"],[4,"ngIf"],[1,"form-grid"],["for","name",3,"label"],["id","name","type","text","formControlName","name",3,"readonly"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","zone-detail",3,"entity$","detailForm"],[1,"btn","btn-primary",3,"click","disabled"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"entity"],["formGroupName","customFields",3,"title"],["entityName","Zone",3,"customFields","customFieldsFormGroup"]],template:function(n,i){if(n&1&&(s(0,"vdr-page-block")(1,"vdr-action-bar"),m(2,"vdr-ab-left"),s(3,"vdr-ab-right"),m(4,"vdr-action-bar-items",1),u(5,Ul,3,4,"button",2),r(6,"async"),u(7,Wl,1,1,"ng-template",null,0,ee),m(9,"vdr-action-bar-dropdown-menu",1),d()()(),s(10,"form",3)(11,"vdr-page-detail-layout")(12,"vdr-page-detail-sidebar"),u(13,Kl,2,1,"vdr-card",4),r(14,"async"),d(),s(15,"vdr-page-block")(16,"vdr-card")(17,"div",5)(18,"vdr-form-field",6),r(19,"translate"),m(20,"input",7),r(21,"hasPermission"),d()()(),u(22,Ql,3,5,"vdr-card",8),m(23,"vdr-custom-detail-component-host",9),d()()()),n&2){let c=J(8);a(5),o("ngIf",l(6,9,i.isNew$))("ngIfElse",c),a(5),o("formGroup",i.detailForm),a(3),o("ngIf",l(14,11,i.entity$)),a(5),o("label",l(19,13,"common.name")),a(2),o("readonly",!l(21,15,i.updatePermission)),a(2),o("ngIf",i.customFields.length),a(),o("entity$",i.entity$)("detailForm",i.detailForm)}},dependencies:[N,ae,te,ie,oe,re,le,he,G,H,V,z,se,ne,q,O,Ce,Te,M,_e,ve,ye,de,A,k,be],encapsulation:2,changeDetection:0})}}return t})(),td=ke({location:"zone-list",requiresPermission:t=>t.includes(T.DeleteSettings)||t.includes(T.DeleteZone),getItemName:t=>t.name,bulkDelete:(t,p)=>t.settings.deleteZones(p).pipe(E(e=>e.deleteZones))}),dp=D`
    query GetZoneList($options: ZoneListOptions) {
        zones(options: $options) {
            items {
                ...ZoneListItem
            }
            totalItems
        }
    }
    fragment ZoneListItem on Zone {
        id
        createdAt
        updatedAt
        name
    }
`,id=(()=>{class t extends Be{constructor(e,n,i){super(),this.dataService=e,this.notificationService=n,this.modalService=i,this.dataTableListId="zone-list",this.selectedMemberIds=[],this.customFields=this.serverConfigService.getCustomFieldsFor("Zone"),this.filters=this.createFilterCollection().addIdFilter().addDateFilters().addFilter({name:"name",type:{kind:"text"},label:"common.name",filterField:"name"}).addCustomFieldFilters(this.customFields).connectToRoute(this.route),this.sorts=this.createSortCollection().defaultSort("createdAt","DESC").addSort({name:"createdAt"}).addSort({name:"updatedAt"}).addSort({name:"name"}).addCustomFieldSorts(this.customFields).connectToRoute(this.route),super.configure({document:cn,getItems:c=>c.zones,setVariables:(c,h)=>({options:{skip:c,take:h,filter:$({name:{contains:this.searchTermControl.value}},this.filters.createFilterInput()),filterOperator:this.searchTermControl.value?nt.OR:nt.AND,sort:this.sorts.createSortInput()}}),refreshListOnChanges:[this.filters.valueChanges,this.sorts.valueChanges]})}ngOnInit(){super.ngOnInit();let e=this.route.paramMap.pipe(E(n=>n.get("contents")),gi(),kt(()=>this.selectedMemberIds=[]));this.activeZone$=Ze(this.items$,e).pipe(E(([n,i])=>{if(i)return n.find(c=>c.id===i)})),this.activeIndex$=Ze(this.items$,e).pipe(E(([n,i])=>i?n.findIndex(c=>c.id===i):-1))}setLanguage(e){this.dataService.client.setContentLanguage(e).subscribe()}closeMembers(){let e=$({},this.route.snapshot.params);delete e.contents,this.router.navigate(["./",e],{relativeTo:this.route,queryParamsHandling:"preserve"})}addToZone(e){this.modalService.fromComponent(ms,{locals:{zoneName:e.name,zoneId:e.id},size:"md"}).pipe(qe(n=>n?this.dataService.settings.addMembersToZone(e.id,n).pipe(ui(n)):mi)).subscribe({next:n=>{this.notificationService.success("settings.add-countries-to-zone-success",{countryCount:n.length,zoneName:e.name}),this.refreshMemberList()},error:n=>{this.notificationService.error(n)}})}refreshMemberList(){this.zoneMemberList?.refresh()}static{this.\u0275fac=function(n){return new(n||t)(v(R),v(X),v(_n))}}static{this.\u0275cmp=B({type:t,selectors:[["vdr-zone-list"]],viewQuery:function(n,i){if(n&1&&ni(Wt,5),n&2){let c;ct(c=mt())&&(i.zoneMemberList=c.first)}},standalone:!1,features:[w],decls:15,vars:14,consts:[[3,"languageCodeChange","availableLanguageCodes","currentLanguageCode"],["locationId","zone-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],[3,"closeClicked","rightPanelOpen"],["vdrSplitViewLeft",""],["vdrSplitViewRight","",3,"splitViewTitle"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[3,"pageChange","itemsPerPageChange","visibleColumnsChange","id","items","itemsPerPage","totalItems","currentPage","filters","activeIndex"],["locationId","zone-list",3,"hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault"],["id","created-at",3,"heading","hiddenByDefault","sort"],["id","updated-at",3,"heading","hiddenByDefault","sort"],["id","name",3,"heading","optional","sort"],["id","view-contents",3,"heading","optional"],[3,"customField","sort",4,"ngFor","ngForOf"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],["queryParamsHandling","preserve",1,"button-small","bg-weight-150",3,"routerLink"],["shape","file-group"],[3,"customField","sort"],[4,"ngIf"],[1,"button-ghost","ml-4",3,"click"],["locationId","zone-members-list",3,"selectedMemberIds","activeZone","selectionChange",4,"ngIf"],["locationId","zone-members-list",3,"selectionChange","selectedMemberIds","activeZone"]],template:function(n,i){if(n&1&&(s(0,"vdr-page-block")(1,"vdr-action-bar")(2,"vdr-ab-left")(3,"vdr-language-selector",0),r(4,"async"),r(5,"async"),_("languageCodeChange",function(h){return i.setLanguage(h)}),d()(),s(6,"vdr-ab-right"),m(7,"vdr-action-bar-items",1),u(8,Jl,4,5,"a",2),m(9,"vdr-action-bar-dropdown-menu",1),d()()(),s(10,"vdr-split-view",3),r(11,"async"),_("closeClicked",function(){return i.closeMembers()}),u(12,rs,25,47,"ng-template",4)(13,ds,2,3,"ng-template",5),r(14,"async"),d()),n&2){let c;a(3),o("availableLanguageCodes",l(4,5,i.availableLanguages$))("currentLanguageCode",l(5,7,i.contentLanguage$)),a(5),o("vdrIfPermissions",L(13,Yl)),a(2),o("rightPanelOpen",l(11,9,i.activeZone$)),a(3),o("splitViewTitle",(c=l(14,11,i.activeZone$))==null?null:c.name)}},dependencies:[K,U,N,ge,G,H,V,z,Oe,q,O,Fe,De,Se,Ie,Ee,Ln,Bn,kn,M,Wt,A,k,fe],styles:[".zone-wrapper[_ngcontent-%COMP%]{display:flex;height:calc(100% - 50px)}.zone-wrapper[_ngcontent-%COMP%]   .zone-list[_ngcontent-%COMP%]{flex:1;overflow:auto;margin-top:0}.zone-wrapper[_ngcontent-%COMP%]   .zone-list[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]{background-color:var(--color-component-bg-200)}.zone-members[_ngcontent-%COMP%]{height:100%;width:0;opacity:0;visibility:hidden;overflow:auto;transition:width .3s,opacity .2s .3s,visibility 0s .3s}.zone-members.expanded[_ngcontent-%COMP%]{width:40vw;visibility:visible;opacity:1;padding-inline-start:12px}.zone-members[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{margin:0;background:none;border:none;cursor:pointer}.zone-members[_ngcontent-%COMP%]     table.table{margin-top:0}.zone-members[_ngcontent-%COMP%]     table.table th{top:0}.zone-members[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"],changeDetection:0})}}return t})(),nd={location:"zone-members-list",label:"settings.remove-from-zone",icon:"trash",iconClass:"is-danger",requiresPermission:T.UpdateCustomerGroup,onClick:({injector:t,selection:p,hostComponent:e,clearSelection:n})=>{let i=t.get(R),c=t.get(X),h=e.activeZone,F=p.map(W=>W.id);i.settings.removeMembersFromZone(h.id,F).subscribe({complete:()=>{c.success("settings.remove-countries-from-zone-success",{countryCount:F.length,zoneName:h.name}),e.refresh(),n()}})}},pp=(()=>{class t extends Mn{constructor(e,n){super(e,{__typename:"Administrator",id:"",createdAt:"",updatedAt:"",emailAddress:"",firstName:"",lastName:"",user:{roles:[]}},i=>n.administrator.getActiveAdministrator().mapStream(c=>c.activeAdministrator))}static{this.\u0275fac=function(n){return new(n||t)(Ke(_i),Ke(R))}}static{this.\u0275prov=Yt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),od=t=>[{path:"profile",component:Z,data:{breadcrumb:"breadcrumb.profile"},resolve:{detail:()=>It(R).query(qi).mapSingle(p=>({entity:Xe(p.activeAdministrator)}))},children:t.getPageTabRoutes("profile")},{path:"administrators",component:Z,data:{locationId:"administrator-list",breadcrumb:"breadcrumb.administrators"},children:t.getPageTabRoutes("administrator-list")},{path:"administrators/:id",component:Z,data:{locationId:"administrator-detail",breadcrumb:{label:"breadcrumb.administrators",link:["../","administrators"]}},children:t.getPageTabRoutes("administrator-detail")},{path:"channels",component:Z,data:{locationId:"channel-list",breadcrumb:"breadcrumb.channels"},children:t.getPageTabRoutes("channel-list")},{path:"channels/:id",component:Z,data:{locationId:"channel-detail",breadcrumb:{label:"breadcrumb.channels",link:["../","channels"]}},children:t.getPageTabRoutes("channel-detail")},{path:"stock-locations",component:Z,data:{locationId:"stock-location-list",breadcrumb:"breadcrumb.stock-locations"},children:t.getPageTabRoutes("stock-location-list")},{path:"stock-locations/:id",component:Z,data:{locationId:"stock-location-detail",breadcrumb:{label:"breadcrumb.stock-locations",link:["../","stock-locations"]}},children:t.getPageTabRoutes("stock-location-detail")},{path:"sellers",component:Z,data:{locationId:"seller-list",breadcrumb:"breadcrumb.sellers"},children:t.getPageTabRoutes("seller-list")},{path:"sellers/:id",component:Z,data:{locationId:"seller-detail",breadcrumb:{label:"breadcrumb.sellers",link:["../","sellers"]}},children:t.getPageTabRoutes("seller-detail")},{path:"roles",component:Z,data:{locationId:"role-list",breadcrumb:"breadcrumb.roles"},children:t.getPageTabRoutes("role-list")},{path:"roles/:id",component:Z,data:{locationId:"role-detail",breadcrumb:{label:"breadcrumb.roles",link:["../","roles"]}},children:t.getPageTabRoutes("role-detail")},{path:"tax-categories",component:Z,data:{locationId:"tax-category-list",breadcrumb:"breadcrumb.tax-categories"},children:t.getPageTabRoutes("tax-category-list")},{path:"tax-categories/:id",component:Z,data:{locationId:"tax-category-detail",breadcrumb:{label:"breadcrumb.tax-categories",link:["../","tax-categories"]}},children:t.getPageTabRoutes("tax-category-detail")},{path:"tax-rates",component:Z,data:{locationId:"tax-rate-list",breadcrumb:"breadcrumb.tax-rates"},children:t.getPageTabRoutes("tax-rate-list")},{path:"tax-rates/:id",component:Z,data:{locationId:"tax-rate-detail",breadcrumb:{label:"breadcrumb.tax-rates",link:["../","tax-rates"]}},children:t.getPageTabRoutes("tax-rate-detail")},{path:"countries",component:Z,data:{locationId:"country-list",breadcrumb:"breadcrumb.countries"},children:t.getPageTabRoutes("country-list")},{path:"countries/:id",component:Z,data:{locationId:"country-detail",breadcrumb:{label:"breadcrumb.countries",link:["../","countries"]}},children:t.getPageTabRoutes("country-detail")},{path:"zones",component:Z,data:{locationId:"zone-list",breadcrumb:"breadcrumb.zones"},children:t.getPageTabRoutes("zone-list")},{path:"zones/:id",component:Z,data:{locationId:"zone-detail",breadcrumb:{label:"breadcrumb.zones",link:["../","zones"]}},children:t.getPageTabRoutes("zone-detail")},{path:"shipping-methods",component:Z,data:{locationId:"shipping-method-list",breadcrumb:"breadcrumb.shipping-methods"},children:t.getPageTabRoutes("shipping-method-list")},{path:"shipping-methods/:id",component:Z,data:{locationId:"shipping-method-detail",breadcrumb:{label:"breadcrumb.shipping-methods",link:["../","shipping-methods"]}},children:t.getPageTabRoutes("shipping-method-detail")},{path:"payment-methods",component:Z,data:{locationId:"payment-method-list",breadcrumb:"breadcrumb.payment-methods"},children:t.getPageTabRoutes("payment-method-list")},{path:"payment-methods/:id",component:Z,data:{locationId:"payment-method-detail",breadcrumb:{label:"breadcrumb.payment-methods",link:["../","payment-methods"]}},children:t.getPageTabRoutes("payment-method-detail")},{path:"global-settings",component:Z,data:{breadcrumb:"breadcrumb.global-settings",locationId:"global-setting-detail"},resolve:{detail:()=>It(R).query(Ri).mapSingle(p=>({entity:Xe(p.globalSettings)}))},children:t.getPageTabRoutes("global-setting-detail")}],cp=(()=>{class t{static{this.hasRegisteredTabsAndBulkActions=!1}constructor(e,n){t.hasRegisteredTabsAndBulkActions||(e.registerBulkAction(Es),e.registerBulkAction(Cs),e.registerBulkAction(gs),e.registerBulkAction(ks),e.registerBulkAction(Os),e.registerBulkAction(Vs),e.registerBulkAction(Rs),e.registerBulkAction(Is),e.registerBulkAction(Ds),e.registerBulkAction(Ss),e.registerBulkAction(Ws),e.registerBulkAction(Ys),e.registerBulkAction(ys),e.registerBulkAction(td),e.registerBulkAction(nd),e.registerBulkAction(Hs),e.registerBulkAction(zs),e.registerBulkAction(qs),n.registerPageTab({priority:0,location:"seller-list",tab:"breadcrumb.sellers",route:"",component:Ms}),n.registerPageTab({priority:0,location:"seller-detail",tab:"settings.seller",route:"",component:xe({component:As,query:Ui,entityKey:"seller",getBreadcrumbs:i=>[{label:i?i.name:"settings.create-new-seller",link:[i?.id]}]})}),n.registerPageTab({priority:0,location:"channel-list",tab:"breadcrumb.channels",route:"",component:_s}),n.registerPageTab({priority:0,location:"channel-detail",tab:"settings.channel",route:"",component:xe({component:fs,query:$i,entityKey:"channel",getBreadcrumbs:i=>[{label:i?i.code===$e.DEFAULT_CHANNEL_CODE?"common.default-channel":i.code:"settings.create-new-channel",link:[i?.id]}]})}),n.registerPageTab({priority:0,location:"administrator-list",tab:"breadcrumb.administrators",route:"",component:hs}),n.registerPageTab({priority:0,location:"administrator-detail",tab:"settings.administrator",route:"",component:xe({component:us,query:Ei,entityKey:"administrator",getBreadcrumbs:i=>[{label:i?`${i.firstName} ${i.lastName}`:"admin.create-new-administrator",link:[i?.id]}]})}),n.registerPageTab({priority:0,location:"role-list",tab:"breadcrumb.roles",route:"",component:Ls}),n.registerPageTab({priority:0,location:"role-detail",tab:"settings.role",route:"",component:xe({component:Bs,query:Hi,entityKey:"role",getBreadcrumbs:i=>[{label:i?i.description:"settings.create-new-role",link:[i?.id]}]})}),n.registerPageTab({priority:0,location:"shipping-method-list",tab:"breadcrumb.shipping-methods",route:"",component:Gs}),n.registerPageTab({priority:0,location:"shipping-method-detail",tab:"settings.shipping-method",route:"",component:xe({component:Ns,query:Wi,entityKey:"shippingMethod",getBreadcrumbs:i=>[{label:i?i.name:"settings.create-new-shipping-method",link:[i?.id]}]})}),n.registerPageTab({priority:0,location:"shipping-method-list",tab:"settings.test-shipping-methods",route:"test",component:Js}),n.registerPageTab({priority:0,location:"payment-method-list",tab:"breadcrumb.payment-methods",route:"",component:Ps}),n.registerPageTab({priority:0,location:"payment-method-detail",tab:"settings.payment-method",route:"",component:xe({component:Ts,query:Oi,entityKey:"paymentMethod",getBreadcrumbs:i=>[{label:i?i.name:"settings.create-new-payment-method",link:[i?.id]}]})}),n.registerPageTab({priority:0,location:"tax-category-list",tab:"breadcrumb.tax-categories",route:"",component:Ks}),n.registerPageTab({priority:0,location:"tax-category-detail",tab:"settings.tax-category",route:"",component:xe({component:js,query:rn,entityKey:"taxCategory",getBreadcrumbs:i=>[{label:i?i.name:"settings.create-new-tax-category",link:[i?.id]}]})}),n.registerPageTab({priority:0,location:"tax-rate-list",tab:"breadcrumb.tax-rates",route:"",component:Xs}),n.registerPageTab({priority:0,location:"tax-rate-detail",tab:"settings.tax-rate",route:"",component:xe({component:Qs,query:sn,entityKey:"taxRate",getBreadcrumbs:i=>[{label:i?i.name:"settings.create-new-tax-rate",link:[i?.id]}]})}),n.registerPageTab({priority:0,location:"country-list",tab:"breadcrumb.countries",route:"",component:bs}),n.registerPageTab({priority:0,location:"country-detail",tab:"settings.country",route:"",component:xe({component:vs,query:Ni,entityKey:"country",getBreadcrumbs:i=>[{label:i?i.name:"settings.create-new-country",link:[i?.id]}]})}),n.registerPageTab({priority:0,location:"zone-list",tab:"breadcrumb.zones",route:"",component:id}),n.registerPageTab({priority:0,location:"zone-detail",tab:"settings.zone",route:"",component:xe({component:ed,query:pn,entityKey:"zone",getBreadcrumbs:i=>[{label:i?i.name:"settings.create-new-zone",link:[i?.id]}]})}),n.registerPageTab({priority:0,location:"global-setting-detail",tab:"breadcrumb.global-settings",route:"",component:Fs}),n.registerPageTab({priority:0,location:"profile",tab:"breadcrumb.profile",route:"",component:xs}),n.registerPageTab({priority:0,location:"stock-location-list",tab:"catalog.stock-locations",route:"",component:Us}),n.registerPageTab({priority:0,location:"stock-location-detail",tab:"catalog.stock-location",route:"",component:xe({component:Zs,query:Xi,entityKey:"stockLocation",getBreadcrumbs:i=>[{label:i?i.name:"catalog.create-new-stock-location",link:[i?.id]}]})}),t.hasRegisteredTabsAndBulkActions=!0)}static{this.\u0275fac=function(n){return new(n||t)(Ke(xn),Ke(_t))}}static{this.\u0275mod=ii({type:t})}static{this.\u0275inj=Xt({providers:[{provide:Ci,useFactory:e=>od(e),multi:!0,deps:[_t]}],imports:[En,vi.forChild([])]})}}return t})();export{ms as AddCountryToZoneDialogComponent,us as AdminDetailComponent,hs as AdministratorListComponent,Xd as CREATE_STOCK_LOCATION,fs as ChannelDetailComponent,_s as ChannelListComponent,vs as CountryDetailComponent,bs as CountryListComponent,Ld as GET_ADMINISTRATOR_DETAIL,Ad as GET_ADMINISTRATOR_LIST,Ed as GET_CHANNEL_DETAIL,Md as GET_CHANNEL_LIST,$d as GET_COUNTRY_DETAIL,wd as GET_COUNTRY_LIST,Nd as GET_GLOBAL_SETTINGS_DETAIL,Rd as GET_PAYMENT_METHOD_DETAIL,Gd as GET_PAYMENT_METHOD_LIST,Zd as GET_PROFILE_DETAIL,qd as GET_ROLE_DETAIL,Hd as GET_ROLE_LIST,zd as GET_SELLER_DETAIL,jd as GET_SHIPPING_METHOD_DETAIL,Qd as GET_SHIPPING_METHOD_LIST,Yd as GET_STOCK_LOCATION_DETAIL,np as GET_STOCK_LOCATION_LIST,op as GET_TAX_CATEGORY_DETAIL,ap as GET_TAX_CATEGORY_LIST,rp as GET_TAX_RATE_DETAIL,lp as GET_TAX_RATE_LIST,sp as GET_ZONE_DETAIL,dp as GET_ZONE_LIST,kd as GET_ZONE_MEMBERS,Fs as GlobalSettingsComponent,Ts as PaymentMethodDetailComponent,Ps as PaymentMethodListComponent,Rn as PermissionGridComponent,xs as ProfileComponent,pp as ProfileResolver,Bs as RoleDetailComponent,Ls as RoleListComponent,As as SellerDetailComponent,Ms as SellerListComponent,cp as SettingsModule,$s as ShippingEligibilityTestResultComponent,Ns as ShippingMethodDetailComponent,Gs as ShippingMethodListComponent,ws as ShippingMethodTestResultComponent,Zs as StockLocationDetailComponent,Us as StockLocationListComponent,js as TaxCategoryDetailComponent,Ks as TaxCategoryListComponent,Qs as TaxRateDetailComponent,Xs as TaxRateListComponent,Vn as TestAddressFormComponent,On as TestOrderBuilderComponent,Js as TestShippingMethodsComponent,Jd as UPDATE_STOCK_LOCATION,ed as ZoneDetailComponent,id as ZoneListComponent,ps as ZoneMemberControlsDirective,Wt as ZoneMemberListComponent,cs as ZoneMemberListHeaderDirective,Is as assignPaymentMethodsToChannelBulkAction,Os as assignShippingMethodsToChannelBulkAction,Hs as assignStockLocationsToChannelBulkAction,od as createRoutes,gs as deleteAdministratorsBulkAction,Cs as deleteChannelsBulkAction,ys as deleteCountriesBulkAction,Ss as deletePaymentMethodsBulkAction,ks as deleteRolesBulkAction,Es as deleteSellersBulkAction,Rs as deleteShippingMethodsBulkAction,qs as deleteStockLocationsBulkAction,Ws as deleteTaxCategoriesBulkAction,Ys as deleteTaxRatesBulkAction,td as deleteZonesBulkAction,Ds as removePaymentMethodsFromChannelBulkAction,Vs as removeShippingMethodsFromChannelBulkAction,zs as removeStockLocationsFromChannelBulkAction,nd as removeZoneMembersBulkAction};
//# sourceMappingURL=chunk-ZBHTF6VS.js.map
